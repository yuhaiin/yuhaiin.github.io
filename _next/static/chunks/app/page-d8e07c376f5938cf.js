(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5049:function(t,e,n){Promise.resolve().then(n.bind(n,6662))},798:function(t,e,n){"use strict";n.d(e,{$f:function(){return f},Mj:function(){return y},Ti:function(){return u},U9:function(){return p},XE:function(){return g},YO:function(){return l},Z5:function(){return a},dn:function(){return s},fG:function(){return o},gU:function(){return c},gW:function(){return h},q$:function(){return _},r:function(){return d},rQ:function(){return r}});var o="",r="https://clients3.google.com/generate_204",c="dns.nextdns.io:853",l=!0,u="http://ip.sb",a="stun.syncthing.net:3478",s="stun.nextcloud.com:443";let i=()=>{let t=localStorage.getItem("api_url");o=null!==t?t:"",t=localStorage.getItem("remote_bypass"),null!==(t=localStorage.getItem("latency_http_url"))&&(r=t),null!==(t=localStorage.getItem("latency_dns_url"))&&(c=t),null!==(t=localStorage.getItem("latency_ipv6"))&&(l="true"===t),null!==(t=localStorage.getItem("latency_ip_url"))&&(u=t),null!==(t=localStorage.getItem("latency_stun_url"))&&(a=t),null!==(t=localStorage.getItem("latency_stun_tcp_url"))&&(s=t)},d=t=>{m("api_url",t)},f=t=>{m("latency_dns_url",t)},g=t=>{m("latency_http_url",t)},h=t=>{m("latency_ipv6",t.toString())},p=t=>{m("latency_ip_url",t)},y=t=>{m("latency_stun_url",t)},_=t=>{m("latency_stun_tcp_url",t)},m=(t,e)=>{""===e?localStorage.removeItem(t):localStorage.setItem(t,e),i()};i()},5594:function(t,e,n){"use strict";n.d(e,{D4:function(){return l},OV:function(){return u},Uo:function(){return a},o5:function(){return s}});var o=n(798),r=n(3334),c=n(4504);function l(t,e,n,l){return u=>l?(0,r.d)(t,l):fetch("".concat(o.fG).concat(u),{method:e,body:n}).then(async e=>{if(!e.ok)throw{code:e.status,msg:e.statusText,raw:e.text()};return(0,c.h4)(t,new Uint8Array(await e.arrayBuffer()))})}function u(t,e,n,r){return l=>fetch("".concat(o.fG).concat(l),{method:n,body:r}).then(async n=>{if(!n.ok)throw{code:n.status,msg:n.statusText,raw:n.text()};return e((0,c.h4)(t,new Uint8Array(await n.arrayBuffer())))})}let a=async(t,e)=>{let n=await fetch("".concat(o.fG).concat(t),{method:void 0!==e.method?e.method:"POST",body:e.body});return n.ok?void 0===e.process?{}:{data:e.process(n)}:{error:{code:n.status,msg:n.text()}}};function s(t,e,n){return(r,l)=>{let u,{next:a}=l,s=new URL(""!==o.fG?o.fG:window.location.toString());s.pathname=r,s.protocol="https:"===s.protocol?"wss:":"ws:";let i=!1,d=()=>{i||(console.log("connecting to: ".concat(s)),(u=new WebSocket(s)).binaryType="arraybuffer",u.addEventListener("open",e=>{console.log("connect to: ".concat(s,", event type: ").concat(e.type)),null==u||u.send(t)}),u.addEventListener("message",t=>{let o=(0,c.h4)(e,new Uint8Array(t.data));a(null,t=>n(t,o))}),u.addEventListener("error",t=>{let e="websocket have some error";a({msg:e,code:500}),console.log(e,t.type)}),u.addEventListener("close",t=>{console.log("websocket closed, code: "+t.code),a(null,void 0),i||(console.log("reconnect after 1 seconds"),setTimeout(d,1e3))}))};return d(),()=>{i=!0,void 0!==u&&(console.log("close: ".concat(r)),u.close(),u=void 0)}}}},6662:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return p}});var o=n(7437),r=n(9420),c=n(6263),l=n(5118),u=n(5594),a=n(914),s=n.n(a),i=n(9862),d=n(6256),f=n(8560),g=n(8805),h=function(){var t,e;let{data:n,error:a,isLoading:h}=(0,l.ZP)("/node/now",(0,u.D4)(i.bP));return void 0!==a?(0,o.jsx)(s(),{statusCode:a.code,title:a.msg}):h||void 0===n?(0,o.jsx)(c.Z,{}):(0,o.jsxs)("div",{children:[(0,o.jsxs)(r.Z,{className:"mb-3",children:[(0,o.jsx)(r.Z.Header,{children:"TCP"}),(0,o.jsx)(r.Z.Body,{children:(0,o.jsx)("pre",{children:(0,d.LQ)(g.tQ,null!==(t=n.tcp)&&void 0!==t?t:(0,f.U)(g.tQ,{}),{prettySpaces:2})})})]}),(0,o.jsxs)(r.Z,{className:"mb-3",children:[(0,o.jsx)(r.Z.Header,{children:"UDP"}),(0,o.jsx)(r.Z.Body,{children:(0,o.jsx)("pre",{children:(0,d.LQ)(g.tQ,null!==(e=n.udp)&&void 0!==e?e:(0,f.U)(g.tQ,{}),{prettySpaces:2})})})]})]})};function p(){return(0,o.jsx)("div",{children:(0,o.jsx)(h,{})})}}},function(t){t.O(0,[439,118,930,298,152,971,117,744],function(){return t(t.s=5049)}),_N_E=t.O()}]);