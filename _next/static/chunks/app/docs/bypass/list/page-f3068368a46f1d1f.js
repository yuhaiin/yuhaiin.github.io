(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3898],{1287:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>k});var l=t(5155),n=t(960),a=t(6487),r=t(1464),o=t(2115),i=t(6355),c=t(9056),d=t(902),u=t(8347),h=t(8054),m=t(1867),x=t(8468),v=t(2214),j=t(9169),g=t(1754),A=t(4086),p=t(8508),y=t(2358),f=t(6835),b=t(3697),C=t(9940),w=t(6878);function k(){let e=(0,o.useContext)(f.u),{data:s,error:t,isLoading:x,mutate:v}=(0,p.mp)(w.k8.method.list),[j,y]=(0,o.useState)({show:!1,name:"",new:!1}),[b,C]=(0,o.useState)({show:!1,name:""}),[k,E]=(0,o.useState)({value:""}),[F,S]=(0,o.useState)(!1);if(void 0!==t)return(0,l.jsx)(i.A,{className:"align-items-center",children:(0,l.jsx)(i.A.Body,{children:(0,l.jsx)(A.$,{statusCode:t.code,title:t.msg})})});if(x||void 0===s)return(0,l.jsx)(i.A,{className:"align-items-center",children:(0,l.jsx)(i.A.Body,{children:(0,l.jsx)(A.A,{})})});let P=s=>{(0,p.kP)(w.k8.method.remove,(0,n.v)(a.g8,{value:s})).then(async s=>{let{error:t}=s;if(void 0===t)e.Info("remove successful"),v();else{let s=t.msg;e.Error(s),console.error(t.code,s)}})};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(g.u,{show:b.show,content:(0,l.jsxs)(l.Fragment,{children:["Are you sure to delete ",b.name,"?"]}),onOk:()=>{P(b.name),C(e=>({...e,show:!1}))},onHide:()=>{C(e=>({...e,show:!1}))}}),(0,l.jsx)(N,{name:j.name,show:j.show,isNew:j.new,onHide:e=>{e&&v(),y(e=>({...e,show:!1}))}}),(0,l.jsxs)(i.A,{children:[0!==s.names.length&&(0,l.jsx)(c.A,{variant:"flush",style:{borderBottom:"none"},children:s.names.sort((e,s)=>e<=s?-1:1).map((e,s)=>(0,l.jsx)(o.Fragment,{children:(0,l.jsxs)(c.A.Item,{action:!0,className:"d-flex justify-content-between align-items-center",style:{border:"0ch",borderBottom:"1px solid #dee2e6"},onClick:s=>{s.stopPropagation(),y({show:!0,name:e,new:!1})},children:[e,"bootstrap"!==e&&(0,l.jsx)(d.A,{variant:"outline-danger",disabled:"bootstrap"===e,size:"sm",as:"span",onClick:s=>{s.stopPropagation(),C({show:!0,name:e})},children:(0,l.jsx)("i",{className:"bi bi-x-lg"})},s+"span-button")]})},"resolvers-"+s))}),(0,l.jsxs)(i.A.Footer,{className:"d-flex justify-content-between",children:[(0,l.jsxs)(u.A,{className:"d-flex justify-content-end",children:[(0,l.jsx)(h.A.Control,{value:k.value,onChange:e=>E({value:e.target.value})}),(0,l.jsxs)(d.A,{variant:"outline-success",onClick:()=>{!k.value||s.names.includes(k.value)||(j.name===k.value&&j.new?y(e=>({...e,show:!0})):y({show:!0,name:k.value,new:!0}))},children:[(0,l.jsx)("i",{className:"bi bi-plus-lg"}),"New "]})]}),(0,l.jsxs)(d.A,{className:"ms-2",variant:"outline-primary",disabled:F,onClick:()=>{S(!0),(0,p.kP)(w.k8.method.refresh,(0,n.v)(r.v)).then(async s=>{let{error:t}=s;if(void 0===t)e.Info("refresh successful");else{let s=t.msg;e.Error(s),console.error(t.code,s)}S(!1)})},children:[F&&(0,l.jsx)(m.A,{animation:"border",size:"sm"})," Refresh"]})]})]})]})}let N=e=>{let{name:s,show:t,isNew:r,onHide:i}=e,c=(0,o.useContext)(f.u),[u,h]=(0,o.useState)(!1),{data:v,error:g,isLoading:y,isValidating:b,mutate:k}=(0,j.Ay)(""===s?void 0:(0,p.cY)(w.k8.method.get),(0,p.AD)(w.k8.method.get,(0,n.v)(a.g8,{value:s}),r?(0,n.v)(C.cE,{name:s,listType:C.nX.host,list:{case:"local",value:(0,n.v)(C.y1,{lists:[]})}}):void 0),{shouldRetryOnError:!1,keepPreviousData:!1,revalidateOnFocus:!1});return(0,o.useEffect)(()=>{k()},[s,r,k]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(x.A,{show:t,onHide:i,centered:!0,children:[(0,l.jsx)(x.A.Header,{children:s}),(0,l.jsx)(x.A.Body,{children:g?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("h4",{className:"text-center my-2",children:[g.code," - ",g.msg]}),(0,l.jsx)("pre",{className:"text-center my-2 text-danger lead",children:g.raw})]}):b||y||!v?(0,l.jsx)(A.A,{}):(0,l.jsx)(E,{value:v,onChange:e=>{k(e,!1)}})}),(0,l.jsxs)(x.A.Footer,{children:[(0,l.jsx)(d.A,{variant:"outline-secondary",onClick:()=>{i()},children:"Close"}),(0,l.jsxs)(d.A,{variant:"outline-primary",disabled:u,onClick:()=>{h(!0),(0,p.kP)(w.k8.method.save,v).then(async e=>{let{error:s}=e;if(void 0===s)c.Info("save successful"),i(!0);else{let e=s.msg;c.Error(e),console.error(s.code,e)}k(),h(!1)})},children:[u&&(0,l.jsx)(m.A,{animation:"border",size:"sm"}),"    Save"]})]})]})})},E=e=>{let{value:s,onChange:t}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(y.Vx,{label:"Type",type:C.Qc,value:s.listType,onChange:e=>t({...s,listType:e})}),(0,l.jsx)(y.$d,{label:"Remote",checked:"remote"===s.list.case,onChange:e=>{let l="remote"===s.list.case?s.list.value.urls:s.list.value.lists;t({...s,list:e?{case:"remote",value:(0,n.v)(C.Xy,{urls:l})}:{case:"local",value:(0,n.v)(C.y1,{lists:l})}})}}),(0,l.jsx)(b.e9,{title:"List",data:"remote"===s.list.case?s.list.value.urls:s.list.value.lists,onChange:e=>{t({...s,list:"remote"===s.list.case?{case:"remote",value:(0,n.v)(C.Xy,{urls:e})}:{case:"local",value:(0,n.v)(C.y1,{lists:e})}})}}),s.errorMsgs.map((e,s)=>(0,l.jsx)(v.A,{className:"mt-2",variant:"danger",children:e},s))]})}},1754:(e,s,t)=>{"use strict";t.d(s,{u:()=>r});var l=t(5155),n=t(8468),a=t(902);let r=e=>{let{onOk:s,content:t,show:r,onHide:o}=e;return(0,l.jsxs)(n.A,{show:r,onHide:o,centered:!0,children:[(0,l.jsx)(n.A.Body,{children:t}),(0,l.jsxs)(n.A.Footer,{children:[(0,l.jsx)(a.A,{variant:"outline-secondary",onClick:()=>{o()},children:"Cancel"}),(0,l.jsx)(a.A,{variant:"outline-danger",onClick:()=>{s(),o()},children:"OK"})]})]})}},2358:(e,s,t)=>{"use strict";t.d(s,{$d:()=>o,FX:()=>d,Vx:()=>i,no:()=>c});var l=t(5155),n=t(8054),a=t(1846),r=t(8136);let o=e=>{let{label:s,checked:t,onChange:o,className:i}=e;return(0,l.jsxs)(n.A.Group,{as:a.A,className:i,children:[(0,l.jsx)(n.A.Label,{column:!0,sm:2,children:s}),(0,l.jsx)(r.A,{sm:10,className:"d-flex align-items-center",children:(0,l.jsx)(n.A.Check,{className:"d-flex align-items-center",type:"switch",checked:t,onChange:e=>o(e.target.checked)})})]})},i=e=>{var s;let{...t}=e;return(0,l.jsxs)(n.A.Group,{as:a.A,className:t.lastElem?"":"mb-2",children:[(0,l.jsx)(n.A.Label,{column:!0,sm:2,children:t.label}),(0,l.jsx)(r.A,{sm:10,children:(0,l.jsx)(n.A.Select,{value:t.value,onChange:e=>t.onChange(Number(e.target.value)),children:t.type.values.filter(null!=(s=t.filter)?s:()=>!0).map(e=>(0,l.jsx)("option",{value:e.number,children:t.format?t.format(e.number):e.name},e.number))})})]})},c=e=>{let{label:s,values:t,onChange:o,value:i,emptyChoose:c,lastElem:d}=e;return(0,l.jsxs)(n.A.Group,{as:a.A,className:d?"":"mb-2",children:[(0,l.jsx)(n.A.Label,{column:!0,sm:2,children:s}),(0,l.jsx)(r.A,{sm:10,children:(0,l.jsxs)(n.A.Select,{value:i,onChange:e=>o(e.target.value),children:[c&&(0,l.jsx)("option",{value:"",children:"Choose..."}),t.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})})]})},d=e=>{let{values:s,onChange:t,value:a,emptyChoose:r,format:o}=e;return(0,l.jsxs)(n.A.Select,{value:a,onChange:e=>t(e.target.value),children:[r&&(0,l.jsx)("option",{value:"",children:"Choose..."}),s.map(e=>{let s="string"==typeof e?e:e[0],t="string"==typeof e?e:e[1];return(0,l.jsx)("option",{value:t,children:o?o(s):s},s)})]})}},5972:(e,s,t)=>{Promise.resolve().then(t.bind(t,1287))},6835:(e,s,t)=>{"use strict";t.d(s,{u:()=>o,y:()=>i});var l=t(5155),n=t(2115),a=t(9376),r=t(6215);let o=(0,n.createContext)({Info:e=>{console.log(e)},Error:e=>{console.error(e)}}),i=e=>{let{children:s}=e,[t,i]=(0,n.useState)({value:{},index:0}),c=(e,s)=>i(t=>({value:{...t.value,[t.index]:{text:e,type:s}},index:t.index+1}));return(0,l.jsxs)(o.Provider,{value:{Info:e=>{console.log(e),c(e,"success")},Error:e=>{console.error(e),c(e,"danger")}},children:[(0,l.jsx)(a.A,{className:"p-3",position:"top-center",containerPosition:"fixed",style:{zIndex:999999},children:Object.entries(t.value).map(e=>{let[s,t]=e;return(0,l.jsxs)(r.A,{role:"alert","aria-live":"assertive",show:!0,bg:t.type,onClose:()=>{i(e=>{let t={...e.value};return delete t[s],{...e,value:t}})},"aria-atomic":"true",delay:4e3,autohide:!0,animation:!0,children:[(0,l.jsxs)(r.A.Header,{children:[(0,l.jsx)("strong",{className:"me-auto",children:"Notification"}),(0,l.jsx)("small",{className:"text-muted",children:"just now"})]}),(0,l.jsx)(r.A.Body,{className:"text-center",children:t.text})]},"toast"+s)})}),s]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[9279,9322,601,3779,5453,2362,2765,5402,3340,9631,626,6878,8441,1684,7358],()=>s(5972)),_N_E=e.O()}]);