(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5753],{1103:(e,s,a)=>{Promise.resolve().then(a.bind(a,1380))},1380:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>U});var l=a(5155),t=a(4965),n=a(1455),r=a(2902),o=a(2115),i=a(9300),c=a.n(i),d=a(7390);let u=o.forwardRef((e,s)=>{let{as:a="div",bsPrefix:t,className:n,direction:r,gap:o,...i}=e;t=(0,d.oU)(t,"horizontal"===r?"hstack":"vstack");let u=(0,d.gy)(),m=(0,d.Jm)();return(0,l.jsx)(a,{...i,ref:s,className:c()(n,t,...function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.Jy,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.ff,l=[];return Object.entries(e).forEach(e=>{let[t,n]=e;null!=n&&("object"==typeof n?s.forEach(e=>{let s=n[e];null!=s&&l.push("".concat(t).concat(e!==a?"-".concat(e):"","-").concat(s))}):l.push("".concat(t,"-").concat(n)))}),l}({gap:o},u,m))})});u.displayName="Stack";var m=a(6449),x=a(902),h=a(1867),v=a(4086),j=a(8508),p=a(6835),b=a(9940),g=a(6878),f=a(960),y=a(6355),A=a(9056),C=a(8054),N=a(1846),w=a(8136),R=a(8347),k=a(1754),S=a(2358),F=a(3697),V=a(2809),E=a(8468),P=a(9169);let I=(0,o.createContext)({Inbounds:[],Lists:[],Resolvers:[]}),O=e=>{let{rule:s,onUpdate:a,onRemove:t}=e,n=(e,s)=>{switch(e){case"host":a((0,f.v)(b.AZ,{object:{case:"host",value:(0,f.v)(b.g3,{list:s})}}));break;case"process":a((0,f.v)(b.AZ,{object:{case:"process",value:(0,f.v)(b.Lp,{list:s})}}));break;case"inbound":a((0,f.v)(b.AZ,{object:{case:"inbound",value:(0,f.v)(b.Zq,{name:s})}}))}},r=(0,o.useContext)(I);return(0,l.jsxs)(R.A,{className:"mb-3",children:[(0,l.jsxs)(C.A.Select,{value:s.object.case,onChange:e=>n(e.target.value,""),style:{flex:"0 0 25%"},children:[(0,l.jsx)("option",{value:"",children:"Select..."}),(0,l.jsx)("option",{value:"host",children:"Host"},"host"),(0,l.jsx)("option",{value:"process",children:"Process"},"process"),(0,l.jsx)("option",{value:"inbound",children:"Inbound"},"inbound")]}),"host"==s.object.case&&(0,l.jsxs)(C.A.Select,{value:-1==r.Lists.indexOf(s.object.value.list)?"":s.object.value.list,onChange:e=>n("host",e.target.value),children:[(0,l.jsx)("option",{value:"",children:"Choose..."}),r.Lists.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]}),"inbound"==s.object.case&&(0,l.jsxs)(C.A.Select,{value:-1==r.Inbounds.indexOf(s.object.value.name)?"":s.object.value.name,onChange:e=>n("inbound",e.target.value),children:[(0,l.jsx)("option",{value:"",children:"Choose..."}),r.Inbounds.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]}),"process"==s.object.case&&(0,l.jsx)(C.A.Control,{type:"text",value:s.object.value.list,onChange:e=>n("process",e.target.value)}),(0,l.jsx)(x.A,{variant:"outline-danger",onClick:t,children:(0,l.jsx)("i",{className:"bi bi-x-lg"})})]})},L=e=>{let{group:s,onUpdateGroup:a,onRemoveGroup:t}=e,n=(e,l)=>{a({...s,rules:[...s.rules.map((s,a)=>e===a?l:s)]})},r=e=>{if(1===s.rules.length)t();else{let l=s.rules.filter((s,a)=>a!==e);a({...s,rules:l})}};return(0,l.jsxs)("div",{className:"border p-3 rounded",children:[s.rules.map((e,a)=>(0,l.jsxs)(o.Fragment,{children:[(0,l.jsx)(O,{rule:e,onUpdate:e=>n(a,e),onRemove:()=>r(a)}),a<s.rules.length-1&&(0,l.jsx)("div",{className:"ms-3 mb-3 fw-bold",children:"And"})]},a)),(0,l.jsx)(x.A,{variant:"outline-primary",size:"sm",onClick:()=>{a({...s,rules:[...s.rules,(0,f.v)(b.AZ,{object:{case:"host",value:(0,f.v)(b.g3,{list:""})}})]})},children:"+ And"})]})},_=()=>(0,l.jsxs)("div",{className:"d-flex align-items-center my-3",children:[(0,l.jsx)("hr",{className:"flex-grow-1"}),(0,l.jsx)("span",{className:"mx-2 fw-bold text-muted",children:"Or"}),(0,l.jsx)("hr",{className:"flex-grow-1"})]}),q=e=>{let{groups:s,onUpdateGroups:a}=e,t=(e,l)=>{a([...s.map((s,a)=>e===a?l:s)])},n=e=>{a([...s.filter((s,a)=>a!==e)])};return(0,l.jsxs)(V.A,{className:"my-4 p-4 border rounded shadow-sm",children:[s.map((e,s)=>(0,l.jsxs)(o.Fragment,{children:[s>0&&(0,l.jsx)(_,{}),(0,l.jsx)(L,{group:e,onUpdateGroup:e=>t(s,e),onRemoveGroup:()=>n(s)})]},s)),(0,l.jsx)(x.A,{className:"mt-3",variant:"outline-success",onClick:()=>{a([...s,(0,f.v)(b.Ti,{rules:[(0,f.v)(b.AZ,{object:{case:"host",value:(0,f.v)(b.g3,{list:""})}})]})])},children:"+ Or"})]})},B=e=>{let{index:s,name:a,show:t,onHide:n}=e,i=(0,o.useContext)(p.u),[c,d]=(0,o.useState)(!1),{data:u,error:m,isLoading:y,isValidating:A,mutate:C}=(0,P.Ay)(""===a?void 0:(0,j.cY)(g.aO.method.get),(0,j.AD)(g.aO.method.get,(0,f.v)(g.df,{index:s,name:a})),{shouldRetryOnError:!1,keepPreviousData:!1,revalidateOnFocus:!1});(0,o.useEffect)(()=>{C()},[a,s,C]);let N=()=>{d(!0),(0,j.kP)(g.aO.method.save,(0,f.v)(g.wZ,{index:(0,f.v)(g.df,{index:s,name:a}),rule:u})).then(async e=>{let{error:s}=e;if(void 0===s)i.Info("remove successful"),C();else{let e=s.msg;i.Error(e),console.error(s.code,e)}d(!1)})},w=(0,o.useContext)(I);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(E.A,{show:t,scrollable:!0,"aria-labelledby":"contained-modal-title-vcenter",size:"xl",onHide:()=>{n()},centered:!0,children:[(0,l.jsx)(E.A.Header,{closeButton:!0,children:(0,l.jsx)(E.A.Title,{id:"contained-modal-title-vcenter",children:u?u.name:"Loading..."})}),(0,l.jsx)(E.A.Body,{children:m?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("h4",{className:"text-center my-2",children:[m.code," - ",m.msg]}),(0,l.jsx)("pre",{className:"text-center my-2 text-danger lead",children:m.raw})]}):A||y||!u?(0,l.jsx)(v.A,{}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(S.Vx,{label:"Mode",type:b.Ni,filter:e=>e.number!==b.Mq.bypass,value:u.mode,onChange:e=>C({...u,mode:e},!1)}),(0,l.jsx)(F.a9,{label:"Tag",value:u.tag,onChange:e=>C({...u,tag:e},!1)}),(0,l.jsx)(S.Vx,{label:"Resolve Strategy",type:b.kw,value:u.resolveStrategy,onChange:e=>C({...u,resolveStrategy:e},!1)}),(0,l.jsx)(S.Vx,{label:"UDP proxy Fqdn",type:b.ml,format:e=>e===b.f5.udp_proxy_fqdn_strategy_default?"global":b.f5[e],value:u.udpProxyFqdnStrategy,onChange:e=>C({...u,udpProxyFqdnStrategy:e},!1)}),(0,l.jsx)(S.no,{value:u.resolver,values:w.Resolvers,label:"Resolver",onChange:e=>C({...u,resolver:e},!1),emptyChoose:!0}),(0,l.jsx)(q,{groups:u.rules,onUpdateGroups:e=>{C({...u,rules:e},!1)}}),(0,l.jsx)("hr",{className:"my-4"}),(0,l.jsx)("h5",{children:"Current State (for Debugging):"}),(0,l.jsx)("pre",{style:{background:"#f8f9fa",padding:"15px",borderRadius:"5px"},children:(0,r.J7)(b.op,u,{prettySpaces:2})})]})}),(0,l.jsx)(E.A.Footer,{children:(0,l.jsxs)(x.A,{variant:"outline-primary",disabled:c,onClick:()=>{N()},children:[c&&(0,l.jsx)(h.A,{animation:"border",size:"sm"}),"    Save"]})})]})})},D=e=>{let{config:s,onChange:a,setModalData:t,resolvers:n}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(S.Vx,{label:"Mode",type:b.Ni,filter:e=>e.number!==b.Mq.bypass,value:s.mode,onChange:e=>a({...s,mode:e})}),(0,l.jsx)(F.a9,{label:"Tag",value:s.tag,onChange:e=>a({...s,tag:e})}),(0,l.jsx)(S.Vx,{label:"Resolve Strategy",type:b.kw,value:s.resolveStrategy,onChange:e=>a({...s,resolveStrategy:e})}),(0,l.jsx)(S.Vx,{label:"UDP proxy Fqdn",type:b.ml,format:e=>e===b.f5.udp_proxy_fqdn_strategy_default?"global":b.f5[e],value:s.udpProxyFqdnStrategy,onChange:e=>a({...s,udpProxyFqdnStrategy:e})}),(0,l.jsx)(S.no,{value:s.resolver,values:n,label:"Resolver",onChange:e=>a({...s,resolver:e}),emptyChoose:!0}),(0,l.jsx)(F.e9,{title:"IP/DOMAIN",data:s.hostname,onChange:e=>a({...s,hostname:e}),errorMsgs:s.errorMsgs,beforeContent:(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(m.A,{className:"mb-2 w-100",children:[(0,l.jsxs)(x.A,{variant:"outline-success",onClick:()=>{t({show:!0,import:!0,data:void 0,onSave:e=>{let l=JSON.parse(e);a({...s,hostname:[...s.hostname,...l]}),t(e=>({...e,show:!1}))}})},children:[(0,l.jsx)("i",{className:"bi bi-box-arrow-in-down"})," Import"]}),(0,l.jsxs)(x.A,{variant:"outline-success",onClick:()=>{t({show:!0,data:JSON.stringify(s.hostname,null,4),import:!1})},children:[(0,l.jsx)("i",{className:"bi bi-box-arrow-in-up"})," Export"]})]})})})]})},G=e=>{let{config:s,onChange:a}=e,t=()=>{switch(s.object.case){case"file":return"file";case"http":return"http";default:return""}},n=(e,s)=>{switch(e.object.case){case"file":e.object.value={...e.object.value,path:s};break;case"http":e.object.value={...e.object.value,url:s}}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(S.$d,{label:"Enabled",checked:s.enabled,onChange:()=>a({...s,enabled:!s.enabled})}),(0,l.jsx)(F.a9,{label:"Name",value:s.name,onChange:e=>a({...s,name:e})}),(0,l.jsxs)(C.A.Group,{as:N.A,className:"mb-3",children:[(0,l.jsx)(C.A.Label,{column:!0,sm:2,children:"Type"}),(0,l.jsx)(w.A,{sm:10,children:(0,l.jsx)(S.FX,{value:t(),values:["file","http"],onChange:e=>{if(t()==e)return;let l={...s};switch(e){case"file":l.object={case:"file",value:(0,f.v)(b.Uu,{})};break;case"http":l.object={case:"http",value:(0,f.v)(b.ie,{})}}a(l)}})})]}),(0,l.jsx)(F.a9,{className:"",label:"Value",value:(()=>{switch(s.object.case){case"file":return s.object.value.path;case"http":return s.object.value.url;default:return""}})(),errorMsg:s.errorMsg,onChange:e=>{let l={...s};n(l,e),a(l)}})]})},H=e=>{let{enabled:s,onChange:a}=e,t=(0,o.useContext)(p.u),n=(e,s)=>{(0,j.kP)(g.aO.method.remove,(0,f.v)(g.df,{name:s,index:e})).then(async e=>{let{error:s}=e;if(void 0===s)t.Info("remove successful"),L();else{let e=s.msg;t.Error(e),console.error(s.code,e)}})},[r,i]=(0,o.useState)(!1),c=e=>{i(!0),(0,j.kP)(g.aO.method.save,(0,f.v)(g.wZ,{rule:(0,f.v)(b.op,{name:e,mode:b.Mq.bypass,resolver:"",resolveStrategy:b.pI.default,tag:"",udpProxyFqdnStrategy:b.f5.udp_proxy_fqdn_strategy_default,rules:[]})})).then(async e=>{let{error:s}=e;if(void 0===s)t.Info("remove successful"),L();else{let e=s.msg;t.Error(e),console.error(s.code,e)}i(!1)})},[d,u]=(0,o.useState)({show:!1,index:0}),[h,N]=(0,o.useState)({show:!1,index:-1}),[w,F]=(0,o.useState)({value:""}),[V,E]=(0,o.useState)(!1),{data:P,error:I,isLoading:O,mutate:L}=(0,j.mp)(g.aO.method.list);if(void 0!==I)return(0,l.jsx)(y.A,{className:"align-items-center",children:(0,l.jsx)(y.A.Body,{children:(0,l.jsx)(v.$,{statusCode:I.code,title:I.msg})})});if(O||void 0===P)return(0,l.jsx)(y.A,{className:"align-items-center",children:(0,l.jsx)(y.A.Body,{children:(0,l.jsx)(v.A,{})})});let _=e=>0===e,q=e=>e===P.names.length-1,D=(e,s)=>{E(!0),(0,j.kP)(g.aO.method.change_priority,(0,f.v)(g.no,{source:(0,f.v)(g.df,{index:e,name:P.names[e]}),target:(0,f.v)(g.df,{index:s,name:P.names[s]})})).then(async e=>{let{error:s}=e;if(void 0===s)t.Info("change priority successful"),L();else{let e=s.msg;t.Error(e),console.error(s.code,e)}E(!1)})};return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(y.A,{className:"mt-3",children:[(0,l.jsx)(y.A.Header,{children:(0,l.jsx)(S.$d,{label:"Enabled",checked:s,onChange:()=>a(!s)})}),(0,l.jsx)(k.u,{show:h.show,content:(0,l.jsxs)("p",{children:["Delete ",h.index>=0&&P.names.length>h.index&&P.names[h.index],"?"]}),onHide:()=>N({...h,show:!1}),onOk:()=>{n(h.index,P.names[h.index])}}),(0,l.jsx)(B,{show:d.show,onHide:()=>{u({...d,show:!1})},name:(d.index>=0&&P.names.length)>d.index?P.names[d.index]:"",index:d.index}),(0,l.jsxs)(A.A,{variant:"flush",children:[P.names.map((e,s)=>(0,l.jsxs)(A.A.Item,{className:"align-items-center d-flex justify-content-between",style:{border:"0ch",borderBottom:"1px solid #dee2e6"},action:!0,onClick:()=>{u({show:!0,index:s})},children:[e,(0,l.jsxs)(m.A,{children:[!_(s)&&(0,l.jsx)(x.A,{disabled:V,variant:"outline-primary",as:"span",size:"sm",onClick:e=>{e.stopPropagation(),D(s,s-1)},children:(0,l.jsx)("i",{className:"bi bi-arrow-up"})}),!q(s)&&(0,l.jsx)(x.A,{variant:"outline-primary",as:"span",size:"sm",disabled:V,onClick:e=>{e.stopPropagation(),D(s,s+1)},children:(0,l.jsx)("i",{className:"bi bi-arrow-down"})}),(0,l.jsx)(x.A,{variant:"outline-danger",as:"span",size:"sm",onClick:e=>{e.stopPropagation(),N({show:!0,index:s})},children:(0,l.jsx)("i",{className:"bi-trash"})})]})]},s)),(0,l.jsx)(A.A.Item,{className:"d-flex",children:(0,l.jsxs)(R.A,{className:"d-flex justify-content-end",children:[(0,l.jsx)(C.A.Control,{value:w.value,onChange:e=>F({value:e.target.value})}),(0,l.jsxs)(x.A,{disabled:r,variant:"outline-success",onClick:()=>{!w.value||P.names.map(e=>e).includes(w.value)||c(w.value)},children:[(0,l.jsx)("i",{className:"bi bi-plus-lg"}),"New "]})]})})]})]})})},M=e=>{let{bypass:s,onChange:a,setModalData:t}=e,{data:n}=(0,j.mp)(g.L2.method.list),r=()=>n?n.names.sort((e,s)=>e.localeCompare(s)):[],i=(0,f.v)(b.eT,{hostname:["www.example.com"],mode:b.Mq.proxy,tag:"",resolveStrategy:b.pI.default}),c=(0,f.v)(b.Nm,{name:"my rule",enabled:!1,object:{case:"file",value:(0,f.v)(b.Uu,{})}}),[d,u]=(0,o.useState)({start:-1});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(y.A,{className:"mb-3",children:(0,l.jsxs)(y.A.Body,{children:[(0,l.jsx)(S.Vx,{label:"TCP",type:b.Ni,value:s.tcp,onChange:e=>a({...s,tcp:e})}),(0,l.jsx)(S.Vx,{lastElem:!0,label:"UDP",type:b.Ni,value:s.udp,onChange:e=>a({...s,udp:e})})]})}),(0,l.jsx)(y.A,{className:"mb-3",children:(0,l.jsxs)(y.A.Body,{children:[(0,l.jsx)(S.$d,{label:"Resolve Locally",checked:s.resolveLocally,onChange:()=>a({...s,resolveLocally:!s.resolveLocally})}),(0,l.jsx)(S.$d,{label:"Udp proxy Fqdn",checked:s.udpProxyFqdn===b.f5.skip_resolve,onChange:()=>a({...s,udpProxyFqdn:s.udpProxyFqdn===b.f5.skip_resolve?b.f5.resolve:b.f5.skip_resolve})}),(0,l.jsx)(S.no,{value:s.directResolver?s.directResolver:"direct",values:r(),label:"Direct Resolver",onChange:e=>a({...s,directResolver:e})}),(0,l.jsx)(S.no,{lastElem:!0,value:s.proxyResolver?s.proxyResolver:"proxy",values:r(),label:"Proxy Resolver",onChange:e=>a({...s,proxyResolver:e})})]})}),(0,l.jsx)(H,{enabled:s.enabledV2,onChange:e=>a({...s,enabledV2:e})}),(0,l.jsxs)("div",{className:"d-flex align-items-center my-3",children:[(0,l.jsx)("hr",{className:"flex-grow-1"}),(0,l.jsx)("span",{className:"mx-2 fw-bold text-muted",children:"DEPRECATED"}),(0,l.jsx)("hr",{className:"flex-grow-1"})]}),(0,l.jsx)(y.A,{children:(0,l.jsxs)(A.A,{variant:"flush",children:[s.remoteRules.map((e,t)=>(0,l.jsx)(o.Fragment,{children:(0,l.jsx)(F.mc,{as:A.A.Item,fold:!0,title:e.name,onClose:()=>a({...s,remoteRules:s.remoteRules.filter((e,s)=>s!==t)}),moveUpDown:new F.fH(s.remoteRules,t,e=>a({...s,remoteRules:e})),children:(0,l.jsx)(G,{config:e,onChange:e=>a({...s,remoteRules:[...s.remoteRules.slice(0,t),e,...s.remoteRules.slice(t+1)]})})})},"remote_rules"+t)),(0,l.jsx)(A.A.Item,{className:"d-flex",children:(0,l.jsxs)(x.A,{className:"flex-grow-1",variant:"outline-success",onClick:()=>a({...s,remoteRules:[...s.remoteRules,c]}),children:[(0,l.jsx)("i",{className:"bi bi-plus-lg mb-2"}),"New Remote Rule"]})})]})}),(0,l.jsx)(y.A,{className:"mt-3",children:(0,l.jsxs)(A.A,{variant:"flush",children:[s.customRuleV3.map((e,n)=>(0,l.jsx)(o.Fragment,{children:(0,l.jsx)(F.mc,{as:A.A.Item,fold:!0,title:""!==e.tag?e.tag:b.Mq[e.mode],onClose:()=>a({...s,customRuleV3:s.customRuleV3.filter((e,s)=>s!==n)}),moveUpDown:new F.fH(s.customRuleV3,n,e=>a({...s,customRuleV3:e}),{draggable:!0,onDrop:e=>{if(d.start!==e){let l=[...s.customRuleV3],t=l[d.start];l[d.start]=l[e],l[e]=t,a({...s,customRuleV3:l})}},onDragStart:e=>{u({start:e})}}),children:(0,l.jsx)(D,{config:e,onChange:e=>a({...s,customRuleV3:[...s.customRuleV3.slice(0,n),e,...s.customRuleV3.slice(n+1)]}),setModalData:t,resolvers:r()})})},"rule"+n)),(0,l.jsx)(A.A.Item,{className:"d-flex",children:(0,l.jsxs)(x.A,{className:"flex-grow-1",variant:"outline-success",onClick:()=>a({...s,customRuleV3:[...s.customRuleV3,i]}),children:[(0,l.jsx)("i",{className:"bi bi-plus-lg mb-2"}),"New Rule"]})})]})})]})},z=e=>{let{show:s,plaintext:a,data:t,onSave:n,onHide:r}=e,[i,c]=(0,o.useState)({data:""});return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(E.A,{show:s,"aria-labelledby":"contained-modal-title-vcenter",size:"xl",onHide:()=>{r()},centered:!0,children:[(0,l.jsx)(E.A.Body,{children:(0,l.jsx)(C.A.Control,{as:"textarea",readOnly:a,value:t||i.data,style:{height:"65vh",fontFamily:"monospace"},onChange:e=>{c({data:e.target.value})}})}),(0,l.jsxs)(E.A.Footer,{children:[(0,l.jsx)(x.A,{variant:"outline-secondary",onClick:()=>{r()},children:"Close"}),(0,l.jsx)(()=>n?(0,l.jsx)(x.A,{variant:"outline-primary",onClick:()=>{n&&n(i.data)},children:"Save"}):(0,l.jsx)(l.Fragment,{}),{})]})]})})},U=function(){let e=(0,o.useContext)(p.u),{data:s}=(0,j.mp)(g.k8.method.list,{revalidateOnFocus:!1}),{data:a}=(0,j.mp)(g.mz.method.list,{revalidateOnFocus:!1}),{data:i}=(0,j.mp)(g.L2.method.list,{revalidateOnFocus:!1}),[c,d]=(0,o.useState)(!1),[f,y]=(0,o.useState)(!1),[A,C]=(0,o.useState)({show:!1}),{data:N,error:w,isLoading:R,mutate:k}=(0,j.mp)(g.XH.method.load,{revalidateOnFocus:!1});return w?(0,l.jsx)(v.A,{code:w.code,children:w.msg}):R||!N?(0,l.jsx)(v.A,{}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(z,{onHide:()=>{C(e=>({...e,show:!1}))},show:A.show,plaintext:!A.import,data:A.data,onSave:A.onSave}),(0,l.jsx)(I,{value:{Inbounds:a?a.names:[],Lists:s?s.names:[],Resolvers:i?i.names.sort((e,s)=>e.localeCompare(s)):[]},children:(0,l.jsx)(M,{bypass:(0,t.o)(b.Qn,N),onChange:e=>{k(e,!1)},setModalData:C})}),(0,l.jsxs)(u,{gap:1,direction:"horizontal",className:"mt-2",children:[(0,l.jsxs)(m.A,{children:[(0,l.jsxs)(x.A,{variant:"outline-primary",disabled:c,onClick:()=>{d(!0),(0,j.kP)(g.XH.method.save,N).then(async s=>{let{error:a}=s;void 0!==a?e.Error("save config failed, ".concat(a.code,"| ").concat(a.msg)):(e.Info("Save Successfully"),k()),d(!1)})},children:[(0,l.jsx)("i",{className:"bi bi-floppy"})," Save",c&&(0,l.jsxs)(l.Fragment,{children:["\xa0",(0,l.jsx)(h.A,{size:"sm",animation:"border",variant:"primary"})]})]}),(0,l.jsxs)(x.A,{variant:"outline-primary",disabled:f,onClick:()=>{y(!0),(0,j.kP)(g.XH.method.reload).then(async s=>{let{error:a}=s;void 0!==a?e.Error("reload failed, ".concat(a.code,"| ").concat(a.msg)):(e.Info("Reload Successfully"),k()),y(!1)})},children:[(0,l.jsx)("i",{className:"bi bi-arrow-clockwise"})," Refresh Now",f&&(0,l.jsxs)(l.Fragment,{children:["\xa0",(0,l.jsx)(h.A,{size:"sm",animation:"border",variant:"primary"})]})]})]}),(0,l.jsxs)(m.A,{children:[(0,l.jsxs)(x.A,{variant:"outline-success",onClick:()=>{C({show:!0,import:!0,onSave:e=>{k((0,n.mj)(b.Qn,e),!1),C(e=>({...e,show:!1}))}})},children:[(0,l.jsx)("i",{className:"bi bi-box-arrow-in-down"})," Import"]}),(0,l.jsxs)(x.A,{variant:"outline-success",onClick:()=>{C({show:!0,data:(0,r.J7)(b.Qn,N,{prettySpaces:2})})},children:[(0,l.jsx)("i",{className:"bi bi-box-arrow-in-up"})," Export"]})]})]})]})}},1754:(e,s,a)=>{"use strict";a.d(s,{u:()=>r});var l=a(5155),t=a(8468),n=a(902);let r=e=>{let{onOk:s,content:a,show:r,onHide:o}=e;return(0,l.jsxs)(t.A,{show:r,onHide:o,centered:!0,children:[(0,l.jsx)(t.A.Body,{children:a}),(0,l.jsxs)(t.A.Footer,{children:[(0,l.jsx)(n.A,{variant:"outline-secondary",onClick:()=>{o()},children:"Cancel"}),(0,l.jsx)(n.A,{variant:"outline-danger",onClick:()=>{s(),o()},children:"OK"})]})]})}},2358:(e,s,a)=>{"use strict";a.d(s,{$d:()=>o,FX:()=>d,Vx:()=>i,no:()=>c});var l=a(5155),t=a(8054),n=a(1846),r=a(8136);let o=e=>{let{label:s,checked:a,onChange:o,className:i}=e;return(0,l.jsxs)(t.A.Group,{as:n.A,className:i,children:[(0,l.jsx)(t.A.Label,{column:!0,sm:2,children:s}),(0,l.jsx)(r.A,{sm:10,className:"d-flex align-items-center",children:(0,l.jsx)(t.A.Check,{className:"d-flex align-items-center",type:"switch",checked:a,onChange:e=>o(e.target.checked)})})]})},i=e=>{var s;let{...a}=e;return(0,l.jsxs)(t.A.Group,{as:n.A,className:a.lastElem?"":"mb-2",children:[(0,l.jsx)(t.A.Label,{column:!0,sm:2,children:a.label}),(0,l.jsx)(r.A,{sm:10,children:(0,l.jsx)(t.A.Select,{value:a.value,onChange:e=>a.onChange(Number(e.target.value)),children:a.type.values.filter(null!=(s=a.filter)?s:()=>!0).map(e=>(0,l.jsx)("option",{value:e.number,children:a.format?a.format(e.number):e.name},e.number))})})]})},c=e=>{let{label:s,values:a,onChange:o,value:i,emptyChoose:c,lastElem:d}=e;return(0,l.jsxs)(t.A.Group,{as:n.A,className:d?"":"mb-2",children:[(0,l.jsx)(t.A.Label,{column:!0,sm:2,children:s}),(0,l.jsx)(r.A,{sm:10,children:(0,l.jsxs)(t.A.Select,{value:i,onChange:e=>o(e.target.value),children:[c&&(0,l.jsx)("option",{value:"",children:"Choose..."}),a.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})})]})},d=e=>{let{values:s,onChange:a,value:n,emptyChoose:r,format:o}=e;return(0,l.jsxs)(t.A.Select,{value:n,onChange:e=>a(e.target.value),children:[r&&(0,l.jsx)("option",{value:"",children:"Choose..."}),s.map(e=>{let s="string"==typeof e?e:e[0],a="string"==typeof e?e:e[1];return(0,l.jsx)("option",{value:a,children:o?o(s):s},s)})]})}},2809:(e,s,a)=>{"use strict";a.d(s,{A:()=>c});var l=a(9300),t=a.n(l),n=a(2115),r=a(7390),o=a(5155);let i=n.forwardRef((e,s)=>{let{bsPrefix:a,fluid:l=!1,as:n="div",className:i,...c}=e,d=(0,r.oU)(a,"container");return(0,o.jsx)(n,{ref:s,...c,className:t()(i,l?"".concat(d).concat("string"==typeof l?"-".concat(l):"-fluid"):d)})});i.displayName="Container";let c=i},6835:(e,s,a)=>{"use strict";a.d(s,{u:()=>o,y:()=>i});var l=a(5155),t=a(2115),n=a(9376),r=a(6215);let o=(0,t.createContext)({Info:e=>{console.log(e)},Error:e=>{console.error(e)}}),i=e=>{let{children:s}=e,[a,i]=(0,t.useState)({value:{},index:0}),c=(e,s)=>i(a=>({value:{...a.value,[a.index]:{text:e,type:s}},index:a.index+1}));return(0,l.jsxs)(o.Provider,{value:{Info:e=>{console.log(e),c(e,"success")},Error:e=>{console.error(e),c(e,"danger")}},children:[(0,l.jsx)(n.A,{className:"p-3",position:"top-center",containerPosition:"fixed",style:{zIndex:999999},children:Object.entries(a.value).map(e=>{let[s,a]=e;return(0,l.jsxs)(r.A,{role:"alert","aria-live":"assertive",show:!0,bg:a.type,onClose:()=>{i(e=>{let a={...e.value};return delete a[s],{...e,value:a}})},"aria-atomic":"true",delay:4e3,autohide:!0,animation:!0,children:[(0,l.jsxs)(r.A.Header,{children:[(0,l.jsx)("strong",{className:"me-auto",children:"Notification"}),(0,l.jsx)("small",{className:"text-muted",children:"just now"})]}),(0,l.jsx)(r.A.Body,{className:"text-center",children:a.text})]},"toast"+s)})}),s]})}},9695:(e,s,a)=>{"use strict";a.d(s,{i:()=>n,w:()=>r});var l=a(131),t=a(928);let n=(0,l.w)("Ch9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvEg9nb29nbGUucHJvdG9idWYiKwoJVGltZXN0YW1wEg8KB3NlY29uZHMYASABKAMSDQoFbmFub3MYAiABKAVChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),r=(0,t.Z)(n,0)}},e=>{var s=s=>e(e.s=s);e.O(0,[9279,9322,180,3779,5453,2362,2765,5402,8684,7397,9631,626,6878,8441,1684,7358],()=>s(1103)),_N_E=e.O()}]);