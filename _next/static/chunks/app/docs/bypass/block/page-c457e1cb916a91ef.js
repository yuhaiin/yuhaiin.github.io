(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[755],{4355:(e,t,l)=>{Promise.resolve().then(l.bind(l,3878))},744:(e,t,l)=>{"use strict";l.d(t,{DH:()=>a,G_:()=>b,Ow:()=>u,Oz:()=>n,VN:()=>v,X3:()=>d,_s:()=>Z,dp:()=>m,h$:()=>g,kP:()=>c,mv:()=>h,oH:()=>s,r3:()=>o,u1:()=>r});var c="",n="https://clients3.google.com/generate_204",o="dns.nextdns.io:853",s=!0,a="http://ip.sb",r="stun.syncthing.net:3478",d="stun.nextcloud.com:443";let i=()=>{let e=localStorage.getItem("api_url");c=null!==e?e:"",e=localStorage.getItem("remote_bypass"),null!==(e=localStorage.getItem("latency_http_url"))&&(n=e),null!==(e=localStorage.getItem("latency_dns_url"))&&(o=e),null!==(e=localStorage.getItem("latency_ipv6"))&&(s="true"===e),null!==(e=localStorage.getItem("latency_ip_url"))&&(a=e),null!==(e=localStorage.getItem("latency_stun_url"))&&(r=e),null!==(e=localStorage.getItem("latency_stun_tcp_url"))&&(d=e)},u=e=>{p("api_url",e)},m=e=>{p("latency_dns_url",e)},b=e=>{p("latency_http_url",e)},h=e=>{p("latency_ipv6",e.toString())},g=e=>{p("latency_ip_url",e)},Z=e=>{p("latency_stun_url",e)},v=e=>{p("latency_stun_tcp_url",e)},p=(e,t)=>{""===t?localStorage.removeItem(e):localStorage.setItem(e,t),i()};i()},3878:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>v});var c=l(5155),n=l(2963),o=l(9141),s=l(4995),a=l(8927),r=l(6863),d=l(3577),i=l(9678),u=l(8170),m=l(9169),b=l(2115),h=l(700),g=l.n(h);let Z=(0,d.v)(i.w,{seconds:BigInt(0),nanos:0}),v=function(){var e;let[t,l]=(0,b.useState)("Time"),[d,i]=(0,b.useState)(1),h=e=>e===t?i(-d):l(e),v=e=>e===t?(0,c.jsx)("i",{className:-1===d?"bi bi-sort-up-alt":"bi bi-sort-down-alt"}):(0,c.jsx)(c.Fragment,{}),p=(e,t)=>e>t?-1*d:1*d,y=e=>(0,c.jsxs)("th",{className:g().clickable,onClick:()=>h(e),children:[e,v(e)]}),{data:W,error:Y,isLoading:x,mutate:A}=(0,s.Ay)("/bypass/block_history",(0,a.AD)(r.LH));return Y?(0,c.jsx)(m.A,{code:Y.code,children:Y.msg}):x||void 0===W?(0,c.jsx)(m.A,{}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.A,{variant:"outline-primary",className:"mb-3",onClick:()=>A(),children:"Refresh"}),(0,c.jsxs)(o.A,{hover:!0,striped:!0,size:"sm",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[y("Time"),(0,c.jsx)("th",{children:"Net"}),y("Host"),y("Count"),W.dumpProcessEnabled&&y("Proc")]})}),(0,c.jsx)("tbody",{className:"text-break",children:null==W?void 0:null===(e=W.objects)||void 0===e?void 0:e.filter(e=>e.time).sort((e,l)=>{var c,n;return"Host"===t?p(e.host,l.host):"Proc"===t?p(e.process,l.process):"Count"===t?p(e.blockCount,l.blockCount):p((0,u.FP)(null!==(c=e.time)&&void 0!==c?c:Z),(0,u.FP)(null!==(n=l.time)&&void 0!==n?n:Z))}).map((e,t)=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:(0,u.FP)(e.time).toLocaleString()}),(0,c.jsx)("td",{children:e.protocol}),(0,c.jsx)("td",{children:e.host}),(0,c.jsx)("td",{children:Number(e.blockCount)}),W.dumpProcessEnabled&&(0,c.jsx)("td",{children:e.process})]},"bh-"+t))})]})]})}},9169:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});var c=l(5155),n=l(4216),o=l(5554),s=l.n(o);let a=function(e){return(0,c.jsxs)("div",{className:"z-1090 d-flex flex-column justify-content-center align-items-center",style:{height:"100px"},children:[void 0!==e.children&&(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s(),{className:"p2",statusCode:void 0!==e.code?e.code:500,title:e.children})}),(0,c.jsx)("div",{className:"p2",children:(0,c.jsx)(n.A,{})})]})}},8927:(e,t,l)=>{"use strict";l.d(t,{AD:()=>s,EY:()=>a,Fp:()=>r,gR:()=>d});var c=l(744),n=l(950),o=l(6989);function s(e,t,l,s){return a=>s?(0,n.o)(e,s):fetch("".concat(c.kP).concat(a),{method:t,body:l}).then(async t=>{if(!t.ok)throw{code:t.status,msg:t.statusText,raw:t.text()};return(0,o.Er)(e,new Uint8Array(await t.arrayBuffer()))})}function a(e,t,l,n){return s=>fetch("".concat(c.kP).concat(s),{method:l,body:n}).then(async l=>{if(!l.ok)throw{code:l.status,msg:l.statusText,raw:l.text()};return t((0,o.Er)(e,new Uint8Array(await l.arrayBuffer())))})}let r=async(e,t)=>{let l=await fetch("".concat(c.kP).concat(e),{method:void 0!==t.method?t.method:"POST",body:t.body});return l.ok?void 0===t.process?{}:{data:t.process(l)}:{error:{code:l.status,msg:l.text()}}};function d(e,t,l){return(n,s)=>{let a,{next:r}=s,d=new URL(""!==c.kP?c.kP:window.location.toString());d.pathname=n,d.protocol="https:"===d.protocol?"wss:":"ws:";let i=!1,u=()=>{i||(console.log("connecting to: ".concat(d)),(a=new WebSocket(d)).binaryType="arraybuffer",a.addEventListener("open",t=>{console.log("connect to: ".concat(d,", event type: ").concat(t.type)),null==a||a.send(e)}),a.addEventListener("message",e=>{let c=(0,o.Er)(t,new Uint8Array(e.data));r(null,e=>l(e,c))}),a.addEventListener("error",e=>{let t="websocket have some error";r({msg:t,code:500}),console.log(t,e.type)}),a.addEventListener("close",e=>{console.log("websocket closed, code: "+e.code),r(null,void 0),i||(console.log("reconnect after 1 seconds"),setTimeout(u,1e3))}))};return u(),()=>{i=!0,void 0!==a&&(console.log("close: ".concat(n)),a.close(),a=void 0)}}}},6863:(e,t,l)=>{"use strict";l.d(t,{C$:()=>u,LH:()=>m});var c=l(6788),n=l(8123),o=l(878),s=l(4805),a=l(9297),r=l(1936),d=l(9678);let i=(0,c.w)("Chhjb25maWcvZ3JwYy9jb25maWcucHJvdG8SHXl1aGFpaW4ucHJvdG9zLmNvbmZpZy5zZXJ2aWNlImoKDXRlc3RfcmVzcG9uc2USKQoEbW9kZRgBIAEoCzIbLnl1aGFpaW4uYnlwYXNzLm1vZGVfY29uZmlnEg4KBnJlYXNvbhgCIAEoCRIeCgphZnRlcl9hZGRyGAMgASgJUgphZnRlcl9hZGRyIowBCg1ibG9ja19oaXN0b3J5EhAKCHByb3RvY29sGAEgASgJEgwKBGhvc3QYAiABKAkSKAoEdGltZRgDIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASDwoHcHJvY2VzcxgEIAEoCRIgCgtibG9ja19jb3VudBgFIAEoBFILYmxvY2tfY291bnQihwEKEmJsb2NrX2hpc3RvcnlfbGlzdBI9CgdvYmplY3RzGAEgAygLMiwueXVoYWlpbi5wcm90b3MuY29uZmlnLnNlcnZpY2UuYmxvY2tfaGlzdG9yeRIyChRkdW1wX3Byb2Nlc3NfZW5hYmxlZBgCIAEoCFIUZHVtcF9wcm9jZXNzX2VuYWJsZWQyuAEKDmNvbmZpZ19zZXJ2aWNlEjcKBGxvYWQSFi5nb29nbGUucHJvdG9idWYuRW1wdHkaFy55dWhhaWluLmNvbmZpZy5zZXR0aW5nEjcKBHNhdmUSFy55dWhhaWluLmNvbmZpZy5zZXR0aW5nGhYuZ29vZ2xlLnByb3RvYnVmLkVtcHR5EjQKBGluZm8SFi5nb29nbGUucHJvdG9idWYuRW1wdHkaFC55dWhhaWluLmNvbmZpZy5pbmZvMuICCgZieXBhc3MSNgoEbG9hZBIWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRoWLnl1aGFpaW4uYnlwYXNzLmNvbmZpZxI2CgRzYXZlEhYueXVoYWlpbi5ieXBhc3MuY29uZmlnGhYuZ29vZ2xlLnByb3RvYnVmLkVtcHR5EjgKBnJlbG9hZBIWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRoWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRJSCgR0ZXN0EhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlGiwueXVoYWlpbi5wcm90b3MuY29uZmlnLnNlcnZpY2UudGVzdF9yZXNwb25zZRJaCg1ibG9ja19oaXN0b3J5EhYuZ29vZ2xlLnByb3RvYnVmLkVtcHR5GjEueXVoYWlpbi5wcm90b3MuY29uZmlnLnNlcnZpY2UuYmxvY2tfaGlzdG9yeV9saXN0QjhaNmdpdGh1Yi5jb20vQXN1dG9ydWZhL3l1aGFpaW4vcGtnL3Byb3Rvcy9jb25maWcvc2VydmljZWIGcHJvdG8z",[o.Pr,s.qc,a.t,r.Ax,d.i]),u=(0,n.Z)(i,0),m=(0,n.Z)(i,2)},700:e=>{e.exports={clickable:"clickable_clickable__ytaUf"}},9537:(e,t,l)=>{"use strict";function c(e,t,...l){if(0==l.length)return e.enums[t];let n=l.pop();return l.reduce((e,t)=>e.nestedMessages[t],e.messages[t]).nestedEnums[n]}l.d(t,{R:()=>c})},1936:(e,t,l)=>{"use strict";l.d(t,{Ax:()=>o,g8:()=>s});var c=l(6788),n=l(8123);let o=(0,c.w)("Ch5nb29nbGUvcHJvdG9idWYvd3JhcHBlcnMucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIcCgtEb3VibGVWYWx1ZRINCgV2YWx1ZRgBIAEoASIbCgpGbG9hdFZhbHVlEg0KBXZhbHVlGAEgASgCIhsKCkludDY0VmFsdWUSDQoFdmFsdWUYASABKAMiHAoLVUludDY0VmFsdWUSDQoFdmFsdWUYASABKAQiGwoKSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoBSIcCgtVSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoDSIaCglCb29sVmFsdWUSDQoFdmFsdWUYASABKAgiHAoLU3RyaW5nVmFsdWUSDQoFdmFsdWUYASABKAkiGwoKQnl0ZXNWYWx1ZRINCgV2YWx1ZRgBIAEoDEKDAQoTY29tLmdvb2dsZS5wcm90b2J1ZkINV3JhcHBlcnNQcm90b1ABWjFnb29nbGUuZ29sYW5nLm9yZy9wcm90b2J1Zi90eXBlcy9rbm93bi93cmFwcGVyc3Bi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),s=(0,n.Z)(o,7)}},e=>{var t=t=>e(e.s=t);e.O(0,[607,235,995,459,878,441,517,358],()=>t(4355)),_N_E=e.O()}]);