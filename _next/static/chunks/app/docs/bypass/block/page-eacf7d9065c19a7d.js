(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[534],{7867:function(t,n,e){Promise.resolve().then(e.bind(e,9927))},798:function(t,n,e){"use strict";e.d(n,{$f:function(){return m},Mj:function(){return g},Ti:function(){return s},U9:function(){return Z},XE:function(){return b},YO:function(){return r},Z5:function(){return u},dn:function(){return i},fG:function(){return c},gU:function(){return l},gW:function(){return h},q$:function(){return v},r:function(){return d},rQ:function(){return o}});var c="",o="https://clients3.google.com/generate_204",l="dns.nextdns.io:853",r=!0,s="http://ip.sb",u="stun.syncthing.net:3478",i="stun.nextcloud.com:443";let a=()=>{let t=localStorage.getItem("api_url");c=null!==t?t:"",t=localStorage.getItem("remote_bypass"),null!==(t=localStorage.getItem("latency_http_url"))&&(o=t),null!==(t=localStorage.getItem("latency_dns_url"))&&(l=t),null!==(t=localStorage.getItem("latency_ipv6"))&&(r="true"===t),null!==(t=localStorage.getItem("latency_ip_url"))&&(s=t),null!==(t=localStorage.getItem("latency_stun_url"))&&(u=t),null!==(t=localStorage.getItem("latency_stun_tcp_url"))&&(i=t)},d=t=>{f("api_url",t)},m=t=>{f("latency_dns_url",t)},b=t=>{f("latency_http_url",t)},h=t=>{f("latency_ipv6",t.toString())},Z=t=>{f("latency_ip_url",t)},g=t=>{f("latency_stun_url",t)},v=t=>{f("latency_stun_tcp_url",t)},f=(t,n)=>{""===n?localStorage.removeItem(t):localStorage.setItem(t,n),a()};a()},9927:function(t,n,e){"use strict";e.r(n);var c=e(7437),o=e(4076),l=e(4273),r=e(5118),s=e(5594),u=e(4088),i=e(8560),a=e(1074),d=e(5645),m=e(6263),b=e(2265),h=e(7614),Z=e.n(h);let g=(0,i.U)(a.O,{seconds:BigInt(0),nanos:0});n.default=function(){var t;let[n,e]=(0,b.useState)("Time"),[i,a]=(0,b.useState)(1),h=t=>t===n?a(-i):e(t),v=t=>t===n?(0,c.jsx)("i",{className:-1===i?"bi bi-sort-up-alt":"bi bi-sort-down-alt"}):(0,c.jsx)(c.Fragment,{}),f=(t,n)=>t>n?-1*i:1*i,y=t=>(0,c.jsxs)("th",{className:Z().clickable,onClick:()=>h(t),children:[t,v(t)]}),{data:p,error:W,isLoading:Y,mutate:G}=(0,r.ZP)("/bypass/block_history",(0,s.D4)(u.JS));return W?(0,c.jsx)(m.Z,{code:W.code,children:W.msg}):Y||void 0===p?(0,c.jsx)(m.Z,{}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.Z,{variant:"outline-primary",className:"mb-3",onClick:()=>G(),children:"Refresh"}),(0,c.jsxs)(l.Z,{hover:!0,striped:!0,children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[y("Time"),(0,c.jsx)("th",{children:"Net"}),y("Host"),y("Count"),p.dumpProcessEnabled&&y("Proc")]})}),(0,c.jsx)("tbody",{className:"text-break",children:null==p?void 0:null===(t=p.objects)||void 0===t?void 0:t.filter(t=>t.time).sort((t,e)=>{var c,o;return"Host"===n?f(t.host,e.host):"Proc"===n?f(t.process,e.process):"Count"===n?f(t.blockCount,e.blockCount):f((0,d.r1)(null!==(c=t.time)&&void 0!==c?c:g),(0,d.r1)(null!==(o=e.time)&&void 0!==o?o:g))}).map((t,n)=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:(0,d.r1)(t.time).toLocaleString()}),(0,c.jsx)("td",{children:t.protocol}),(0,c.jsx)("td",{children:t.host}),(0,c.jsx)("td",{children:Number(t.blockCount)}),p.dumpProcessEnabled&&(0,c.jsx)("td",{children:t.process})]},"bh-"+n))})]})]})}},6263:function(t,n,e){"use strict";var c=e(7437),o=e(279),l=e(914),r=e.n(l);n.Z=function(t){return(0,c.jsxs)("div",{className:"z-1090 d-flex flex-column justify-content-center align-items-center",style:{height:"100px"},children:[void 0!==t.children&&(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(r(),{className:"p2",statusCode:void 0!==t.code?t.code:500,title:t.children})}),(0,c.jsx)("div",{className:"p2",children:(0,c.jsx)(o.Z,{})})]})}},5594:function(t,n,e){"use strict";e.d(n,{D4:function(){return r},OV:function(){return s},Uo:function(){return u},o5:function(){return i}});var c=e(798),o=e(3334),l=e(4504);function r(t,n,e,r){return s=>r?(0,o.d)(t,r):fetch("".concat(c.fG).concat(s),{method:n,body:e}).then(async n=>{if(!n.ok)throw{code:n.status,msg:n.statusText,raw:n.text()};return(0,l.h4)(t,new Uint8Array(await n.arrayBuffer()))})}function s(t,n,e,o){return r=>fetch("".concat(c.fG).concat(r),{method:e,body:o}).then(async e=>{if(!e.ok)throw{code:e.status,msg:e.statusText,raw:e.text()};return n((0,l.h4)(t,new Uint8Array(await e.arrayBuffer())))})}let u=async(t,n)=>{let e=await fetch("".concat(c.fG).concat(t),{method:void 0!==n.method?n.method:"POST",body:n.body});return e.ok?void 0===n.process?{}:{data:n.process(e)}:{error:{code:e.status,msg:e.text()}}};function i(t,n,e){return(o,r)=>{let s,{next:u}=r,i=new URL(""!==c.fG?c.fG:window.location.toString());i.pathname=o,i.protocol="https:"===i.protocol?"wss:":"ws:";let a=!1,d=()=>{a||(console.log("connecting to: ".concat(i)),(s=new WebSocket(i)).binaryType="arraybuffer",s.addEventListener("open",n=>{console.log("connect to: ".concat(i,", event type: ").concat(n.type)),null==s||s.send(t)}),s.addEventListener("message",t=>{let c=(0,l.h4)(n,new Uint8Array(t.data));u(null,t=>e(t,c))}),s.addEventListener("error",t=>{let n="websocket have some error";u({msg:n,code:500}),console.log(n,t.type)}),s.addEventListener("close",t=>{console.log("websocket closed, code: "+t.code),u(null,void 0),a||(console.log("reconnect after 1 seconds"),setTimeout(d,1e3))}))};return d(),()=>{a=!0,void 0!==s&&(console.log("close: ".concat(o)),s.close(),s=void 0)}}}},4088:function(t,n,e){"use strict";e.d(n,{JS:function(){return m},vr:function(){return d}});var c=e(7472),o=e(5369),l=e(5043),r=e(9301),s=e(2854),u=e(6535),i=e(1074);let a=(0,c.l)("Chhjb25maWcvZ3JwYy9jb25maWcucHJvdG8SHXl1aGFpaW4ucHJvdG9zLmNvbmZpZy5zZXJ2aWNlImoKDXRlc3RfcmVzcG9uc2USKQoEbW9kZRgBIAEoCzIbLnl1aGFpaW4uYnlwYXNzLm1vZGVfY29uZmlnEg4KBnJlYXNvbhgCIAEoCRIeCgphZnRlcl9hZGRyGAMgASgJUgphZnRlcl9hZGRyIowBCg1ibG9ja19oaXN0b3J5EhAKCHByb3RvY29sGAEgASgJEgwKBGhvc3QYAiABKAkSKAoEdGltZRgDIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASDwoHcHJvY2VzcxgEIAEoCRIgCgtibG9ja19jb3VudBgFIAEoBFILYmxvY2tfY291bnQihwEKEmJsb2NrX2hpc3RvcnlfbGlzdBI9CgdvYmplY3RzGAEgAygLMiwueXVoYWlpbi5wcm90b3MuY29uZmlnLnNlcnZpY2UuYmxvY2tfaGlzdG9yeRIyChRkdW1wX3Byb2Nlc3NfZW5hYmxlZBgCIAEoCFIUZHVtcF9wcm9jZXNzX2VuYWJsZWQyuAEKDmNvbmZpZ19zZXJ2aWNlEjcKBGxvYWQSFi5nb29nbGUucHJvdG9idWYuRW1wdHkaFy55dWhhaWluLmNvbmZpZy5zZXR0aW5nEjcKBHNhdmUSFy55dWhhaWluLmNvbmZpZy5zZXR0aW5nGhYuZ29vZ2xlLnByb3RvYnVmLkVtcHR5EjQKBGluZm8SFi5nb29nbGUucHJvdG9idWYuRW1wdHkaFC55dWhhaWluLmNvbmZpZy5pbmZvMuICCgZieXBhc3MSNgoEbG9hZBIWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRoWLnl1aGFpaW4uYnlwYXNzLmNvbmZpZxI2CgRzYXZlEhYueXVoYWlpbi5ieXBhc3MuY29uZmlnGhYuZ29vZ2xlLnByb3RvYnVmLkVtcHR5EjgKBnJlbG9hZBIWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRoWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRJSCgR0ZXN0EhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlGiwueXVoYWlpbi5wcm90b3MuY29uZmlnLnNlcnZpY2UudGVzdF9yZXNwb25zZRJaCg1ibG9ja19oaXN0b3J5EhYuZ29vZ2xlLnByb3RvYnVmLkVtcHR5GjEueXVoYWlpbi5wcm90b3MuY29uZmlnLnNlcnZpY2UuYmxvY2tfaGlzdG9yeV9saXN0QjhaNmdpdGh1Yi5jb20vQXN1dG9ydWZhL3l1aGFpaW4vcGtnL3Byb3Rvcy9jb25maWcvc2VydmljZWIGcHJvdG8z",[l.rx,r.GZ,s.r,u.hD,i.K]),d=(0,o.L)(a,0),m=(0,o.L)(a,2)},7614:function(t){t.exports={clickable:"clickable_clickable__ytaUf"}},3639:function(t,n,e){"use strict";function c(t,n,...e){if(0==e.length)return t.enums[n];let o=e.pop();return e.reduce((t,n)=>t.nestedMessages[n],t.messages[n]).nestedEnums[o]}e.d(n,{i:function(){return c}})},6535:function(t,n,e){"use strict";e.d(n,{hD:function(){return l},mV:function(){return r}});var c=e(7472),o=e(5369);let l=(0,c.l)("Ch5nb29nbGUvcHJvdG9idWYvd3JhcHBlcnMucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIcCgtEb3VibGVWYWx1ZRINCgV2YWx1ZRgBIAEoASIbCgpGbG9hdFZhbHVlEg0KBXZhbHVlGAEgASgCIhsKCkludDY0VmFsdWUSDQoFdmFsdWUYASABKAMiHAoLVUludDY0VmFsdWUSDQoFdmFsdWUYASABKAQiGwoKSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoBSIcCgtVSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoDSIaCglCb29sVmFsdWUSDQoFdmFsdWUYASABKAgiHAoLU3RyaW5nVmFsdWUSDQoFdmFsdWUYASABKAkiGwoKQnl0ZXNWYWx1ZRINCgV2YWx1ZRgBIAEoDEKDAQoTY29tLmdvb2dsZS5wcm90b2J1ZkINV3JhcHBlcnNQcm90b1ABWjFnb29nbGUuZ29sYW5nLm9yZy9wcm90b2J1Zi90eXBlcy9rbm93bi93cmFwcGVyc3Bi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),r=(0,o.L)(l,7)}},function(t){t.O(0,[470,439,118,394,43,971,117,744],function(){return t(t.s=7867)}),_N_E=t.O()}]);