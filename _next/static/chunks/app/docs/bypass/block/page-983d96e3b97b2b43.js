(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[755],{4355:(e,t,o)=>{Promise.resolve().then(o.bind(o,3878))},744:(e,t,o)=>{"use strict";o.d(t,{DH:()=>r,G_:()=>g,Ow:()=>u,Oz:()=>l,VN:()=>v,X3:()=>i,_s:()=>p,dp:()=>m,h$:()=>b,kP:()=>n,mv:()=>h,oH:()=>c,r3:()=>s,u1:()=>a});var n="",l="https://clients3.google.com/generate_204",s="dns.nextdns.io:853",c=!0,r="http://ip.sb",a="stun.syncthing.net:3478",i="stun.nextcloud.com:443";let d=()=>{let e=localStorage.getItem("api_url");n=null!==e?e:"",e=localStorage.getItem("remote_bypass"),null!==(e=localStorage.getItem("latency_http_url"))&&(l=e),null!==(e=localStorage.getItem("latency_dns_url"))&&(s=e),null!==(e=localStorage.getItem("latency_ipv6"))&&(c="true"===e),null!==(e=localStorage.getItem("latency_ip_url"))&&(r=e),null!==(e=localStorage.getItem("latency_stun_url"))&&(a=e),null!==(e=localStorage.getItem("latency_stun_tcp_url"))&&(i=e)},u=e=>{x("api_url",e)},m=e=>{x("latency_dns_url",e)},g=e=>{x("latency_http_url",e)},h=e=>{x("latency_ipv6",e.toString())},b=e=>{x("latency_ip_url",e)},p=e=>{x("latency_stun_url",e)},v=e=>{x("latency_stun_tcp_url",e)},x=(e,t)=>{""===t?localStorage.removeItem(e):localStorage.setItem(e,t),d()};d()},3878:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>v});var n=o(5155),l=o(2963),s=o(9141),c=o(4995),r=o(8927),a=o(6863),i=o(3577),d=o(9678),u=o(8170),m=o(9169),g=o(2115),h=o(700),b=o.n(h);let p=(0,i.v)(d.w,{seconds:BigInt(0),nanos:0}),v=function(){var e;let[t,o]=(0,g.useState)("Time"),[i,d]=(0,g.useState)(1),h=e=>e===t?d(-i):o(e),v=e=>e===t?(0,n.jsx)("i",{className:-1===i?"bi bi-sort-up-alt":"bi bi-sort-down-alt"}):(0,n.jsx)(n.Fragment,{}),x=(e,t)=>e>t?-1*i:1*i,y=e=>(0,n.jsxs)("th",{className:b().clickable,onClick:()=>h(e),children:[e,v(e)]}),{data:_,error:A,isLoading:S,mutate:k}=(0,c.Ay)("/bypass/block_history",(0,r.AD)(a.XH.method.block_history));return A?(0,n.jsx)(m.A,{code:A.code,children:A.msg}):S||void 0===_?(0,n.jsx)(m.A,{}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.A,{variant:"outline-primary",className:"mb-3",onClick:()=>k(),children:"Refresh"}),(0,n.jsxs)(s.A,{hover:!0,striped:!0,size:"sm",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[y("Time"),(0,n.jsx)("th",{children:"Net"}),y("Host"),y("Count"),_.dumpProcessEnabled&&y("Proc")]})}),(0,n.jsx)("tbody",{className:"text-break",children:null==_?void 0:null===(e=_.objects)||void 0===e?void 0:e.filter(e=>e.time).sort((e,o)=>{var n,l;return"Host"===t?x(e.host,o.host):"Proc"===t?x(e.process,o.process):"Count"===t?x(e.blockCount,o.blockCount):x((0,u.FP)(null!==(n=e.time)&&void 0!==n?n:p),(0,u.FP)(null!==(l=o.time)&&void 0!==l?l:p))}).map((e,t)=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,u.FP)(e.time).toLocaleString()}),(0,n.jsx)("td",{children:e.protocol}),(0,n.jsx)("td",{children:e.host}),(0,n.jsx)("td",{children:Number(e.blockCount)}),_.dumpProcessEnabled&&(0,n.jsx)("td",{children:e.process})]},"bh-"+t))})]})]})}},9169:(e,t,o)=>{"use strict";o.d(t,{A:()=>r});var n=o(5155),l=o(4216),s=o(5554),c=o.n(s);let r=function(e){return(0,n.jsxs)("div",{className:"z-1090 d-flex flex-column justify-content-center align-items-center",style:{height:"100px"},children:[void 0!==e.children&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(c(),{className:"p2",statusCode:void 0!==e.code?e.code:500,title:e.children})}),(0,n.jsx)("div",{className:"p2",children:(0,n.jsx)(l.A,{})})]})}},8927:(e,t,o)=>{"use strict";o.d(t,{AD:()=>r,gR:()=>i,kP:()=>a});var n=o(744),l=o(950),s=o(7558),c=o(6989);function r(e,t,o,r){return a=>r?(0,l.o)(e.output,r):fetch("".concat(n.kP).concat(a),{method:t,body:o?(0,s.R)(e.input,o):void 0}).then(async t=>{if(!t.ok)throw{code:t.status,msg:t.statusText,raw:t.text()};return(0,c.Er)(e.output,new Uint8Array(await t.arrayBuffer()))})}async function a(e,t,o,l){let r=await fetch("".concat(n.kP).concat(t),{method:o,body:l?(0,s.R)(e.input,l):void 0});return r.ok?{data:(0,c.Er)(e.output,new Uint8Array(await r.arrayBuffer()))}:{error:{code:r.status,msg:await r.text()}}}function i(e,t,o){return(l,s)=>{let r,{next:a}=s,i=new URL(""!==n.kP?n.kP:window.location.toString());i.pathname=l,i.protocol="https:"===i.protocol?"wss:":"ws:";let d=!1,u=()=>{d||(console.log("connecting to: ".concat(i)),(r=new WebSocket(i)).binaryType="arraybuffer",r.addEventListener("open",t=>{console.log("connect to: ".concat(i,", event type: ").concat(t.type)),null==r||r.send(e)}),r.addEventListener("message",e=>{let n=(0,c.Er)(t,new Uint8Array(e.data));a(null,e=>o(e,n))}),r.addEventListener("error",e=>{let t="websocket have some error";a({msg:t,code:500}),console.log(t,e.type)}),r.addEventListener("close",e=>{console.log("websocket closed, code: "+e.code),a(null,void 0),d||(console.log("reconnect after 1 seconds"),setTimeout(u,1e3))}))};return u(),()=>{d=!0,void 0!==r&&(console.log("close: ".concat(l)),r.close(),r=void 0)}}}},700:e=>{e.exports={clickable:"clickable_clickable__ytaUf"}},9537:(e,t,o)=>{"use strict";function n(e,t,...o){if(0==o.length)return e.enums[t];let l=o.pop();return o.reduce((e,t)=>e.nestedMessages[t],e.messages[t]).nestedEnums[l]}o.d(t,{R:()=>n})},1936:(e,t,o)=>{"use strict";o.d(t,{Ax:()=>s,g8:()=>c});var n=o(6788),l=o(8123);let s=(0,n.w)("Ch5nb29nbGUvcHJvdG9idWYvd3JhcHBlcnMucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIcCgtEb3VibGVWYWx1ZRINCgV2YWx1ZRgBIAEoASIbCgpGbG9hdFZhbHVlEg0KBXZhbHVlGAEgASgCIhsKCkludDY0VmFsdWUSDQoFdmFsdWUYASABKAMiHAoLVUludDY0VmFsdWUSDQoFdmFsdWUYASABKAQiGwoKSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoBSIcCgtVSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoDSIaCglCb29sVmFsdWUSDQoFdmFsdWUYASABKAgiHAoLU3RyaW5nVmFsdWUSDQoFdmFsdWUYASABKAkiGwoKQnl0ZXNWYWx1ZRINCgV2YWx1ZRgBIAEoDEKDAQoTY29tLmdvb2dsZS5wcm90b2J1ZkINV3JhcHBlcnNQcm90b1ABWjFnb29nbGUuZ29sYW5nLm9yZy9wcm90b2J1Zi90eXBlcy9rbm93bi93cmFwcGVyc3Bi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),c=(0,l.Z)(s,7)}},e=>{var t=t=>e(e.s=t);e.O(0,[607,295,995,923,863,441,517,358],()=>t(4355)),_N_E=e.O()}]);