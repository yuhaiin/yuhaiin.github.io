(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6943],{2673:(e,t,l)=>{Promise.resolve().then(l.bind(l,9990))},3641:(e,t,l)=>{"use strict";l.d(t,{DH:()=>r,G_:()=>h,Ow:()=>u,Oz:()=>a,VN:()=>x,X3:()=>d,_s:()=>p,dp:()=>m,h$:()=>v,kP:()=>n,mv:()=>g,oH:()=>o,r3:()=>s,u1:()=>c});let n="",a="https://clients3.google.com/generate_204",s="dns.nextdns.io:853",o=!0,r="http://ip.sb",c="stun.syncthing.net:3478",d="stun.nextcloud.com:443",i=()=>{let e=localStorage.getItem("api_url");n=null!==e?e:"",e=localStorage.getItem("remote_bypass"),null!==(e=localStorage.getItem("latency_http_url"))&&(a=e),null!==(e=localStorage.getItem("latency_dns_url"))&&(s=e),null!==(e=localStorage.getItem("latency_ipv6"))&&(o="true"===e),null!==(e=localStorage.getItem("latency_ip_url"))&&(r=e),null!==(e=localStorage.getItem("latency_stun_url"))&&(c=e),null!==(e=localStorage.getItem("latency_stun_tcp_url"))&&(d=e)},u=e=>{A("api_url",e)},m=e=>{A("latency_dns_url",e)},h=e=>{A("latency_http_url",e)},g=e=>{A("latency_ipv6",e.toString())},v=e=>{A("latency_ip_url",e)},p=e=>{A("latency_stun_url",e)},x=e=>{A("latency_stun_tcp_url",e)},A=(e,t)=>{""===t?localStorage.removeItem(e):localStorage.setItem(e,t),i()};i()},4086:(e,t,l)=>{"use strict";l.d(t,{$:()=>s,A:()=>o});var n=l(5155),a=l(1867);let s=e=>{let{statusCode:t,title:l,raw:a}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("p",{className:"fw-bold fs-3 text-center",children:[t," | ",(0,n.jsx)("a",{className:"text-reset text-decoration-none fs-6 fw-normal",children:l})]}),a&&(0,n.jsx)("pre",{className:"text-center my-2 text-danger lead",children:a})]})},o=function(e){return(0,n.jsxs)("div",{className:"z-1090 d-flex flex-column justify-content-center align-items-center",style:{height:"100px"},children:[void 0!==e.children&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s,{statusCode:void 0!==e.code?e.code:500,title:e.children})}),(0,n.jsx)("div",{className:"p2",children:(0,n.jsx)(a.A,{})})]})}},6835:(e,t,l)=>{"use strict";l.d(t,{u:()=>r,y:()=>c});var n=l(5155),a=l(2115),s=l(9376),o=l(6215);let r=(0,a.createContext)({Info:e=>{console.log(e)},Error:e=>{console.error(e)}}),c=e=>{let{children:t}=e,[l,c]=(0,a.useState)({value:{},index:0}),d=(e,t)=>c(l=>({value:{...l.value,[l.index]:{text:e,type:t}},index:l.index+1}));return(0,n.jsxs)(r.Provider,{value:{Info:e=>{console.log(e),d(e,"success")},Error:e=>{console.error(e),d(e,"danger")}},children:[(0,n.jsx)(s.A,{className:"p-3",position:"top-center",containerPosition:"fixed",style:{zIndex:999999},children:Object.entries(l.value).map(e=>{let[t,l]=e;return(0,n.jsxs)(o.A,{role:"alert","aria-live":"assertive",show:!0,bg:l.type,onClose:()=>{c(e=>{let l={...e.value};return delete l[t],{...e,value:l}})},"aria-atomic":"true",delay:4e3,autohide:!0,animation:!0,children:[(0,n.jsxs)(o.A.Header,{children:[(0,n.jsx)("strong",{className:"me-auto",children:"Notification"}),(0,n.jsx)("small",{className:"text-muted",children:"just now"})]}),(0,n.jsx)(o.A.Body,{className:"text-center",children:l.text})]},"toast"+t)})}),t]})}},8508:(e,t,l)=>{"use strict";l.d(t,{AD:()=>i,cY:()=>d,kP:()=>u,mp:()=>c,zZ:()=>m});var n=l(4965),a=l(9586),s=l(6398),o=l(9169),r=l(3641);function c(e,t){return(0,o.Ay)(d(e),i(e),t)}let d=e=>"/".concat(e.parent.typeName,"/").concat(e.name);function i(e,t,l){return()=>l?(0,n.o)(e.output,l):fetch("".concat(r.kP).concat(d(e)),{method:"POST",body:t?(0,a.R)(e.input,t):void 0}).then(async t=>{if(!t.ok)throw{code:t.status,msg:t.statusText,raw:t.text()};return(0,s.Er)(e.output,new Uint8Array(await t.arrayBuffer()))})}async function u(e,t){let l=await fetch("".concat(r.kP).concat(d(e)),{method:"POST",body:t?(0,a.R)(e.input,t):void 0});return l.ok?{data:(0,s.Er)(e.output,new Uint8Array(await l.arrayBuffer()))}:{error:{code:l.status,msg:await l.text()}}}function m(e,t,l){return(n,o)=>{let c,{next:i}=o,u=new URL(""!==r.kP?r.kP:window.location.toString());u.pathname=d(e),u.protocol="https:"===u.protocol?"wss:":"ws:";let m=!1,h=()=>{m||(console.log("connecting to: ".concat(u)),(c=new WebSocket(u)).binaryType="arraybuffer",c.addEventListener("open",l=>{console.log("connect to: ".concat(u,", event type: ").concat(l.type)),null==c||c.send((0,a.R)(e.input,t))}),c.addEventListener("message",t=>{let n=(0,s.Er)(e.output,new Uint8Array(t.data));i(null,e=>l(n,e))}),c.addEventListener("error",e=>{let t="websocket have some error";i({msg:t,code:500}),console.log(t,e.type)}),c.addEventListener("close",e=>{console.log("websocket closed, code: "+e.code+", isClosed: ",m),i(null,void 0),!m&&(console.log("reconnect after 2 seconds"),setTimeout(()=>h(),2e3))}))};return h(),()=>{m=!0,void 0!==c&&(console.log("close: ".concat(n)),c.close(),c=void 0)}}}},9966:(e,t,l)=>{"use strict";l.d(t,{AT:()=>s});var n=l(131),a=l(8059);let s=(0,n.w)("CiFnb29nbGUvcHJvdG9idWYvZ29fZmVhdHVyZXMucHJvdG8SAnBiIvcECgpHb0ZlYXR1cmVzEqUBChpsZWdhY3lfdW5tYXJzaGFsX2pzb25fZW51bRgBIAEoCEKAAYgBAZgBBpgBAaIBCRIEdHJ1ZRiEB6IBChIFZmFsc2UY5weyAVsI6AcQ6AcaU1RoZSBsZWdhY3kgVW5tYXJzaGFsSlNPTiBBUEkgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIGVkaXRpb24uEmoKCWFwaV9sZXZlbBgCIAEoDjIXLnBiLkdvRmVhdHVyZXMuQVBJTGV2ZWxCPogBAZgBA5gBAaIBGhIVQVBJX0xFVkVMX1VOU1BFQ0lGSUVEGIQHogEPEgpBUElfT1BBUVVFGOkHsgEDCOgHEmsKEXN0cmlwX2VudW1fcHJlZml4GAMgASgOMh4ucGIuR29GZWF0dXJlcy5TdHJpcEVudW1QcmVmaXhCMIgBAZgBBpgBB5gBAaIBGxIWU1RSSVBfRU5VTV9QUkVGSVhfS0VFUBiEB7IBAwjpByJTCghBUElMZXZlbBIZChVBUElfTEVWRUxfVU5TUEVDSUZJRUQQABIMCghBUElfT1BFThABEg4KCkFQSV9IWUJSSUQQAhIOCgpBUElfT1BBUVVFEAMikgEKD1N0cmlwRW51bVByZWZpeBIhCh1TVFJJUF9FTlVNX1BSRUZJWF9VTlNQRUNJRklFRBAAEhoKFlNUUklQX0VOVU1fUFJFRklYX0tFRVAQARIjCh9TVFJJUF9FTlVNX1BSRUZJWF9HRU5FUkFURV9CT1RIEAISGwoXU1RSSVBfRU5VTV9QUkVGSVhfU1RSSVAQAzo8CgJnbxIbLmdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0GOoHIAEoCzIOLnBiLkdvRmVhdHVyZXNSAmdvQi9aLWdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2dvZmVhdHVyZXNwYg",[a.PX])},9990:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>U});var n=l(5155),a=l(960),s=l(136),o=l.n(s),r=l(2115),c=l(1846),d=l(8136),i=l(6355),u=l(6449),m=l(902),h=l(1867),g=l(9051),v=l(2362),p=l(4342),x=l(8054),A=l(4086),B=l(8508),y=l(6835),V=l(8580),f=l(4920);let U=function(){let[e,t]=(0,r.useState)({}),[l,s]=(0,r.useState)((0,a.v)(f.Yk,{name:"",url:"",type:f.NW.reserve})),{data:U,error:j,isLoading:I,mutate:k}=(0,B.mp)(V.B1.method.get),E=(0,r.useContext)(y.u);if(void 0!==j)return(0,n.jsx)(o(),{statusCode:j.code,title:j.msg});if(I||void 0===U)return(0,n.jsx)(A.A,{});let b=l=>{t({...e,[l]:!0}),(0,B.kP)(V.B1.method.update,(0,a.v)(V.tA,{names:[l]})).then(async n=>{let{error:a}=n;void 0!==a?E.Error("Update failed ".concat(a.code,"| ").concat(a.msg)):E.Info("Update successfully"),t({...e,[l]:!1})})},S=e=>{(0,B.kP)(V.B1.method.remove,(0,a.v)(V.tA,{names:[e]})).then(async t=>{let{error:l}=t;void 0!==l?E.Error("delete ".concat(e," failed, ").concat(l.code,"| ").concat(l.msg)):k()})};return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(c.A,{className:"row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4",children:[U.links&&Object.entries(U.links).sort((e,t)=>e<=t?-1:1).map(t=>{let[l,a]=t;return(0,n.jsx)(d.A,{className:"mb-3",children:(0,n.jsxs)(i.A,{className:"h-100",children:[(0,n.jsx)(i.A.Header,{children:a.name}),(0,n.jsx)(i.A.Body,{children:a.url}),(0,n.jsxs)(u.A,{as:i.A.Footer,className:"d-flex",children:[(0,n.jsxs)(m.A,{variant:"outline-primary",onClick:()=>b(a.name),disabled:e[a.name],className:"w-100",children:[e[a.name]&&(0,n.jsx)(h.A,{size:"sm",animation:"border",variant:"primary"}),"Update"]}),(0,n.jsxs)(g.A,{onSelect:e=>{"ok"===e&&S(a.name)},as:u.A,variant:"outline-danger",title:"Remove",className:"w-100",children:[(0,n.jsx)(v.A.Item,{eventKey:"ok",children:"OK"}),(0,n.jsx)(v.A.Item,{eventKey:"cancel",children:"Cancel"})]})]})]})},l)}),(0,n.jsx)(d.A,{className:"mb-3",children:(0,n.jsxs)(i.A,{className:"h-100",children:[(0,n.jsx)(i.A.Header,{children:"Add"}),(0,n.jsxs)(i.A.Body,{children:[(0,n.jsx)(p.A,{label:"Name",className:"mb-3",children:(0,n.jsx)(x.A.Control,{placeholder:"group1",value:l.name,onChange:e=>s((0,a.v)(f.Yk,{...l,name:e.target.value}))})}),(0,n.jsx)(p.A,{label:"Link",className:"mb-3",children:(0,n.jsx)(x.A.Control,{placeholder:"https://www.example.com",value:l.url,onChange:e=>s((0,a.v)(f.Yk,{...l,url:e.target.value}))})})]}),(0,n.jsx)(u.A,{as:i.A.Footer,children:(0,n.jsx)(m.A,{variant:"outline-primary",onClick:async()=>{""!==l.name&&""!==l.url&&(0,B.kP)(V.B1.method.save,(0,a.v)(V.bT,{links:[l]})).then(async e=>{let{error:t}=e;void 0!==t?E.Error("save link ".concat(l.url," failed, ").concat(t.code,"| ").concat(t.msg)):k()})},children:"ADD"})})]})})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[9279,9322,180,3779,5453,2362,5171,2170,8580,8441,1684,7358],()=>t(2673)),_N_E=e.O()}]);