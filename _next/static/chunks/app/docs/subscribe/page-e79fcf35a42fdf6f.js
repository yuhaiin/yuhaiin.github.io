(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[129],{7637:function(e,n,s){Promise.resolve().then(s.bind(s,9798))},1159:function(e,n,s){"use strict";s.d(n,{P:function(){return o},t:function(){return i}});var t=s(7437),r=s(2265),a=s(8620),l=s(1529);let o=(0,r.createContext)({Info:e=>{},Error:e=>{}}),i=e=>{let{children:n}=e,[s,i]=(0,r.useState)({value:{},index:0}),c=(e,n)=>i(s=>({value:{...s.value,[s.index]:{text:e,type:n}},index:s.index+1}));return(0,t.jsxs)(o.Provider,{value:{Info:e=>{console.log(e),c(e,"success")},Error:e=>{console.error(e),c(e,"danger")}},children:[(0,t.jsx)(a.Z,{className:"p-3",position:"top-center",containerPosition:"fixed",style:{zIndex:999999},children:Object.entries(s.value).map(e=>{let[n,r]=e;return(0,t.jsxs)(l.Z,{role:"alert","aria-live":"assertive",show:!0,bg:r.type,onClose:()=>{let e=s.value;delete e[n],i({...s,value:e}),console.log("close: "+n)},"aria-atomic":"true",delay:4e3,autohide:!0,animation:!0,children:[(0,t.jsxs)(l.Z.Header,{children:[(0,t.jsx)("strong",{className:"me-auto",children:"Notification"}),(0,t.jsx)("small",{className:"text-muted",children:"just now"})]}),(0,t.jsx)(l.Z.Body,{className:"text-center",children:r.text})]},"toast"+n)})}),n]})}},9798:function(e,n,s){"use strict";s.r(n);var t=s(7437),r=s(2265),a=s(358),l=s(6712),o=s(7185),i=s(3181),c=s(2808),d=s(2514),u=s(8785),m=s(5554),h=s(5374),x=s(7420),v=s(716),f=s(1159),j=s(1617),p=s(879),Z=s(6264),b=s.n(Z),g=s(1462),y=s(3056),N=s(8537),w=s(6878);n.default=function(){let[e,n]=(0,r.useState)({}),[s,Z]=(0,r.useState)((0,N.U)(g.Me,{name:"",url:"",type:g.dt.reserve})),{data:C,error:k,isLoading:E,mutate:O}=(0,j.ZP)("/sublist",(0,p.D4)(y.q_)),U=(0,r.useContext)(f.P);if(void 0!==k)return(0,t.jsx)(b(),{statusCode:k.code,title:k.msg});if(E||void 0===C)return(0,t.jsx)(v.Z,{});let P=s=>{n({...e,[s]:!0}),(0,p.Uo)("/sub",{method:"PATCH",body:(0,w.O)(y.F8,(0,N.U)(y.F8,{names:[s]}))}).then(async t=>{let{error:r}=t;void 0!==r?U.Error("Update failed ".concat(r.code,"| ").concat(await r.msg)):U.Info("Update successfully"),n({...e,[s]:!1})})},F=e=>{(0,p.Uo)("/sub",{method:"DELETE",body:(0,w.O)(y.F8,(0,N.U)(y.F8,{names:[e]}))}).then(async n=>{let{error:s}=n;void 0!==s?U.Error("delete ".concat(e," failed, ").concat(s.code,"| ").concat(await s.msg)):O()})};return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(a.Z,{className:"row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4",children:[C.links&&Object.entries(C.links).sort((e,n)=>e<=n?-1:1).map(n=>{let[s,r]=n;return(0,t.jsx)(l.Z,{className:"mb-3",children:(0,t.jsxs)(o.Z,{className:"h-100",children:[(0,t.jsx)(o.Z.Header,{children:r.name}),(0,t.jsx)(o.Z.Body,{children:r.url}),(0,t.jsxs)(i.Z,{as:o.Z.Footer,className:"d-flex",children:[(0,t.jsxs)(c.Z,{variant:"outline-primary",onClick:()=>P(r.name),disabled:e[r.name],className:"w-100",children:[e[r.name]&&(0,t.jsx)(d.Z,{size:"sm",animation:"border",variant:"primary"}),"Update"]}),(0,t.jsxs)(u.Z,{onSelect:e=>{"ok"===e&&F(r.name)},as:i.Z,variant:"outline-danger",title:"Remove",className:"w-100",children:[(0,t.jsx)(m.Z.Item,{eventKey:"ok",children:"OK"}),(0,t.jsx)(m.Z.Item,{eventKey:"cancel",children:"Cancel"})]})]})]})},s)}),(0,t.jsx)(l.Z,{className:"mb-3",children:(0,t.jsxs)(o.Z,{className:"h-100",children:[(0,t.jsx)(o.Z.Header,{children:"Add"}),(0,t.jsxs)(o.Z.Body,{children:[(0,t.jsx)(h.Z,{label:"Name",className:"mb-3",children:(0,t.jsx)(x.Z.Control,{placeholder:"group1",value:s.name,onChange:e=>Z((0,N.U)(g.Me,{...s,name:e.target.value}))})}),(0,t.jsx)(h.Z,{label:"Link",className:"mb-3",children:(0,t.jsx)(x.Z.Control,{placeholder:"https://www.example.com",value:s.url,onChange:e=>Z((0,N.U)(g.Me,{...s,url:e.target.value}))})})]}),(0,t.jsx)(i.Z,{as:o.Z.Footer,children:(0,t.jsx)(c.Z,{variant:"outline-primary",onClick:async()=>{""!==s.name&&""!==s.url&&(0,p.Uo)("/sub",{body:(0,w.O)(y.o8,(0,N.U)(y.o8,{links:[s]}))}).then(async e=>{let{error:n}=e;void 0!==n?U.Error("save link ".concat(s.url," failed, ").concat(n.code,"| ").concat(await n.msg)):O()})},children:"ADD"})})]})})]})})}},8785:function(e,n,s){"use strict";s.d(n,{Z:function(){return x}});var t=s(2265),r=s(1448),a=s.n(r),l=s(5554),o=s(3868),i=s(6852);let c=a().oneOf(["start","end"]),d=a().oneOfType([c,a().shape({sm:c}),a().shape({md:c}),a().shape({lg:c}),a().shape({xl:c}),a().shape({xxl:c}),a().object]);var u=s(7437);let m={id:a().string,href:a().string,onClick:a().func,title:a().node.isRequired,disabled:a().bool,align:d,menuRole:a().string,renderMenuOnMount:a().bool,rootCloseEvent:a().string,menuVariant:a().oneOf(["dark"]),flip:a().bool,bsPrefix:a().string,variant:a().string,size:a().string},h=t.forwardRef((e,n)=>{let{title:s,children:t,bsPrefix:r,rootCloseEvent:a,variant:c,size:d,menuRole:m,renderMenuOnMount:h,disabled:x,href:v,id:f,menuVariant:j,flip:p,...Z}=e;return(0,u.jsxs)(l.Z,{ref:n,...Z,children:[(0,u.jsx)(o.Z,{id:f,href:v,size:d,variant:c,disabled:x,childBsPrefix:r,children:s}),(0,u.jsx)(i.Z,{role:m,renderOnMount:h,rootCloseEvent:a,variant:j,flip:p,children:t})]})});h.displayName="DropdownButton",h.propTypes=m;var x=h}},function(e){e.O(0,[823,113,481,466,262,364,784,971,23,744],function(){return e(e.s=7637)}),_N_E=e.O()}]);