(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[129],{8844:function(e,n,a){Promise.resolve().then(a.bind(a,2148))},6347:function(e,n,a){"use strict";a.d(n,{P:function(){return c},t:function(){return o}});var s=a(7437),t=a(2265),l=a(8215),r=a(9023);let c=(0,t.createContext)({Info:e=>{},Error:e=>{}}),o=e=>{let{children:n}=e,[a,o]=(0,t.useState)({value:{},index:0}),i=(e,n)=>{o(a=>(a.value[a.index]={text:e,type:n},a.index++,{...a}))};return(0,s.jsxs)(c.Provider,{value:{Info:e=>{console.log(e),i(e,"success")},Error:e=>{console.error(e),i(e,"danger")}},children:[(0,s.jsx)(r.Z,{className:"p-3",position:"top-center",containerPosition:"fixed",style:{zIndex:1},children:Object.entries(a.value).map(e=>{let[n,t]=e;return(0,s.jsxs)(l.Z,{role:"alert","aria-live":"assertive",show:!0,bg:t.type,onClose:()=>{let e=a.value;delete e[n],o({...a,value:e}),console.log("close: "+n)},"aria-atomic":"true",delay:4e3,autohide:!0,animation:!0,children:[(0,s.jsxs)(l.Z.Header,{children:[(0,s.jsx)("strong",{className:"me-auto",children:"Notification"}),(0,s.jsx)("small",{className:"text-muted",children:"just now"})]}),(0,s.jsx)(l.Z.Body,{className:"text-center",children:t.text})]},"toast"+n)})}),n]})}},7601:function(e,n,a){"use strict";a.d(n,{Jg:function(){return i},NZ:function(){return o},Vf:function(){return c}});var s=a(7437),t=a(733),l=a(1329),r=a(4665);let c=e=>(0,s.jsxs)(t.Z.Group,{as:l.Z,className:"mb-3",children:[(0,s.jsx)(t.Z.Label,{column:!0,sm:2,className:"nowrap",children:e.label}),(0,s.jsx)(r.Z,{sm:10,children:(0,s.jsx)(t.Z.Control,{value:e.value,plaintext:e.plaintext,onChange:n=>void 0!==e.onChange&&e.onChange(n.target.value)})})]}),o=e=>(0,s.jsxs)(t.Z.Group,{as:l.Z,className:"mb-3",children:[(0,s.jsx)(t.Z.Label,{column:!0,sm:2,className:"nowrap",children:e.label}),(0,s.jsx)(r.Z,{sm:10,children:(0,s.jsx)(t.Z.Control,{as:"textarea",rows:5,value:e.value,onChange:n=>e.onChange(n.target.value)})})]}),i=e=>(0,s.jsxs)(t.Z.Group,{as:l.Z,className:"mb-3",children:[(0,s.jsx)(t.Z.Label,{column:!0,sm:2,children:e.label}),(0,s.jsx)(r.Z,{sm:10,className:"d-flex align-items-center",children:(0,s.jsx)(t.Z.Check,{className:"d-flex align-items-center",type:"switch",checked:e.checked,onChange:()=>e.onChange()})})]})},2148:function(e,n,a){"use strict";a.r(n);var s=a(7437),t=a(2265),l=a(4297),r=a(3518),c=a(733),o=a(5503),i=a(7223),d=a(3536),u=a(4860),h=a(3701),m=a(1308),x=a(7601),j=a(6347),v=a(780),Z=a(8724),f=a(713),b=a(6934),g=a(1375),p=a.n(g);n.default=function(){let[e,n]=(0,t.useState)({}),[a,g]=(0,t.useState)({value:!1}),[y,C]=(0,t.useState)({name:"",url:"",type:Z.dt.reserve}),{data:k,error:N,isLoading:E,mutate:w}=(0,f.ZP)("/sublist",(0,b.hW)(v.pe)),L=(0,t.useContext)(j.P);return void 0!==N?(0,s.jsx)(p(),{statusCode:N.code,title:N.msg}):E||void 0===k?(0,s.jsx)(m.Z,{}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.Z,{className:"mb-3",children:[(0,s.jsx)(o.Z,{variant:"flush",children:Object.entries(k.links).sort((e,n)=>e<=n?-1:1).map(a=>{let[t,l]=a;return(0,s.jsxs)(o.Z.Item,{as:"label",style:{border:"0ch",borderBottom:"1px solid #dee2e6"},children:[(0,s.jsx)(c.Z.Check,{inline:!0,type:"checkbox",checked:void 0!==e[l.name]&&e[l.name],onChange:e=>{n(n=>(n[l.name]=e.target.checked,{...n}))}}),(0,s.jsx)(i.Z,{overlay:(0,s.jsx)(d.Z,{children:(0,s.jsx)(d.Z.Body,{children:l.url})}),children:(0,s.jsx)("span",{children:l.name})})]},l.name)})}),(0,s.jsxs)(h.Z,{children:[(0,s.jsxs)(l.Z,{variant:"outline-primary",className:"me-1",disabled:a.value,onClick:()=>{g({value:!0}),(0,b.Uo)("/sub",{method:"PATCH",body:v.DL.encode({names:Object.keys(e).filter(n=>e[n])}).finish()}).then(async e=>{let{error:n}=e;void 0!==n?L.Error("Update failed ".concat(n.code,"| ").concat(await n.msg)):L.Info("Update successfully"),g({value:!1})})},children:[a.value&&(0,s.jsx)(u.Z,{animation:"border",size:"sm"}),"UPDATE"]}),(0,s.jsx)(l.Z,{variant:"outline-danger",onClick:()=>{(0,b.Uo)("/sub",{method:"DELETE",body:v.DL.encode({names:Object.keys(e).filter(n=>e[n])}).finish()}).then(async n=>{let{error:a}=n;void 0!==a?L.Error("delete ".concat(Object.keys(e)," failed, ").concat(a.code,"| ").concat(await a.msg)):w()})},children:"DELETE"})]})]}),(0,s.jsx)(r.Z,{children:(0,s.jsxs)(r.Z.Body,{children:[(0,s.jsx)(x.Vf,{label:"Name",value:y.name,onChange:e=>C({...y,name:e})}),(0,s.jsx)(x.Vf,{label:"Link",value:y.url,onChange:e=>C({...y,url:e})}),(0,s.jsx)(l.Z,{variant:"outline-primary",onClick:async()=>{""!==y.name&&""!==y.url&&(0,b.Uo)("/sub",{body:v.O1.encode({links:[y]}).finish()}).then(async e=>{let{error:n}=e;void 0!==n?L.Error("save link ".concat(y.url," failed, ").concat(n.code,"| ").concat(await n.msg)):w()})},children:"ADD"})]})})]})}}},function(e){e.O(0,[359,441,331,895,8,508,722,750,874,236,971,596,744],function(){return e(e.s=8844)}),_N_E=e.O()}]);