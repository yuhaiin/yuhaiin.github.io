(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[129],{8844:function(e,n,s){Promise.resolve().then(s.bind(s,2148))},6347:function(e,n,s){"use strict";s.d(n,{P:function(){return r},t:function(){return c}});var a=s(7437),t=s(2265),l=s(8215),o=s(9023);let r=(0,t.createContext)({Info:e=>{},Error:e=>{}}),c=e=>{let{children:n}=e,[s,c]=(0,t.useState)({value:{},index:0}),i=(e,n)=>{c(s=>(s.value[s.index]={text:e,type:n},s.index++,{...s}))};return(0,a.jsxs)(r.Provider,{value:{Info:e=>{console.log(e),i(e,"success")},Error:e=>{console.error(e),i(e,"danger")}},children:[(0,a.jsx)(o.Z,{className:"p-3",position:"top-center",containerPosition:"fixed",style:{zIndex:1},children:Object.entries(s.value).map(e=>{let[n,t]=e;return(0,a.jsxs)(l.Z,{role:"alert","aria-live":"assertive",show:!0,bg:t.type,onClose:()=>{let e=s.value;delete e[n],c({...s,value:e}),console.log("close: "+n)},"aria-atomic":"true",delay:4e3,autohide:!0,animation:!0,children:[(0,a.jsxs)(l.Z.Header,{children:[(0,a.jsx)("strong",{className:"me-auto",children:"Notification"}),(0,a.jsx)("small",{className:"text-muted",children:"just now"})]}),(0,a.jsx)(l.Z.Body,{className:"text-center",children:t.text})]},"toast"+n)})}),n]})}},7601:function(e,n,s){"use strict";s.d(n,{Jg:function(){return i},NZ:function(){return c},Vf:function(){return r}});var a=s(7437),t=s(733),l=s(1329),o=s(4665);let r=e=>(0,a.jsxs)(t.Z.Group,{as:l.Z,className:"mb-3",children:[(0,a.jsx)(t.Z.Label,{column:!0,sm:2,className:"nowrap",children:e.label}),(0,a.jsx)(o.Z,{sm:10,children:(0,a.jsx)(t.Z.Control,{value:e.value,plaintext:e.plaintext,onChange:n=>void 0!==e.onChange&&e.onChange(n.target.value)})})]}),c=e=>(0,a.jsxs)(t.Z.Group,{as:l.Z,className:"mb-3",children:[(0,a.jsx)(t.Z.Label,{column:!0,sm:2,className:"nowrap",children:e.label}),(0,a.jsx)(o.Z,{sm:10,children:(0,a.jsx)(t.Z.Control,{as:"textarea",rows:5,value:e.value,onChange:n=>e.onChange(n.target.value)})})]}),i=e=>(0,a.jsxs)(t.Z.Group,{as:l.Z,className:"mb-3",children:[(0,a.jsx)(t.Z.Label,{column:!0,sm:2,children:e.label}),(0,a.jsx)(o.Z,{sm:10,className:"d-flex align-items-center",children:(0,a.jsx)(t.Z.Check,{className:"d-flex align-items-center",type:"switch",checked:e.checked,onChange:()=>e.onChange()})})]})},2148:function(e,n,s){"use strict";s.r(n);var a=s(7437),t=s(2265),l=s(4297),o=s(3518),r=s(733),c=s(5503),i=s(7223),u=s(3536),d=s(4860),h=s(3701),m=s(4337),x=s(1308),f=s(7601),j=s(6347),v=s(780),Z=s(8724),b=s(713),g=s(6934),p=s(1375),y=s.n(p);n.default=function(){let[e,n]=(0,t.useState)({}),[s,p]=(0,t.useState)({value:!1}),[C,k]=(0,t.useState)({name:"",url:"",type:Z.dt.reserve}),{data:N,error:w,isLoading:E,mutate:P}=(0,b.ZP)("/sublist",(0,g.hW)(v.pe)),L=(0,t.useContext)(j.P);return void 0!==w?(0,a.jsx)(y(),{statusCode:w.code,title:w.msg}):E||void 0===N?(0,a.jsx)(x.Z,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o.Z,{className:"mb-3",children:[(0,a.jsx)(c.Z,{variant:"flush",children:Object.entries(N.links).sort((e,n)=>e<=n?-1:1).map(s=>{let[t,l]=s;return(0,a.jsxs)(c.Z.Item,{as:"label",style:{border:"0ch",borderBottom:"1px solid #dee2e6"},children:[(0,a.jsx)(r.Z.Check,{inline:!0,type:"checkbox",checked:void 0!==e[l.name]&&e[l.name],onChange:e=>{n(n=>(n[l.name]=e.target.checked,{...n}))}}),(0,a.jsx)(i.Z,{overlay:(0,a.jsx)(u.Z,{children:(0,a.jsx)(u.Z.Body,{children:l.url})}),children:(0,a.jsx)("span",{children:l.name})})]},l.name)})}),(0,a.jsxs)(h.Z,{children:[(0,a.jsxs)(l.Z,{variant:"outline-primary",className:"me-1",disabled:s.value,onClick:async()=>{p({value:!0});let n=await fetch("".concat(m.f,"/sub"),{method:"PATCH",body:v.DL.encode({names:Object.keys(e).filter(n=>e[n])}).finish()});if(p({value:!1}),n.ok)L.Info("Update successfully"),console.log("Update successfully");else{let e=await n.text();L.Error("Update failed. ".concat(e)),console.log(e)}},children:[s.value&&(0,a.jsx)(d.Z,{animation:"border",size:"sm"}),"UPDATE"]}),(0,a.jsx)(l.Z,{variant:"outline-danger",onClick:async()=>{let n=await fetch("".concat(m.f,"/sub"),{method:"DELETE",body:v.DL.encode({names:Object.keys(e).filter(n=>e[n])}).finish()});n.ok?(P(),console.log("delete successful")):console.log(await n.text())},children:"DELETE"})]})]}),(0,a.jsx)(o.Z,{children:(0,a.jsxs)(o.Z.Body,{children:[(0,a.jsx)(f.Vf,{label:"Name",value:C.name,onChange:e=>k({...C,name:e})}),(0,a.jsx)(f.Vf,{label:"Link",value:C.url,onChange:e=>k({...C,url:e})}),(0,a.jsx)(l.Z,{variant:"outline-primary",onClick:async()=>{if(""===C.name||""===C.url)return;let e=await fetch("".concat(m.f,"/sub"),{method:"POST",body:v.O1.encode({links:[C]}).finish()});e.ok?(P(),console.log("add successful")):console.log(await e.text())},children:"ADD"})]})})]})}}},function(e){e.O(0,[701,331,521,8,481,508,735,750,954,971,596,744],function(){return e(e.s=8844)}),_N_E=e.O()}]);