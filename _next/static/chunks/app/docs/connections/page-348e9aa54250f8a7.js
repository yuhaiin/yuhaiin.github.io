(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[831],{4475:function(e,t,n){Promise.resolve().then(n.bind(n,3448))},4337:function(e,t,n){"use strict";let o;n.d(t,{f:function(){return a},r:function(){return r}});var a="";let r=e=>{""!==e?localStorage.setItem("api_url",e):localStorage.removeItem("api_url"),a=e};a=null!==(o=localStorage.getItem("api_url"))?o:""},1308:function(e,t,n){"use strict";var o=n(7437),a=n(4860),r=n(1375),i=n.n(r);t.Z=function(e){return(0,o.jsxs)("div",{className:"z-1090 d-flex flex-column justify-content-center align-items-center",style:{height:"100px"},children:[void 0!==e.children&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(i(),{className:"p2",statusCode:void 0!==e.code?e.code:500,title:e.children})}),(0,o.jsx)("div",{className:"p2",children:(0,o.jsx)(a.Z,{})})]})}},6934:function(e,t,n){"use strict";n.d(t,{$7:function(){return r},Q3:function(){return i},hW:function(){return a}});var o=n(4337);function a(e){return t=>fetch("".concat(o.f).concat(t)).then(async t=>{if(!t.ok)throw{code:t.status,msg:t.statusText,raw:t.text()};return e.decode(new Uint8Array(await t.arrayBuffer()))})}let r=e=>fetch("".concat(o.f).concat(e)).then(e=>{if(!e.ok)throw{code:e.status,msg:e.statusText,raw:e.text()};return e.json()}),i=e=>fetch("".concat(o.f).concat(e)).then(async e=>{if(!e.ok)throw{code:e.status,msg:e.statusText,raw:e.text()};return JSON.stringify(await e.json(),null,"  ")})},3448:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ev}});var o,a,r=n(7437),i=n(2265),l=n(4297),c=n(3518),d=n(5503),s=n(4440),u=n.n(s),f=n(4061),p=n(6376),y=n(8413),v=n(7496),m=n(7410),h=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(e=>null!=e).reduce((e,t)=>{if("function"!=typeof t)throw Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];e.apply(this,o),t.apply(this,o)}},null)},x=n(9079),w=n(6216);let _={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function g(e,t){let n="offset".concat(e[0].toUpperCase()).concat(e.slice(1)),o=t[n],a=_[e];return o+parseInt((0,y.Z)(t,a[0]),10)+parseInt((0,y.Z)(t,a[1]),10)}let N={[v.Wj]:"collapse",[v.Ix]:"collapsing",[v.d0]:"collapsing",[v.cn]:"collapse show"},k=i.forwardRef((e,t)=>{let{onEnter:n,onEntering:o,onEntered:a,onExit:l,onExiting:c,className:d,children:s,dimension:f="height",in:p=!1,timeout:y=300,mountOnEnter:v=!1,unmountOnExit:_=!1,appear:k=!1,getDimensionValue:j=g,...b}=e,E="function"==typeof f?f():f,S=(0,i.useMemo)(()=>h(e=>{e.style[E]="0"},n),[E,n]),O=(0,i.useMemo)(()=>h(e=>{let t="scroll".concat(E[0].toUpperCase()).concat(E.slice(1));e.style[E]="".concat(e[t],"px")},o),[E,o]),Z=(0,i.useMemo)(()=>h(e=>{e.style[E]=null},a),[E,a]),C=(0,i.useMemo)(()=>h(e=>{e.style[E]="".concat(j(E,e),"px"),(0,x.Z)(e)},l),[l,j,E]),R=(0,i.useMemo)(()=>h(e=>{e.style[E]=null},c),[E,c]);return(0,r.jsx)(w.Z,{ref:t,addEndListener:m.Z,...b,"aria-expanded":b.role?p:null,onEnter:S,onEntering:O,onEntered:Z,onExit:C,onExiting:R,childRef:s.ref,in:p,timeout:y,mountOnEnter:v,unmountOnExit:_,appear:k,children:(e,t)=>i.cloneElement(s,{...t,className:u()(d,s.props.className,N[e],"width"===E&&"collapse-horizontal")})})});function j(e,t){return Array.isArray(e)?e.includes(t):e===t}let b=i.createContext({});b.displayName="AccordionContext";let E=i.forwardRef((e,t)=>{let{as:n="div",bsPrefix:o,className:a,children:l,eventKey:c,...d}=e,{activeEventKey:s}=(0,i.useContext)(b);return o=(0,p.vE)(o,"accordion-collapse"),(0,r.jsx)(k,{ref:t,in:j(s,c),...d,className:u()(a,o),children:(0,r.jsx)(n,{children:i.Children.only(l)})})});E.displayName="AccordionCollapse";let S=i.createContext({eventKey:""});S.displayName="AccordionItemContext";let O=i.forwardRef((e,t)=>{let{as:n="div",bsPrefix:o,className:a,onEnter:l,onEntering:c,onEntered:d,onExit:s,onExiting:f,onExited:y,...v}=e;o=(0,p.vE)(o,"accordion-body");let{eventKey:m}=(0,i.useContext)(S);return(0,r.jsx)(E,{eventKey:m,onEnter:l,onEntering:c,onEntered:d,onExit:s,onExiting:f,onExited:y,children:(0,r.jsx)(n,{ref:t,...v,className:u()(a,o)})})});O.displayName="AccordionBody";let Z=i.forwardRef((e,t)=>{let{as:n="button",bsPrefix:o,className:a,onClick:l,...c}=e;o=(0,p.vE)(o,"accordion-button");let{eventKey:d}=(0,i.useContext)(S),s=function(e,t){let{activeEventKey:n,onSelect:o,alwaysOpen:a}=(0,i.useContext)(b);return r=>{let i=e===n?null:e;a&&(i=Array.isArray(n)?n.includes(e)?n.filter(t=>t!==e):[...n,e]:[e]),null==o||o(i,r),null==t||t(r)}}(d,l),{activeEventKey:f}=(0,i.useContext)(b);return"button"===n&&(c.type="button"),(0,r.jsx)(n,{ref:t,onClick:s,...c,"aria-expanded":Array.isArray(f)?f.includes(d):d===f,className:u()(a,o,!j(f,d)&&"collapsed")})});Z.displayName="AccordionButton";let C=i.forwardRef((e,t)=>{let{as:n="h2",bsPrefix:o,className:a,children:i,onClick:l,...c}=e;return o=(0,p.vE)(o,"accordion-header"),(0,r.jsx)(n,{ref:t,...c,className:u()(a,o),children:(0,r.jsx)(Z,{onClick:l,children:i})})});C.displayName="AccordionHeader";let R=i.forwardRef((e,t)=>{let{as:n="div",bsPrefix:o,className:a,eventKey:l,...c}=e;o=(0,p.vE)(o,"accordion-item");let d=(0,i.useMemo)(()=>({eventKey:l}),[l]);return(0,r.jsx)(S.Provider,{value:d,children:(0,r.jsx)(n,{ref:t,...c,className:u()(a,o)})})});R.displayName="AccordionItem";let A=i.forwardRef((e,t)=>{let{as:n="div",activeKey:o,bsPrefix:a,className:l,onSelect:c,flush:d,alwaysOpen:s,...y}=(0,f.Ch)(e,{activeKey:"onSelect"}),v=(0,p.vE)(a,"accordion"),m=(0,i.useMemo)(()=>({activeEventKey:o,onSelect:c,alwaysOpen:s}),[o,c,s]);return(0,r.jsx)(b.Provider,{value:m,children:(0,r.jsx)(n,{ref:t,...y,className:u()(l,v,d&&"".concat(v,"-flush"))})})});A.displayName="Accordion";var T=Object.assign(A,{Button:Z,Collapse:E,Item:R,Header:C,Body:O}),J=n(6879),P=n(4337),I=n(6168),M=n(7508),$=n(4481),B=n.n($);function U(e){switch(e){case 0:case"unknown":return a.unknown;case 1:case"tcp":return a.tcp;case 2:case"tcp4":return a.tcp4;case 3:case"tcp6":return a.tcp6;case 4:case"udp":return a.udp;case 5:case"udp4":return a.udp4;case 6:case"udp6":return a.udp6;case 7:case"ip":return a.ip;case 8:case"ip4":return a.ip4;case 9:case"ip6":return a.ip6;case 10:case"unix":return a.unix;case 11:case"unixgram":return a.unixgram;case 12:case"unixpacket":return a.unixpacket;default:return a.UNRECOGNIZED}}function F(e){switch(e){case a.unknown:return"unknown";case a.tcp:return"tcp";case a.tcp4:return"tcp4";case a.tcp6:return"tcp6";case a.udp:return"udp";case a.udp4:return"udp4";case a.udp6:return"udp6";case a.ip:return"ip";case a.ip4:return"ip4";case a.ip6:return"ip6";case a.unix:return"unix";case a.unixgram:return"unixgram";case a.unixpacket:return"unixpacket";case a.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function L(){return{conn_type:0,underlying_type:0}}(o=a||(a={}))[o.unknown=0]="unknown",o[o.tcp=1]="tcp",o[o.tcp4=2]="tcp4",o[o.tcp6=3]="tcp6",o[o.udp=4]="udp",o[o.udp4=5]="udp4",o[o.udp6=6]="udp6",o[o.ip=7]="ip",o[o.ip4=8]="ip4",o[o.ip6=9]="ip6",o[o.unix=10]="unix",o[o.unixgram=11]="unixgram",o[o.unixpacket=12]="unixpacket",o[o.UNRECOGNIZED=-1]="UNRECOGNIZED";let K={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B().Writer.create();return 0!==e.conn_type&&t.uint32(8).int32(e.conn_type),0!==e.underlying_type&&t.uint32(16).int32(e.underlying_type),t},decode(e,t){let n=e instanceof B().Reader?e:B().Reader.create(e),o=void 0===t?n.len:n.pos+t,a=L();for(;n.pos<o;){let e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;a.conn_type=n.int32();continue;case 2:if(16!==e)break;a.underlying_type=n.int32();continue}if((7&e)==4||0===e)break;n.skipType(7&e)}return a},fromJSON:e=>({conn_type:X(e.conn_type)?U(e.conn_type):0,underlying_type:X(e.underlying_type)?U(e.underlying_type):0}),toJSON(e){let t={};return 0!==e.conn_type&&(t.conn_type=F(e.conn_type)),0!==e.underlying_type&&(t.underlying_type=F(e.underlying_type)),t},create:e=>K.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;let o=L();return o.conn_type=null!==(t=e.conn_type)&&void 0!==t?t:0,o.underlying_type=null!==(n=e.underlying_type)&&void 0!==n?n:0,o}};function W(){return{addr:"",id:0,type:void 0,extra:{}}}let D={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B().Writer.create();return""!==e.addr&&t.uint32(10).string(e.addr),0!==e.id&&t.uint32(16).uint64(e.id),void 0!==e.type&&K.encode(e.type,t.uint32(26).fork()).ldelim(),Object.entries(e.extra).forEach(e=>{let[n,o]=e;H.encode({key:n,value:o},t.uint32(34).fork()).ldelim()}),t},decode(e,t){let n=e instanceof B().Reader?e:B().Reader.create(e),o=void 0===t?n.len:n.pos+t,a=W();for(;n.pos<o;){let e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;a.addr=n.string();continue;case 2:if(16!==e)break;a.id=function(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new V.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}(n.uint64());continue;case 3:if(26!==e)break;a.type=K.decode(n,n.uint32());continue;case 4:if(34!==e)break;let t=H.decode(n,n.uint32());void 0!==t.value&&(a.extra[t.key]=t.value);continue}if((7&e)==4||0===e)break;n.skipType(7&e)}return a},fromJSON:e=>{var t;return{addr:X(e.addr)?String(e.addr):"",id:X(e.id)?Number(e.id):0,type:X(e.type)?K.fromJSON(e.type):void 0,extra:"object"==typeof(t=e.extra)&&null!==t?Object.entries(e.extra).reduce((e,t)=>{let[n,o]=t;return e[n]=String(o),e},{}):{}}},toJSON(e){let t={};if(""!==e.addr&&(t.addr=e.addr),0!==e.id&&(t.id=Math.round(e.id)),void 0!==e.type&&(t.type=K.toJSON(e.type)),e.extra){let n=Object.entries(e.extra);n.length>0&&(t.extra={},n.forEach(e=>{let[n,o]=e;t.extra[n]=o}))}return t},create:e=>D.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,o;let a=W();return a.addr=null!==(t=e.addr)&&void 0!==t?t:"",a.id=null!==(n=e.id)&&void 0!==n?n:0,a.type=void 0!==e.type&&null!==e.type?K.fromPartial(e.type):void 0,a.extra=Object.entries(null!==(o=e.extra)&&void 0!==o?o:{}).reduce((e,t)=>{let[n,o]=t;return void 0!==o&&(e[n]=String(o)),e},{}),a}};function G(){return{key:"",value:""}}let H={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B().Writer.create();return""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t},decode(e,t){let n=e instanceof B().Reader?e:B().Reader.create(e),o=void 0===t?n.len:n.pos+t,a=G();for(;n.pos<o;){let e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;a.key=n.string();continue;case 2:if(18!==e)break;a.value=n.string();continue}if((7&e)==4||0===e)break;n.skipType(7&e)}return a},fromJSON:e=>({key:X(e.key)?String(e.key):"",value:X(e.value)?String(e.value):""}),toJSON(e){let t={};return""!==e.key&&(t.key=e.key),""!==e.value&&(t.value=e.value),t},create:e=>H.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;let o=G();return o.key=null!==(t=e.key)&&void 0!==t?t:"",o.value=null!==(n=e.value)&&void 0!==n?n:"",o}},V="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:window;function X(e){return null!=e}function z(){return{download:0,upload:0}}B().util.Long!==M.Z&&(B().util.Long=M.Z,B().configure());let Q={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B().Writer.create();return 0!==e.download&&t.uint32(8).uint64(e.download),0!==e.upload&&t.uint32(16).uint64(e.upload),t},decode(e,t){let n=e instanceof B().Reader?e:B().Reader.create(e),o=void 0===t?n.len:n.pos+t,a=z();for(;n.pos<o;){let e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;a.download=ea(n.uint64());continue;case 2:if(16!==e)break;a.upload=ea(n.uint64());continue}if((7&e)==4||0===e)break;n.skipType(7&e)}return a},fromJSON:e=>({download:er(e.download)?Number(e.download):0,upload:er(e.upload)?Number(e.upload):0}),toJSON(e){let t={};return 0!==e.download&&(t.download=Math.round(e.download)),0!==e.upload&&(t.upload=Math.round(e.upload)),t},create:e=>Q.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;let o=z();return o.download=null!==(t=e.download)&&void 0!==t?t:0,o.upload=null!==(n=e.upload)&&void 0!==n?n:0,o}};function q(){return{data:void 0}}let Y={encode(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B().Writer.create();switch(null===(t=e.data)||void 0===t?void 0:t.$case){case"total_flow":Q.encode(e.data.total_flow,n.uint32(26).fork()).ldelim();break;case"notify_new_connections":et.encode(e.data.notify_new_connections,n.uint32(10).fork()).ldelim();break;case"notify_remove_connections":en.encode(e.data.notify_remove_connections,n.uint32(18).fork()).ldelim()}return n},decode(e,t){let n=e instanceof B().Reader?e:B().Reader.create(e),o=void 0===t?n.len:n.pos+t,a=q();for(;n.pos<o;){let e=n.uint32();switch(e>>>3){case 3:if(26!==e)break;a.data={$case:"total_flow",total_flow:Q.decode(n,n.uint32())};continue;case 1:if(10!==e)break;a.data={$case:"notify_new_connections",notify_new_connections:et.decode(n,n.uint32())};continue;case 2:if(18!==e)break;a.data={$case:"notify_remove_connections",notify_remove_connections:en.decode(n,n.uint32())};continue}if((7&e)==4||0===e)break;n.skipType(7&e)}return a},fromJSON:e=>({data:er(e.total_flow)?{$case:"total_flow",total_flow:Q.fromJSON(e.total_flow)}:er(e.notify_new_connections)?{$case:"notify_new_connections",notify_new_connections:et.fromJSON(e.notify_new_connections)}:er(e.notify_remove_connections)?{$case:"notify_remove_connections",notify_remove_connections:en.fromJSON(e.notify_remove_connections)}:void 0}),toJSON(e){var t,n,o;let a={};return(null===(t=e.data)||void 0===t?void 0:t.$case)==="total_flow"&&(a.total_flow=Q.toJSON(e.data.total_flow)),(null===(n=e.data)||void 0===n?void 0:n.$case)==="notify_new_connections"&&(a.notify_new_connections=et.toJSON(e.data.notify_new_connections)),(null===(o=e.data)||void 0===o?void 0:o.$case)==="notify_remove_connections"&&(a.notify_remove_connections=en.toJSON(e.data.notify_remove_connections)),a},create:e=>Y.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,o,a,r,i,l,c,d;let s=q();return(null===(t=e.data)||void 0===t?void 0:t.$case)==="total_flow"&&(null===(n=e.data)||void 0===n?void 0:n.total_flow)!==void 0&&(null===(o=e.data)||void 0===o?void 0:o.total_flow)!==null&&(s.data={$case:"total_flow",total_flow:Q.fromPartial(e.data.total_flow)}),(null===(a=e.data)||void 0===a?void 0:a.$case)==="notify_new_connections"&&(null===(r=e.data)||void 0===r?void 0:r.notify_new_connections)!==void 0&&(null===(i=e.data)||void 0===i?void 0:i.notify_new_connections)!==null&&(s.data={$case:"notify_new_connections",notify_new_connections:et.fromPartial(e.data.notify_new_connections)}),(null===(l=e.data)||void 0===l?void 0:l.$case)==="notify_remove_connections"&&(null===(c=e.data)||void 0===c?void 0:c.notify_remove_connections)!==void 0&&(null===(d=e.data)||void 0===d?void 0:d.notify_remove_connections)!==null&&(s.data={$case:"notify_remove_connections",notify_remove_connections:en.fromPartial(e.data.notify_remove_connections)}),s}};function ee(){return{connections:[]}}let et={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B().Writer.create();for(let n of e.connections)D.encode(n,t.uint32(10).fork()).ldelim();return t},decode(e,t){let n=e instanceof B().Reader?e:B().Reader.create(e),o=void 0===t?n.len:n.pos+t,a=ee();for(;n.pos<o;){let e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;a.connections.push(D.decode(n,n.uint32()));continue}if((7&e)==4||0===e)break;n.skipType(7&e)}return a},fromJSON:e=>({connections:Array.isArray(null==e?void 0:e.connections)?e.connections.map(e=>D.fromJSON(e)):[]}),toJSON(e){var t;let n={};return(null===(t=e.connections)||void 0===t?void 0:t.length)&&(n.connections=e.connections.map(e=>D.toJSON(e))),n},create:e=>et.fromPartial(null!=e?e:{}),fromPartial(e){var t;let n=ee();return n.connections=(null===(t=e.connections)||void 0===t?void 0:t.map(e=>D.fromPartial(e)))||[],n}},en={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B().Writer.create();for(let n of(t.uint32(10).fork(),e.ids))t.uint64(n);return t.ldelim(),t},decode(e,t){let n=e instanceof B().Reader?e:B().Reader.create(e),o=void 0===t?n.len:n.pos+t,a={ids:[]};for(;n.pos<o;){let e=n.uint32();if(e>>>3==1){if(8===e){a.ids.push(ea(n.uint64()));continue}if(10===e){let e=n.uint32()+n.pos;for(;n.pos<e;)a.ids.push(ea(n.uint64()));continue}}if((7&e)==4||0===e)break;n.skipType(7&e)}return a},fromJSON:e=>({ids:Array.isArray(null==e?void 0:e.ids)?e.ids.map(e=>Number(e)):[]}),toJSON(e){var t;let n={};return(null===(t=e.ids)||void 0===t?void 0:t.length)&&(n.ids=e.ids.map(e=>Math.round(e))),n},create:e=>en.fromPartial(null!=e?e:{}),fromPartial(e){var t;let n={ids:[]};return n.ids=(null===(t=e.ids)||void 0===t?void 0:t.map(e=>e))||[],n}},eo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:window;function ea(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new eo.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}function er(e){return null!=e}B().util.Long!==M.Z&&(B().util.Long=M.Z,B().configure());var ei=n(713),el=n(4796);let ec=new WeakMap,ed=(0,el.xD)(ei.ZP,e=>(t,n,o)=>{let[a,r]=(0,el.qC)(t),i=a?"$sub$"+a:void 0,l=e(i,null,o),{cache:c}=o;ec.has(c)||ec.set(c,[new Map,new Map]);let[d,s]=ec.get(c);return(0,el.LI)(()=>{if(!i)return;let[,e]=(0,el.JN)(c,i),t=d.get(i)||0;if(d.set(i,t+1),!t){let t=n(r,{next:(t,n)=>{null!=t?e({error:t}):(e({error:void 0}),l.mutate(n,!1))}});if("function"!=typeof t)throw Error("The `subscribe` function must return a function to unsubscribe.");s.set(i,t)}return()=>{let e=d.get(i)-1;if(d.set(i,e),!e){let e=s.get(i);null==e||e()}}},[i]),{get data(){return l.data},get error(){return l.error}}});var es=n(7173),eu=n(1308);let ef=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!+e)return"0B";let n=Math.floor(Math.log(e)/Math.log(1024)),o=parseFloat((e/Math.pow(1024,n)).toFixed(0>t?0:t)),a=["B","KB","MB","GB","TB","PB","EB","ZB","YB"][n];return isNaN(o)||void 0===a?"":"".concat(o).concat(a)},ep=i.memo(e=>{let[t,n]=(0,i.useState)({hash:""});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(I.Z,{show:""!==t.hash,hash:t.hash,editable:!1,onHide:()=>n({hash:""})}),(0,r.jsx)(d.Z.Item,{children:(0,r.jsxs)("div",{className:"d-sm-flex",children:[(0,r.jsx)("div",{className:"endpoint-name flex-grow-1 notranslate",children:e.itemKey}),(0,r.jsx)("div",{className:"notranslate",style:{opacity:.6},children:"Hash"!==e.itemKey?e.itemValue:(0,r.jsx)("a",{href:"#empty",onClick:t=>{t.preventDefault(),n({hash:e.itemValue})},children:e.itemValue})})]})})]})}),ey=i.memo(e=>(0,r.jsxs)(T.Item,{eventKey:e.data.id.toString(),children:[(0,r.jsx)(T.Header,{children:(0,r.jsxs)("div",{className:"d-line",children:[(0,r.jsx)("code",{className:"ms-2",children:e.data.id}),(0,r.jsx)("span",{className:"ms-2",children:e.data.addr}),(0,r.jsx)(J.Z,{className:"bg-light rounded-pill text-dark ms-1 text-uppercase",children:e.data.extra.MODE}),(0,r.jsx)(J.Z,{className:"bg-light rounded-pill text-dark ms-1 text-uppercase",children:a[e.data.type.conn_type]}),void 0!==e.data.extra.Tag&&(0,r.jsx)(J.Z,{className:"bg-light rounded-pill text-dark ms-1 text-uppercase",children:e.data.extra.Tag})]})}),(0,r.jsx)(T.Body,{children:(0,r.jsxs)(d.Z,{variant:"flush",children:[(0,r.jsx)(ep,{itemKey:"Type",itemValue:a[e.data.type.conn_type]}),(0,r.jsx)(ep,{itemKey:"Underlying",itemValue:a[e.data.type.underlying_type]}),Object.keys(e.data.extra).map(t=>(0,r.jsx)(ep,{itemKey:t,itemValue:e.data.extra[t]},t)),(0,r.jsx)(d.Z.Item,{children:(0,r.jsx)("div",{className:"d-sm-flex",children:(0,r.jsx)(l.Z,{variant:"outline-danger",className:"flex-grow-1 notranslate",onClick:async()=>{let t=await fetch(P.f+"/conn",{method:"DELETE",body:en.encode({ids:[e.data.id]}).finish()});t.ok?console.log("close ".concat(e.data.id," successful")):console.log(await t.text())},children:"Close"})})})]})})]},e.data.id));var ev=function(){let e=(e,t)=>{let n=(e.download-(0!==t.download?t.download:e.download))/2,o=(e.upload-(0!==t.upload?t.upload:e.upload))/2,a="(".concat(ef(e.download),"): ").concat(ef(n),"/S"),r="(".concat(ef(e.upload),"): ").concat(ef(o),"/S");return{download:e.download,upload:e.upload,dstr:a,ustr:r}},{data:t,error:n}=ed("/conn",(t,n)=>{let{next:o}=n,a="https:"===window.location.protocol?"wss://":"ws://",r=""!==P.f?P.f.replace("http://","").replace("https://",""):window.location.host,i=new WebSocket("".concat(a).concat(r).concat(t));return i.binaryType="arraybuffer",i.addEventListener("open",e=>{console.log("connect to: ".concat(a).concat(r).concat(t,", event type: ").concat(e.type)),i.send("2000")}),i.addEventListener("message",t=>{let n=Y.decode(new Uint8Array(t.data));o(null,t=>{var o;let a=t;switch(void 0===a&&(a={flow:{download:0,upload:0,dstr:"Loading...",ustr:"Loading..."},conns:{}}),null===(o=n.data)||void 0===o?void 0:o.$case){case"total_flow":let r=n.data.total_flow;return(0,es.Uy)(a,t=>{t.flow=e(r,t.flow)});case"notify_new_connections":let i=n.data.notify_new_connections.connections;return(0,es.Uy)(a,e=>{i.forEach(t=>{e.conns[t.id]=t})});case"notify_remove_connections":let l=n.data.notify_remove_connections.ids;return(0,es.Uy)(a,e=>{l.forEach(t=>{delete e.conns[t]})})}})}),i.addEventListener("error",e=>{let t="websocket have some error";o({msg:t,code:500}),console.log(t)}),i.addEventListener("close",e=>{let t="websocket closed, code: "+e.code;o({msg:"websocket closed",code:e.code}),console.log(t)}),()=>i.close()});return void 0!==n?(0,r.jsx)(eu.Z,{code:n.code,children:n.msg}):void 0===t?(0,r.jsx)(eu.Z,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{className:"mb-3",children:(0,r.jsxs)(d.Z,{variant:"flush",children:[(0,r.jsx)(d.Z.Item,{children:(0,r.jsxs)("div",{className:"d-sm-flex",children:[(0,r.jsx)("div",{className:"endpoint-name flex-grow-1 notranslate",children:"Download"}),(0,r.jsx)("div",{className:"notranslate",style:{opacity:.6},id:"statistic-download",children:null==t?void 0:t.flow.dstr})]})}),(0,r.jsx)(d.Z.Item,{children:(0,r.jsxs)("div",{className:"d-sm-flex",children:[(0,r.jsx)("div",{className:"endpoint-name flex-grow-1 notranslate",children:"Upload"}),(0,r.jsx)("div",{className:"notranslate",style:{opacity:.6},id:"statistic-upload",children:null==t?void 0:t.flow.ustr})]})})]})}),(0,r.jsx)(T,{className:"mb-3",alwaysOpen:!0,id:"connections",children:Object.entries(t.conns).map(e=>{let[t,n]=e;return(0,r.jsx)(ey,{data:n},n.id)})})]})}},6168:function(e,t,n){"use strict";var o=n(7437),a=n(4297),r=n(1701),i=n(733),l=n(4337),c=n(713),d=n(6934),s=n(1308),u=n(1375),f=n.n(u);t.Z=function(e){let{data:t,error:n,isLoading:u,mutate:p}=(0,c.ZP)(""!==e.hash?"/node?hash=".concat(e.hash):null,d.Q3);return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(r.Z,{show:e.show,"aria-labelledby":"contained-modal-title-vcenter",size:"xl",onHide:()=>{e.onHide()},centered:!0,children:[(0,o.jsx)(r.Z.Header,{closeButton:!0,children:(0,o.jsx)(r.Z.Title,{id:"contained-modal-title-vcenter",children:e.hash})}),(0,o.jsx)(r.Z.Body,{children:void 0!==n?(0,o.jsx)(f(),{statusCode:n.code,title:n.msg}):u?(0,o.jsx)(s.Z,{}):(0,o.jsx)(i.Z.Control,{as:"textarea",value:t,style:{height:"65vh",fontFamily:"monospace"},readOnly:!e.editable,onChange:e=>p(e.target.value,!1)})}),(0,o.jsxs)(r.Z.Footer,{children:[(0,o.jsx)(a.Z,{variant:"secondary",onClick:()=>{e.onHide()},children:"Close"}),(0,o.jsx)(()=>void 0!==e.editable&&e.editable?(0,o.jsx)(a.Z,{variant:"primary",active:!u&&void 0===n,onClick:async()=>{let n=await fetch(l.f+"/node",{method:"POST",headers:{"content-type":"application/json;charset=UTF-8"},body:t});n.ok?(console.log("save successful"),void 0!==e.onSave&&e.onSave(),e.onHide()):console.log(await n.text())},children:"Save"}):(0,o.jsx)(o.Fragment,{}),{})]})]})})}}},function(e){e.O(0,[701,331,521,8,481,508,946,173,971,596,744],function(){return e(e.s=4475)}),_N_E=e.O()}]);