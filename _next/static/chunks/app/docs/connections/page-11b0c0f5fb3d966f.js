(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8706],{5717:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(29300),s=a.n(n),r=a(12115),l=a(97390),d=a(95155);let o=r.forwardRef((e,t)=>{let{bsPrefix:a,bg:n="primary",pill:r=!1,text:o,className:i,as:c="span",...u}=e,m=(0,l.oU)(a,"badge");return(0,d.jsx)(c,{ref:t,...u,className:s()(i,m,r&&"rounded-pill",o&&"text-".concat(o),n&&"bg-".concat(n))})});o.displayName="Badge";let i=o},11347:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>N});var n=a(95155),s=a(20960),r=a(71464),l=a(12115),d=a(76355),o=a(69056),i=a(65677),c=a(5717),u=a(60902),m=a(91867),x=a(40840),h=a(74086),f=a(98508),v=a(66835),p=a(87494),g=a(29940),j=a(70715),w=a(3384),b=a(26506);let y=e=>{var t,a;let{data:r,counter:d,showModal:x}=e,h=(0,l.useContext)(v.u),[p,y]=(0,l.useState)(!1);return(0,n.jsxs)(i.A.Item,{eventKey:r.id.toString(),children:[(0,n.jsx)(i.A.Header,{children:(0,n.jsxs)("div",{className:"d-line text-break",children:[(0,n.jsx)("code",{className:"ms-2",children:r.id.toString()}),(0,n.jsx)("span",{className:"ms-2",children:r.addr}),(0,n.jsxs)(c.A,{className:"bg-light rounded-pill text-dark ms-1",children:[(0,b.z3)(Number(d&&d.download?d.download:0))," / ",(0,b.z3)(Number(d&&d.upload?d.upload:0))]}),(0,n.jsx)(c.A,{className:"bg-light rounded-pill text-dark ms-1 text-uppercase",children:g.Mq[r.mode]}),(0,n.jsx)(c.A,{className:"bg-light rounded-pill text-dark ms-1 text-uppercase",children:j.NW[null!=(a=null==(t=r.type)?void 0:t.connType)?a:0]}),r.tag&&(0,n.jsx)(c.A,{className:"bg-light rounded-pill text-dark ms-1 text-uppercase",children:r.tag})]})}),(0,n.jsx)(i.A.Body,{children:(0,n.jsx)(b.TH,{value:r,showModal:x,endContent:(0,n.jsx)(o.A.Item,{children:(0,n.jsx)("div",{className:"d-sm-flex",children:(0,n.jsxs)(u.A,{variant:"outline-danger",className:"flex-grow-1 notranslate",disabled:p,onClick:()=>{y(!0),(0,f.kP)(w.oQ.method.close_conn,(0,s.v)(w.SE,{ids:[r.id]})).then(async e=>{let{error:t}=e;t?(h.Error("code ".concat(r.id," failed, ").concat(t.code,"| ").concat(t.msg)),y(!1)):setTimeout(()=>{y(!1)},5e3)})},children:["Close",p&&(0,n.jsxs)(n.Fragment,{children:["\xa0",(0,n.jsx)(m.A,{size:"sm",animation:"border",variant:"danger"})]})]})})})})})]},r.id)},N=function(){let[e,t]=(0,l.useState)({show:!1,hash:""}),{data:a,error:c}=(0,b.qM)(),{data:u,error:m}=(0,x.A)((0,f.cY)(w.oQ.method.notify),(0,f.zZ)(w.oQ.method.notify,(0,s.v)(r.v,{}),(e,t)=>{switch(void 0===t&&(t=new Map),e.data.case){case"notifyNewConnections":e.data.value.connections.sort((e,t)=>e.id>t.id?1:-1).forEach(e=>{t.set(e.id,e)});break;case"notifyRemoveConnections":e.data.value.ids.forEach(e=>{t.delete(e)})}return t}),{});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.y,{show:e.show,hash:e.hash,editable:!1,onHide:()=>t({...e,show:!1})}),(0,n.jsx)(d.A,{className:"mb-3",children:(0,n.jsxs)(o.A,{variant:"flush",children:[(0,n.jsx)(o.A.Item,{children:(0,n.jsxs)("div",{className:"d-sm-flex",children:[(0,n.jsx)("div",{className:"endpoint-name flex-grow-1 notranslate",children:"Download"}),(0,n.jsx)("div",{className:"notranslate",style:{opacity:.6},id:"statistic-download",children:c?c.msg:a?a.download_rate:"Loading..."})]})}),(0,n.jsx)(o.A.Item,{children:(0,n.jsxs)("div",{className:"d-sm-flex",children:[(0,n.jsx)("div",{className:"endpoint-name flex-grow-1 notranslate",children:"Upload"}),(0,n.jsx)("div",{className:"notranslate",style:{opacity:.6},id:"statistic-upload",children:c?c.msg:a?a.upload_rate:"Loading..."})]})})]})}),void 0!==m?(0,n.jsx)(h.A,{code:m.code,children:m.msg}):void 0===u?(0,n.jsx)(h.A,{}):(0,n.jsx)(i.A,{className:"mb-3",alwaysOpen:!0,id:"connections",children:[...u.values()].reverse().map(e=>(0,n.jsx)(y,{data:e,counter:a.counters[e.id.toString()],showModal:e=>t({show:!0,hash:e})},e.id))})]})}},18438:(e,t,a)=>{Promise.resolve().then(a.bind(a,11347))},26506:(e,t,a)=>{"use strict";a.d(t,{HU:()=>m,TH:()=>x,c5:()=>j,qM:()=>p,z3:()=>f});var n=a(95155),s=a(67167),r=a(12115),l=a(69056),d=a(76355),o=a(19169),i=a(98508),c=a(70715),u=a(3384);let m=e=>(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(l.A.Item,{children:(0,n.jsxs)("div",{className:"d-sm-flex",children:[(0,n.jsx)("div",{className:"endpoint-name flex-grow-1 notranslate text-capitalize",children:e.itemKey}),(0,n.jsx)("div",{className:"notranslate text-break",style:{opacity:.6},children:"hash"===e.itemKey&&e.showModal?(0,n.jsx)("a",{href:"#",onClick:t=>{t.preventDefault(),e.showModal&&e.showModal(e.itemValue)},children:e.itemValue}):e.itemValue})]})})}),x=e=>{let{value:t,startContent:a,endContent:r,showModal:d}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(l.A,{variant:"flush",className:"w-100 p-2",children:[a,function(e){let t=(0,s.E4)(c.mR,e),a=(e,t)=>{if("enum"===e.fieldKind){let a=t.get(e);return e.enum.value[a].name}{let a=t.get(e);if(!a)return;return a.toString()}},r=e=>{let{f:t,ref:s}=e,r=a(t,s);if(r)return(0,n.jsx)(m,{itemKey:t.name.replaceAll("_"," "),itemValue:r,showModal:d})};return(0,n.jsx)(n.Fragment,{children:t.fields.map(e=>{if("message"===e.fieldKind){let a=t.get(e);return a.fields.map(e=>(0,n.jsx)(r,{f:e,ref:a},e.name))}return(0,n.jsx)(r,{f:e,ref:t},e.name)})})}(t),r]})})},h={B:"B",KB:"KB",MB:"MB",GB:"GB",TB:"TB",PB:"PB"},f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,{bytes:a,unit:n}=e>=0x4000000000000?{bytes:e/0x4000000000000,unit:h.PB}:e>=0x10000000000?{bytes:e/0x10000000000,unit:h.TB}:e>=0x40000000?{bytes:e/0x40000000,unit:h.GB}:e>=1048576?{bytes:e/1048576,unit:h.MB}:e>=1024?{bytes:e/1024,unit:h.KB}:{bytes:e,unit:h.B};return"".concat(a.toFixed(t)).concat(n)},v=(e,t)=>{let a=Number(e.download),n=Number(e.upload),s=(new Date().getTime()-t.time.getTime())/1e3,r=f(a),l=f(n),d="Loading...",o="Loading...";return(0!==t.download||0!==t.upload)&&0!==s&&(d=f((a-t.download)/s)+"/S",o=f((n-t.upload)/s)+"/S"),{download_rate:"(".concat(r,"): ").concat(d),upload_rate:"(".concat(l,"): ").concat(o)}},p=()=>{let[e,t]=(0,r.useState)({download:0,upload:0,counters:{},time:new Date,download_rate:"Loading...",upload_rate:"Loading..."});return(0,o.Ay)((0,i.cY)(u.oQ.method.total),async()=>(0,i.kP)(u.oQ.method.total).then(async a=>{let{data:n,error:s}=a;if(s)throw s;if(n)try{let a=v(n,e);return t(e=>({...e,download:Number(n.download),upload:Number(n.upload),counters:n.counters,time:new Date,download_rate:a.download_rate,upload_rate:a.upload_rate})),{...e}}catch(e){throw{msg:e.toString(),code:500}}}),{refreshInterval:2e3})},g=e=>{let{lastFlow:t,flow_error:a,end_content:s}=e;return(0,n.jsx)(d.A,{className:"mb-3",children:(0,n.jsxs)(l.A,{variant:"flush",children:[(0,n.jsx)(l.A.Item,{children:(0,n.jsxs)("div",{className:"d-sm-flex",children:[(0,n.jsx)("div",{className:"endpoint-name flex-grow-1 notranslate",children:"Download"}),(0,n.jsx)("div",{className:"notranslate",style:{opacity:.6},id:"statistic-download",children:a?a.msg:t?t.download_rate:"Loading..."})]})}),(0,n.jsx)(l.A.Item,{children:(0,n.jsxs)("div",{className:"d-sm-flex",children:[(0,n.jsx)("div",{className:"endpoint-name flex-grow-1 notranslate",children:"Upload"}),(0,n.jsx)("div",{className:"notranslate",style:{opacity:.6},id:"statistic-upload",children:a?a.msg:t?t.upload_rate:"Loading..."})]})}),s]})})},j=r.memo(e=>{let{onUpdate:t,end_content:a}=e,{data:s,error:l}=p();return(0,r.useEffect)(()=>{t&&s&&t(s.counters)},[t,s]),(0,n.jsx)(g,{lastFlow:s,flow_error:l,end_content:a})})},40840:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var n=a(19169),s=a(45567),r=a(68974);let l=new WeakMap,d=(0,r.Ht)(n.Ay,e=>(t,a,n)=>{let[r,d]=(0,s.s)(t),o=r?"$sub$"+r:void 0,i=e(o,null,n),{cache:c}=n;l.has(c)||l.set(c,[new Map,new Map]);let[u,m]=l.get(c);return(0,s.u)(()=>{if(!o)return;let[,e]=(0,s.z)(c,o),t=u.get(o)||0;if(u.set(o,t+1),!t){let t=a(d,{next:(t,a)=>{null!=t?e({error:t}):(e({error:void 0}),i.mutate(a,!1))}});if("function"!=typeof t)throw Error("The `subscribe` function must return a function to unsubscribe.");m.set(o,t)}return()=>{let e=u.get(o)-1;if(u.set(o,e),!e){let e=m.get(o);null==e||e()}}},[o]),{get data(){return i.data},get error(){return i.error}}})},65677:(e,t,a)=>{"use strict";a.d(t,{A:()=>j});var n=a(29300),s=a.n(n),r=a(12115),l=a(91497),d=a(97390),o=a(48873);function i(e,t){return Array.isArray(e)?e.includes(t):e===t}let c=r.createContext({});c.displayName="AccordionContext";var u=a(95155);let m=r.forwardRef((e,t)=>{let{as:a="div",bsPrefix:n,className:l,children:m,eventKey:x,...h}=e,{activeEventKey:f}=(0,r.useContext)(c);return n=(0,d.oU)(n,"accordion-collapse"),(0,u.jsx)(o.A,{ref:t,in:i(f,x),...h,className:s()(l,n),children:(0,u.jsx)(a,{children:r.Children.only(m)})})});m.displayName="AccordionCollapse";let x=r.createContext({eventKey:""});x.displayName="AccordionItemContext";let h=r.forwardRef((e,t)=>{let{as:a="div",bsPrefix:n,className:l,onEnter:o,onEntering:i,onEntered:c,onExit:h,onExiting:f,onExited:v,...p}=e;n=(0,d.oU)(n,"accordion-body");let{eventKey:g}=(0,r.useContext)(x);return(0,u.jsx)(m,{eventKey:g,onEnter:o,onEntering:i,onEntered:c,onExit:h,onExiting:f,onExited:v,children:(0,u.jsx)(a,{ref:t,...p,className:s()(l,n)})})});h.displayName="AccordionBody";let f=r.forwardRef((e,t)=>{let{as:a="button",bsPrefix:n,className:l,onClick:o,...m}=e;n=(0,d.oU)(n,"accordion-button");let{eventKey:h}=(0,r.useContext)(x),f=function(e,t){let{activeEventKey:a,onSelect:n,alwaysOpen:s}=(0,r.useContext)(c);return r=>{let l=e===a?null:e;s&&(l=Array.isArray(a)?a.includes(e)?a.filter(t=>t!==e):[...a,e]:[e]),null==n||n(l,r),null==t||t(r)}}(h,o),{activeEventKey:v}=(0,r.useContext)(c);return"button"===a&&(m.type="button"),(0,u.jsx)(a,{ref:t,onClick:f,...m,"aria-expanded":Array.isArray(v)?v.includes(h):h===v,className:s()(l,n,!i(v,h)&&"collapsed")})});f.displayName="AccordionButton";let v=r.forwardRef((e,t)=>{let{as:a="h2","aria-controls":n,bsPrefix:r,className:l,children:o,onClick:i,...c}=e;return r=(0,d.oU)(r,"accordion-header"),(0,u.jsx)(a,{ref:t,...c,className:s()(l,r),children:(0,u.jsx)(f,{onClick:i,"aria-controls":n,children:o})})});v.displayName="AccordionHeader";let p=r.forwardRef((e,t)=>{let{as:a="div",bsPrefix:n,className:l,eventKey:o,...i}=e;n=(0,d.oU)(n,"accordion-item");let c=(0,r.useMemo)(()=>({eventKey:o}),[o]);return(0,u.jsx)(x.Provider,{value:c,children:(0,u.jsx)(a,{ref:t,...i,className:s()(l,n)})})});p.displayName="AccordionItem";let g=r.forwardRef((e,t)=>{let{as:a="div",activeKey:n,bsPrefix:o,className:i,onSelect:m,flush:x,alwaysOpen:h,...f}=(0,l.Zw)(e,{activeKey:"onSelect"}),v=(0,d.oU)(o,"accordion"),p=(0,r.useMemo)(()=>({activeEventKey:n,onSelect:m,alwaysOpen:h}),[n,m,h]);return(0,u.jsx)(c.Provider,{value:p,children:(0,u.jsx)(a,{ref:t,...f,className:s()(i,v,x&&"".concat(v,"-flush"))})})});g.displayName="Accordion";let j=Object.assign(g,{Button:f,Collapse:m,Item:p,Header:v,Body:h})},99695:(e,t,a)=>{"use strict";a.d(t,{i:()=>r,w:()=>l});var n=a(9152),s=a(78133);let r=(0,n.w)("Ch9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvEg9nb29nbGUucHJvdG9idWYiKwoJVGltZXN0YW1wEg8KB3NlY29uZHMYASABKAMSDQoFbmFub3MYAiABKAVChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),l=(0,s.Z)(r,0)}},e=>{var t=t=>e(e.s=t);e.O(0,[3528,11,601,3779,5453,2362,2765,7581,1725,4459,3874,3697,9070,7494,3384,8441,1684,7358],()=>t(18438)),_N_E=e.O()}]);