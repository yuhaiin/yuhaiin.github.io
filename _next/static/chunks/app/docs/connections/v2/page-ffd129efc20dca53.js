(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5619],{24267:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>k});var t=r(95155),a=r(50379),l=r(46057),s=r(94226),o=r(41143),i=r(43260),c=r(48948),d=r(47319),u=r(89995),f=r(12115),m=r(41531),v=r(79039),x=r(40574),h=r(26631),p=r(36947),g=r(80312),j=r(40087),b=r(95698);let w=(e,n)=>{let r;switch(r=void 0===n?{}:{...n},e.data.case){case"notifyNewConnections":e.data.value.connections.sort((e,n)=>e.id>n.id?1:-1).forEach(e=>{r[e.id.toString()]=e});break;case"notifyRemoveConnections":e.data.value.ids.forEach(e=>{delete r[e.toString()]})}return r},y=f.memo(e=>{let{conns:n,counters:r,conn_error:l,setInfo:s,sortFields:o,sortOrder:i}=e,c=(0,f.useMemo)(()=>Object.values(null!=n?n:{}).sort((e,n)=>{let t=1,a=-1;if("asc"===i&&(t=-1,a=1),o){var l,s,c,d,u,f,m,v;switch(o){case"download":return(null!=(c=null==(l=r[e.id.toString()])?void 0:l.download)?c:0)<(null!=(d=null==(s=r[n.id.toString()])?void 0:s.download)?d:0)?t:a;case"upload":return(null!=(m=null==(u=r[e.id.toString()])?void 0:u.upload)?m:0)<(null!=(v=null==(f=r[n.id.toString()])?void 0:f.upload)?v:0)?t:a;case"name":return e.addr<n.addr?t:a}}return e.id<n.id?t:a}),[n,o,r,i]);return void 0!==l?(0,t.jsx)(a.A,{code:l.code,children:l.msg}):void 0===n?(0,t.jsx)(a.A,{}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(m.A,{children:(0,t.jsx)(v.A,{variant:"flush",style:{borderBottom:"none"},children:c.map(e=>{var n,a,l,o;return(0,t.jsx)(A,{data:e,download:Number(null!=(l=null==(n=r[e.id.toString()])?void 0:n.download)?l:0),upload:Number(null!=(o=null==(a=r[e.id.toString()])?void 0:a.upload)?o:0),onClick:()=>s({info:e,show:!0})},e.id)})})})})}),A=f.memo(e=>{let{data:n,download:r,upload:a,onClick:l}=e;return(0,t.jsxs)(v.A.Item,{className:"d-flex justify-content-between align-items-start py-3 flex-wrap",style:{border:"0ch",borderBottom:"1px solid #dee2e6"},action:!0,onClick:l,children:[(0,t.jsxs)("div",{className:"text-break",children:[(0,t.jsx)("code",{children:n.id.toString()}),(0,t.jsx)("span",{className:"ms-2",children:n.addr})]}),(0,t.jsxs)("div",{className:"fs-9",children:[(0,t.jsx)(N,{download:r,upload:a}),(0,t.jsx)(()=>(0,t.jsx)(x.A,{bg:"primary",pill:!0,className:"ms-1 text-uppercase",children:b.Mq[n.mode]}),{}),(0,t.jsx)(()=>{var e,r;return(0,t.jsx)(x.A,{bg:"primary",pill:!0,className:"ms-1 text-uppercase",children:c.NW[null!=(r=null==(e=n.type)?void 0:e.connType)?r:0]})},{}),(0,t.jsx)(()=>n.tag?(0,t.jsx)(x.A,{bg:"primary",pill:!0,className:"ms-1 text-uppercase",children:n.tag}):(0,t.jsx)(t.Fragment,{}),{})]})]})}),N=f.memo(e=>{let{download:n,upload:r}=e;return(0,t.jsxs)(x.A,{bg:"primary",pill:!0,children:[(0,o.z3)(n)," / ",(0,o.z3)(r)]})}),C=f.memo(e=>{let{data:n,show:r,onClose:a}=e,c=(0,f.useContext)(s.u),[u,m]=(0,f.useState)(!1),x=(0,f.useCallback)(()=>{m(!0),(0,l.kP)(i.oQ.method.close_conn,(0,d.v)(i.SE,{ids:[n.id]})).then(async e=>{let{error:r}=e;r?(c.Error("code ".concat(n.id," failed, ").concat(r.code,"| ").concat(r.msg)),m(!1)):setTimeout(()=>{m(!1)},5e3)})},[m,n.id,c]);return(0,t.jsx)(h.A,{className:"w-75",show:r,onHide:a,placement:"end",scroll:!0,children:(0,t.jsx)(h.A.Body,{children:(0,t.jsx)(o.TH,{value:n,endContent:(0,t.jsx)(v.A.Item,{children:(0,t.jsx)("div",{className:"d-flex",children:(0,t.jsxs)(p.A,{variant:"outline-danger",className:"flex-grow-1 notranslate",disabled:u,onClick:x,children:["Close",u&&(0,t.jsxs)(t.Fragment,{children:["\xa0",(0,t.jsx)(g.A,{size:"sm",animation:"border",variant:"danger"})]})]})})})})})})}),k=function(){let[e,n]=(0,f.useState)({}),[r,a]=(0,f.useState)({info:(0,d.v)(c.mR,{}),show:!1}),s=(0,f.useCallback)(()=>{a(e=>({...e,show:!1}))},[]),{data:m,error:v}=(0,j.A)((0,l.cY)(i.oQ.method.notify),(0,l.zZ)(i.oQ.method.notify,(0,d.v)(u.v,{}),w),{}),x=(0,f.useCallback)(e=>{n(e)},[]),[h,p]=(0,f.useState)(""),g=(0,f.useCallback)(e=>{p(e.target.value)},[p]),[b,A]=(0,f.useState)("desc"),N=(0,f.useCallback)(e=>{A(e.target.value)},[A]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.c5,{onUpdate:x}),(0,t.jsx)(C,{data:r.info,show:r.show,onClose:s}),(0,t.jsx)("div",{className:"d-flex",children:(0,t.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-3 ms-auto flex-wrap",children:[(0,t.jsxs)("span",{className:"d-flex align-items-center gap-2",children:["Sort Order",(0,t.jsxs)("select",{className:"form-select",value:b,onChange:N,style:{width:150},children:[(0,t.jsx)("option",{value:"asc",children:"Asc"}),(0,t.jsx)("option",{value:"desc",children:"Desc"})]})]}),(0,t.jsxs)("span",{className:"d-flex align-items-center gap-2",children:["Sort By",(0,t.jsxs)("select",{className:"form-select",value:h,onChange:g,style:{width:150},children:[(0,t.jsx)("option",{value:"",children:"Id"}),(0,t.jsx)("option",{value:"name",children:"Name"}),(0,t.jsx)("option",{value:"download",children:"Download"}),(0,t.jsx)("option",{value:"upload",children:"Upload"})]})]})]})}),(0,t.jsx)(y,{conns:m,counters:e,setInfo:a,conn_error:v,sortFields:h,sortOrder:b})]})}},26631:(e,n,r)=>{"use strict";r.d(n,{A:()=>O});var t=r(2821),a=r(12115),l=r(29985),s=r(7366);let o=Symbol("EMPTY"),i=function(e,n){let r=(0,a.useRef)(null),t=(0,a.useRef)(0),i=(0,a.useRef)(o),c=(0,a.useRef)(!1),d=(0,a.useRef)(null),u=(0,s.A)(e),{wait:f,maxWait:m,leading:v=!1,trailing:x=!0}="number"==typeof n?{wait:n}:n,h=(0,l.A)();return(0,a.useMemo)(()=>{let e=!!m;function n(){var s,u=Date.now();if(l(u))return(c.current=!1,x&&d.current)?a(u):(d.current=null,i.current===o?void 0:i.current);let v=u-(null!=(s=r.current)?s:0),p=u-t.current,g=f-v;h.set(n,e?Math.min(g,m-p):g)}function a(e){var n;let r=null!=(n=d.current)?n:[];d.current=null,t.current=e;let a=u(...r);return i.current=a,a}function l(n){var a;let l=n-(null!=(a=r.current)?a:0),s=n-t.current;return null===r.current||l>=f||l<0||e&&s>=m}return(...s)=>{let u=Date.now(),m=l(u);if(d.current=s,r.current=u,m){if(!c.current){var x;return(t.current=x=r.current,c.current=!0,h.set(n,f),v)?a(x):i.current===o?void 0:i.current}if(e)return c.current=!0,h.set(n,f),a(r.current)}return c.current||(c.current=!0,h.set(n,f)),i.current===o?void 0:i.current}},[u,f,m,v,x])};var c=r(1926),d=r(39456),u=r(24849),f=r(76837),m=r(95155);let v=a.forwardRef((e,n)=>{let{className:r,bsPrefix:a,as:l="div",...s}=e;return a=(0,f.oU)(a,"offcanvas-body"),(0,m.jsx)(l,{ref:n,className:(0,t.A)(r,a),...s})});v.displayName="OffcanvasBody";var x=r(37942),h=r(77029),p=r(84019);let g={entering:"show",entered:"show"},j=a.forwardRef((e,n)=>{let{bsPrefix:r,className:l,children:s,in:o=!1,mountOnEnter:i=!1,unmountOnExit:c=!1,appear:d=!1,...u}=e;return r=(0,f.oU)(r,"offcanvas"),(0,m.jsx)(p.A,{ref:n,addEndListener:h.A,in:o,mountOnEnter:i,unmountOnExit:c,appear:d,...u,childRef:(0,x.am)(s),children:(e,n)=>a.cloneElement(s,{...n,className:(0,t.A)(l,s.props.className,("entering"===e||"exiting"===e)&&"".concat(r,"-toggling"),g[e])})})});j.displayName="OffcanvasToggling";var b=r(3115),w=r(19971);let y=a.forwardRef((e,n)=>{let{bsPrefix:r,className:a,closeLabel:l="Close",closeButton:s=!1,...o}=e;return r=(0,f.oU)(r,"offcanvas-header"),(0,m.jsx)(w.A,{ref:n,...o,className:(0,t.A)(a,r),closeLabel:l,closeButton:s})});y.displayName="OffcanvasHeader";let A=(0,r(42137).A)("h5"),N=a.forwardRef((e,n)=>{let{className:r,bsPrefix:a,as:l=A,...s}=e;return a=(0,f.oU)(a,"offcanvas-title"),(0,m.jsx)(l,{ref:n,className:(0,t.A)(r,a),...s})});N.displayName="OffcanvasTitle";var C=r(46419);function k(e){return(0,m.jsx)(j,{...e})}function E(e){return(0,m.jsx)(u.A,{...e})}let S=a.forwardRef((e,n)=>{let{bsPrefix:r,className:l,children:o,"aria-labelledby":u,placement:v="start",responsive:x,show:h=!1,backdrop:p=!0,keyboard:g=!0,scroll:j=!1,onEscapeKeyDown:w,onShow:y,onHide:A,container:N,autoFocus:S=!0,enforceFocus:O=!0,restoreFocus:R=!0,restoreFocusOptions:F,onEntered:M,onExit:T,onExiting:B,onEnter:D,onEntering:_,onExited:H,backdropClassName:U,manager:z,...I}=e,P=(0,a.useRef)(null),Q=(0,a.useRef)(null);r=(0,f.oU)(r,"offcanvas");let L=(0,s.A)(A),W=i(()=>{h&&x&&P.current&&"fixed"!==getComputedStyle(P.current).position&&L()},300),Y=(0,a.useCallback)(()=>window,[]);(0,c.A)(Y,"resize",W);let $=(0,a.useMemo)(()=>({onHide:L}),[L]),q=(0,a.useCallback)(e=>(0,m.jsx)("div",{...e,className:(0,t.A)("".concat(r,"-backdrop"),U)}),[U,r]);return(0,m.jsx)(b.A.Provider,{value:$,children:(0,m.jsx)(d.A,{show:h,ref:n,backdrop:p,container:N,keyboard:g,autoFocus:S,enforceFocus:O&&!j,restoreFocus:R,restoreFocusOptions:F,onEscapeKeyDown:w,onShow:y,onHide:L,onEnter:function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];e&&(e.style.visibility="visible"),null==D||D(e,...r)},onEntering:_,onEntered:M,onExit:T,onExiting:B,onExited:function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];e&&(e.style.visibility=""),null==H||H(...r)},manager:z||(j?(Q.current||(Q.current=new C.A({handleContainerOverflow:!1})),Q.current):(0,C.R)()),transition:k,backdropTransition:E,renderBackdrop:q,renderDialog:e=>(0,m.jsx)("div",{...e,...I,className:(0,t.A)(l,x?"".concat(r,"-").concat(x):r,"".concat(r,"-").concat(v)),"aria-labelledby":u,ref:P,children:o}),mountDialogOnEnter:!1,unmountDialogOnExit:!1,portal:!1})})});S.displayName="Offcanvas";let O=Object.assign(S,{Body:v,Header:y,Title:N})},40087:(e,n,r)=>{"use strict";r.d(n,{A:()=>o});var t=r(46512),a=r(31342),l=r(57419);let s=new WeakMap,o=(0,l.Ht)(t.Ay,e=>(n,r,t)=>{let[l,o]=(0,a.s)(n),i=l?"$sub$"+l:void 0,c=e(i,null,t),{cache:d}=t;s.has(d)||s.set(d,[new Map,new Map]);let[u,f]=s.get(d);return(0,a.u)(()=>{if(!i)return;let[,e]=(0,a.z)(d,i),n=u.get(i)||0;if(u.set(i,n+1),!n){let n=r(o,{next:(n,r)=>{null!=n?e({error:n}):(e({error:void 0}),c.mutate(r,!1))}});if("function"!=typeof n)throw Error("The `subscribe` function must return a function to unsubscribe.");f.set(i,n)}return()=>{let e=u.get(i)-1;if(u.set(i,e),!e){let e=f.get(i);null==e||e()}}},[i]),{get data(){return c.data},get error(){return c.error}}})},84771:(e,n,r)=>{Promise.resolve().then(r.bind(r,24267))}},e=>{e.O(0,[6970,962,2141,449,4066,9048,8076,779,9064,9968,6164,2147,8603,3260,1143,8441,1255,7358],()=>e(e.s=84771)),_N_E=e.O()}]);