(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7956],{8487:(e,t,l)=>{Promise.resolve().then(l.bind(l,697))},4971:(e,t,l)=>{"use strict";l.d(t,{$f:()=>b,Mj:()=>p,Ti:()=>d,U9:()=>g,XE:()=>m,YO:()=>a,Z5:()=>s,dn:()=>r,fG:()=>n,gU:()=>o,gW:()=>h,q$:()=>G,r:()=>i,rQ:()=>c});var n="",c="https://clients3.google.com/generate_204",o="dns.nextdns.io:853",a=!0,d="http://ip.sb",s="stun.syncthing.net:3478",r="stun.nextcloud.com:443";let u=()=>{let e=localStorage.getItem("api_url");n=null!==e?e:"",e=localStorage.getItem("remote_bypass"),null!==(e=localStorage.getItem("latency_http_url"))&&(c=e),null!==(e=localStorage.getItem("latency_dns_url"))&&(o=e),null!==(e=localStorage.getItem("latency_ipv6"))&&(a="true"===e),null!==(e=localStorage.getItem("latency_ip_url"))&&(d=e),null!==(e=localStorage.getItem("latency_stun_url"))&&(s=e),null!==(e=localStorage.getItem("latency_stun_tcp_url"))&&(r=e)},i=e=>{R("api_url",e)},b=e=>{R("latency_dns_url",e)},m=e=>{R("latency_http_url",e)},h=e=>{R("latency_ipv6",e.toString())},g=e=>{R("latency_ip_url",e)},p=e=>{R("latency_stun_url",e)},G=e=>{R("latency_stun_tcp_url",e)},R=(e,t)=>{""===t?localStorage.removeItem(e):localStorage.setItem(e,t),u()};u()},716:(e,t,l)=>{"use strict";l.d(t,{Z:()=>d});var n=l(7437),c=l(2514),o=l(6264),a=l.n(o);let d=function(e){return(0,n.jsxs)("div",{className:"z-1090 d-flex flex-column justify-content-center align-items-center",style:{height:"100px"},children:[void 0!==e.children&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a(),{className:"p2",statusCode:void 0!==e.code?e.code:500,title:e.children})}),(0,n.jsx)("div",{className:"p2",children:(0,n.jsx)(c.Z,{})})]})}},879:(e,t,l)=>{"use strict";l.d(t,{D4:()=>a,OV:()=>d,Uo:()=>s,o5:()=>r});var n=l(4971),c=l(4050),o=l(7764);function a(e,t,l,a){return d=>a?(0,c.d)(e,a):fetch("".concat(n.fG).concat(d),{method:t,body:l}).then(async t=>{if(!t.ok)throw{code:t.status,msg:t.statusText,raw:t.text()};return(0,o.h4)(e,new Uint8Array(await t.arrayBuffer()))})}function d(e,t,l,c){return a=>fetch("".concat(n.fG).concat(a),{method:l,body:c}).then(async l=>{if(!l.ok)throw{code:l.status,msg:l.statusText,raw:l.text()};return t((0,o.h4)(e,new Uint8Array(await l.arrayBuffer())))})}let s=async(e,t)=>{let l=await fetch("".concat(n.fG).concat(e),{method:void 0!==t.method?t.method:"POST",body:t.body});return l.ok?void 0===t.process?{}:{data:t.process(l)}:{error:{code:l.status,msg:l.text()}}};function r(e,t,l){return(c,a)=>{let d,{next:s}=a,r=new URL(""!==n.fG?n.fG:window.location.toString());r.pathname=c,r.protocol="https:"===r.protocol?"wss:":"ws:";let u=!1,i=()=>{u||(console.log("connecting to: ".concat(r)),(d=new WebSocket(r)).binaryType="arraybuffer",d.addEventListener("open",t=>{console.log("connect to: ".concat(r,", event type: ").concat(t.type)),null==d||d.send(e)}),d.addEventListener("message",e=>{let n=(0,o.h4)(t,new Uint8Array(e.data));s(null,e=>l(e,n))}),d.addEventListener("error",e=>{let t="websocket have some error";s({msg:t,code:500}),console.log(t,e.type)}),d.addEventListener("close",e=>{console.log("websocket closed, code: "+e.code),s(null,void 0),u||(console.log("reconnect after 1 seconds"),setTimeout(i,1e3))}))};return i(),()=>{u=!0,void 0!==d&&(console.log("close: ".concat(c)),d.close(),d=void 0)}}}},697:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>G});var n=l(7437),c=l(2808),o=l(9811),a=l(1617),d=l(879),s=l(8537),r=l(7895),u=l(9578),i=l(716),b=l(6908),m=l(2265),h=l(3269),g=l.n(h);let p=(0,s.U)(r.O,{seconds:BigInt(0),nanos:0}),G=function(){var e;let[t,l]=(0,m.useState)("Time"),[s,r]=(0,m.useState)(1),h=e=>e===t?r(-s):l(e),G=e=>e===t?(0,n.jsx)("i",{className:-1===s?"bi bi-sort-up-alt":"bi bi-sort-down-alt"}):(0,n.jsx)(n.Fragment,{}),R=(e,t)=>e>t?-1*s:1*s,v=e=>(0,n.jsxs)("th",{className:g().clickable,onClick:()=>h(e),children:[e,G(e)]}),{data:y,error:Z,isLoading:W,mutate:A}=(0,a.ZP)("/conn/failed_history",(0,d.D4)(b.xB));return Z?(0,n.jsx)(i.Z,{code:Z.code,children:Z.msg}):W||void 0===y?(0,n.jsx)(i.Z,{}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Z,{variant:"outline-primary",className:"mb-3",onClick:()=>A(),children:"Refresh"}),(0,n.jsxs)(o.Z,{hover:!0,striped:!0,size:"sm",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[v("Time"),(0,n.jsx)("th",{children:"Net"}),v("Host"),v("Count"),(0,n.jsx)("th",{children:"Err"}),y.dumpProcessEnabled&&v("Proc")]})}),(0,n.jsx)("tbody",{className:"text-break",children:null==y?void 0:null===(e=y.objects)||void 0===e?void 0:e.filter(e=>e.time).sort((e,l)=>{var n,c;return"Host"===t?R(e.host,l.host):"Proc"===t?R(e.process,l.process):"Count"===t?R(e.failedCount,l.failedCount):R((0,u.r1)(null!==(n=e.time)&&void 0!==n?n:p),(0,u.r1)(null!==(c=l.time)&&void 0!==c?c:p))}).map((e,t)=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,u.r1)(e.time).toLocaleString()}),(0,n.jsx)("td",{children:e.protocol}),(0,n.jsx)("td",{children:e.host}),(0,n.jsx)("td",{children:Number(e.failedCount)}),(0,n.jsx)("td",{children:e.error}),y.dumpProcessEnabled&&(0,n.jsx)("td",{children:e.process})]},"bh-"+t))})]})]})}},7035:(e,t,l)=>{"use strict";var n;l.d(t,{dt:()=>n,rH:()=>c});let c=(0,l(200).l)("ChZzdGF0aXN0aWMvY29uZmlnLnByb3RvEhF5dWhhaWluLnN0YXRpc3RpYyKEAQoIbmV0X3R5cGUSNQoJY29ubl90eXBlGAEgASgOMhcueXVoYWlpbi5zdGF0aXN0aWMudHlwZVIJY29ubl90eXBlEkEKD3VuZGVybHlpbmdfdHlwZRgCIAEoDjIXLnl1aGFpaW4uc3RhdGlzdGljLnR5cGVSD3VuZGVybHlpbmdfdHlwZSK4AQoKY29ubmVjdGlvbhIMCgRhZGRyGAEgASgJEgoKAmlkGAIgASgEEikKBHR5cGUYAyABKAsyGy55dWhhaWluLnN0YXRpc3RpYy5uZXRfdHlwZRI3CgVleHRyYRgEIAMoCzIoLnl1aGFpaW4uc3RhdGlzdGljLmNvbm5lY3Rpb24uRXh0cmFFbnRyeRosCgpFeHRyYUVudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEqjwEKBHR5cGUSCwoHdW5rbm93bhAAEgcKA3RjcBABEggKBHRjcDQQAhIICgR0Y3A2EAMSBwoDdWRwEAQSCAoEdWRwNBAFEggKBHVkcDYQBhIGCgJpcBAHEgcKA2lwNBAIEgcKA2lwNhAJEggKBHVuaXgQChIMCgh1bml4Z3JhbRALEg4KCnVuaXhwYWNrZXQQDEIzWjFnaXRodWIuY29tL0FzdXRvcnVmYS95dWhhaWluL3BrZy9wcm90b3Mvc3RhdGlzdGljYgZwcm90bzM");!function(e){e[e.unknown=0]="unknown",e[e.tcp=1]="tcp",e[e.tcp4=2]="tcp4",e[e.tcp6=3]="tcp6",e[e.udp=4]="udp",e[e.udp4=5]="udp4",e[e.udp6=6]="udp6",e[e.ip=7]="ip",e[e.ip4=8]="ip4",e[e.ip6=9]="ip6",e[e.unix=10]="unix",e[e.unixgram=11]="unixgram",e[e.unixpacket=12]="unixpacket"}(n||(n={}))},6908:(e,t,l)=>{"use strict";l.d(t,{Ei:()=>r,TX:()=>u,jz:()=>i,xB:()=>b});var n=l(200),c=l(9320),o=l(8516),a=l(7895),d=l(7035);let s=(0,n.l)("ChtzdGF0aXN0aWMvZ3JwYy9jb25maWcucHJvdG8SIHl1aGFpaW4ucHJvdG9zLnN0YXRpc3RpYy5zZXJ2aWNlIi4KCnRvdGFsX2Zsb3cSEAoIZG93bmxvYWQYASABKAQSDgoGdXBsb2FkGAIgASgEIpcCCgtub3RpZnlfZGF0YRJCCgp0b3RhbF9mbG93GAMgASgLMiwueXVoYWlpbi5wcm90b3Muc3RhdGlzdGljLnNlcnZpY2UudG90YWxfZmxvd0gAEloKFm5vdGlmeV9uZXdfY29ubmVjdGlvbnMYASABKAsyOC55dWhhaWluLnByb3Rvcy5zdGF0aXN0aWMuc2VydmljZS5ub3RpZnlfbmV3X2Nvbm5lY3Rpb25zSAASYAoZbm90aWZ5X3JlbW92ZV9jb25uZWN0aW9ucxgCIAEoCzI7Lnl1aGFpaW4ucHJvdG9zLnN0YXRpc3RpYy5zZXJ2aWNlLm5vdGlmeV9yZW1vdmVfY29ubmVjdGlvbnNIAEIGCgRkYXRhIkwKFm5vdGlmeV9uZXdfY29ubmVjdGlvbnMSMgoLY29ubmVjdGlvbnMYASADKAsyHS55dWhhaWluLnN0YXRpc3RpYy5jb25uZWN0aW9uIigKGW5vdGlmeV9yZW1vdmVfY29ubmVjdGlvbnMSCwoDaWRzGAEgAygEIp4BCg5mYWlsZWRfaGlzdG9yeRIQCghwcm90b2NvbBgBIAEoCRIMCgRob3N0GAIgASgJEg0KBWVycm9yGAMgASgJEg8KB3Byb2Nlc3MYBCABKAkSKAoEdGltZRgFIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASIgoMZmFpbGVkX2NvdW50GAYgASgEUgxmYWlsZWRfY291bnQijAEKE2ZhaWxlZF9oaXN0b3J5X2xpc3QSQQoHb2JqZWN0cxgBIAMoCzIwLnl1aGFpaW4ucHJvdG9zLnN0YXRpc3RpYy5zZXJ2aWNlLmZhaWxlZF9oaXN0b3J5EjIKFGR1bXBfcHJvY2Vzc19lbmFibGVkGAIgASgIUhRkdW1wX3Byb2Nlc3NfZW5hYmxlZDLOAwoLY29ubmVjdGlvbnMSWQoFY29ubnMSFi5nb29nbGUucHJvdG9idWYuRW1wdHkaOC55dWhhaWluLnByb3Rvcy5zdGF0aXN0aWMuc2VydmljZS5ub3RpZnlfbmV3X2Nvbm5lY3Rpb25zEmEKCmNsb3NlX2Nvbm4SOy55dWhhaWluLnByb3Rvcy5zdGF0aXN0aWMuc2VydmljZS5ub3RpZnlfcmVtb3ZlX2Nvbm5lY3Rpb25zGhYuZ29vZ2xlLnByb3RvYnVmLkVtcHR5Ek0KBXRvdGFsEhYuZ29vZ2xlLnByb3RvYnVmLkVtcHR5GiwueXVoYWlpbi5wcm90b3Muc3RhdGlzdGljLnNlcnZpY2UudG90YWxfZmxvdxJRCgZub3RpZnkSFi5nb29nbGUucHJvdG9idWYuRW1wdHkaLS55dWhhaWluLnByb3Rvcy5zdGF0aXN0aWMuc2VydmljZS5ub3RpZnlfZGF0YTABEl8KDmZhaWxlZF9oaXN0b3J5EhYuZ29vZ2xlLnByb3RvYnVmLkVtcHR5GjUueXVoYWlpbi5wcm90b3Muc3RhdGlzdGljLnNlcnZpY2UuZmFpbGVkX2hpc3RvcnlfbGlzdEI7WjlnaXRodWIuY29tL0FzdXRvcnVmYS95dWhhaWluL3BrZy9wcm90b3Mvc3RhdGlzdGljL3NlcnZpY2ViBnByb3RvMw",[o.r,d.rH,a.K]),r=(0,c.L)(s,0),u=(0,c.L)(s,1),i=(0,c.L)(s,3),b=(0,c.L)(s,5)},3269:e=>{e.exports={clickable:"clickable_clickable__ytaUf"}}},e=>{var t=t=>e(e.s=t);e.O(0,[5269,8817,1617,9758,7130,6215,1744],()=>t(8487)),_N_E=e.O()}]);