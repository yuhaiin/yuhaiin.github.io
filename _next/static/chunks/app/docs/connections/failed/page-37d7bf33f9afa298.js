(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7894],{10577:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var r=n(95155),l=n(20960),a=n(99695),o=n(77849),c=n(12115),s=n(60902),i=n(91867),d=n(60926),u=n(50700),m=n.n(u),b=n(74086),p=n(98508),h=n(70715),v=n(3384);let f=(0,l.v)(a.w,{seconds:BigInt(0),nanos:0}),g=function(){var e;let[t,n]=(0,c.useState)("Time"),[l,a]=(0,c.useState)(1),u=e=>e===t?a(-l):n(e),g=e=>e===t?(0,r.jsx)("i",{className:-1===l?"bi bi-sort-up-alt":"bi bi-sort-down-alt"}):(0,r.jsx)(r.Fragment,{});function x(e,t){return e>t?-1*l:+l}let y=e=>(0,r.jsxs)("th",{className:m().clickable,onClick:()=>u(e),children:[e,g(e)]}),{data:j,error:_,isLoading:w,isValidating:N,mutate:A}=(0,p.mp)(v.oQ.method.failed_history);return _?(0,r.jsx)(b.A,{code:_.code,children:_.msg}):w||void 0===j?(0,r.jsx)(b.A,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.A,{variant:"outline-primary",className:"mb-3",onClick:()=>A(),disabled:N||w,children:["Refresh ",(N||w)&&(0,r.jsxs)(r.Fragment,{children:["\xa0",(0,r.jsx)(i.A,{size:"sm",animation:"border"})]})]}),(0,r.jsxs)(d.A,{hover:!0,striped:!0,size:"sm",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[y("Time"),(0,r.jsx)("th",{children:"Net"}),y("Host"),y("Count"),(0,r.jsx)("th",{children:"Err"}),j.dumpProcessEnabled&&y("Proc")]})}),(0,r.jsx)("tbody",{className:"text-break",children:null==j||null==(e=j.objects)?void 0:e.filter(e=>e.time).sort((e,n)=>{var r,l;return"Host"===t?x(e.host,n.host):"Proc"===t?x(e.process,n.process):"Count"===t?x(e.failedCount,n.failedCount):x((0,o.FP)(null!=(r=e.time)?r:f),(0,o.FP)(null!=(l=n.time)?l:f))}).map((e,t)=>{var n;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,o.FP)(e.time).toLocaleString()}),(0,r.jsx)("td",{children:h.NW[null!=(n=e.protocol)?n:h.NW.unknown]}),(0,r.jsx)("td",{children:e.host}),(0,r.jsx)("td",{children:Number(e.failedCount)}),(0,r.jsx)("td",{children:e.error}),j.dumpProcessEnabled&&(0,r.jsx)("td",{children:e.process})]},"bh-"+t)})})]})]})}},23641:(e,t,n)=>{"use strict";n.d(t,{DH:()=>c,G_:()=>b,Ow:()=>u,Oz:()=>l,VN:()=>f,X3:()=>i,_s:()=>v,dp:()=>m,h$:()=>h,kP:()=>r,mv:()=>p,oH:()=>o,r3:()=>a,u1:()=>s});let r="",l="https://clients3.google.com/generate_204",a="dns.nextdns.io:853",o=!0,c="http://ip.sb",s="stun.syncthing.net:3478",i="stun.nextcloud.com:443",d=()=>{let e=localStorage.getItem("api_url");r=null!==e?e:"",e=localStorage.getItem("remote_bypass"),null!==(e=localStorage.getItem("latency_http_url"))&&(l=e),null!==(e=localStorage.getItem("latency_dns_url"))&&(a=e),null!==(e=localStorage.getItem("latency_ipv6"))&&(o="true"===e),null!==(e=localStorage.getItem("latency_ip_url"))&&(c=e),null!==(e=localStorage.getItem("latency_stun_url"))&&(s=e),null!==(e=localStorage.getItem("latency_stun_tcp_url"))&&(i=e)},u=e=>{g("api_url",e)},m=e=>{g("latency_dns_url",e)},b=e=>{g("latency_http_url",e)},p=e=>{g("latency_ipv6",e.toString())},h=e=>{g("latency_ip_url",e)},v=e=>{g("latency_stun_url",e)},f=e=>{g("latency_stun_tcp_url",e)},g=(e,t)=>{""===t?localStorage.removeItem(e):localStorage.setItem(e,t),d()};d()},24776:(e,t,n)=>{Promise.resolve().then(n.bind(n,10577))},32960:(e,t,n)=>{"use strict";n.d(t,{Am:()=>o,Ay:()=>s});var r=n(12115),l=n(95155);let a=["as","disabled"];function o({tagName:e,disabled:t,href:n,target:r,rel:l,role:a,onClick:o,tabIndex:c=0,type:s}){e||(e=null!=n||null!=r||null!=l?"a":"button");let i={tagName:e};if("button"===e)return[{type:s||"button",disabled:t},i];let d=r=>{var l;if(!t&&("a"!==e||(l=n)&&"#"!==l.trim())||r.preventDefault(),t)return void r.stopPropagation();null==o||o(r)};return"a"===e&&(n||(n="#"),t&&(n=void 0)),[{role:null!=a?a:"button",disabled:void 0,tabIndex:t?void 0:c,href:n,target:"a"===e?r:void 0,"aria-disabled":t||void 0,rel:"a"===e?l:void 0,onClick:d,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),d(e))}},i]}let c=r.forwardRef((e,t)=>{let{as:n,disabled:r}=e,c=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,a),[s,{tagName:i}]=o(Object.assign({tagName:n,disabled:r},c));return(0,l.jsx)(i,Object.assign({},c,s,{ref:t}))});c.displayName="Button";let s=c},50700:e=>{e.exports={clickable:"clickable_clickable__ytaUf"}},60902:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(29300),l=n.n(r),a=n(12115),o=n(32960),c=n(97390),s=n(95155);let i=a.forwardRef((e,t)=>{let{as:n,bsPrefix:r,variant:a="primary",size:i,active:d=!1,disabled:u=!1,className:m,...b}=e,p=(0,c.oU)(r,"btn"),[h,{tagName:v}]=(0,o.Am)({tagName:n,disabled:u,...b});return(0,s.jsx)(v,{...h,...b,ref:t,disabled:u,className:l()(m,p,d&&"active",a&&"".concat(p,"-").concat(a),i&&"".concat(p,"-").concat(i),b.href&&u&&"disabled")})});i.displayName="Button";let d=i},60926:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(29300),l=n.n(r),a=n(12115),o=n(97390),c=n(95155);let s=a.forwardRef((e,t)=>{let{bsPrefix:n,className:r,striped:a,bordered:s,borderless:i,hover:d,size:u,variant:m,responsive:b,...p}=e,h=(0,o.oU)(n,"table"),v=l()(r,h,m&&"".concat(h,"-").concat(m),u&&"".concat(h,"-").concat(u),a&&"".concat(h,"-").concat("string"==typeof a?"striped-".concat(a):"striped"),s&&"".concat(h,"-bordered"),i&&"".concat(h,"-borderless"),d&&"".concat(h,"-hover")),f=(0,c.jsx)("table",{...p,className:v,ref:t});if(b){let e="".concat(h,"-responsive");return"string"==typeof b&&(e="".concat(e,"-").concat(b)),(0,c.jsx)("div",{className:e,children:f})}return f});s.displayName="Table";let i=s},74086:(e,t,n)=>{"use strict";n.d(t,{$:()=>a,A:()=>o});var r=n(95155),l=n(91867);let a=e=>{let{statusCode:t,title:n,raw:l}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{className:"fw-bold fs-3 text-center",children:[t," | ",(0,r.jsx)("a",{className:"text-reset text-decoration-none fs-6 fw-normal",children:n})]}),l&&(0,r.jsx)("pre",{className:"text-center my-2 text-danger lead",children:l})]})},o=function(e){return(0,r.jsxs)("div",{className:"z-1090 d-flex flex-column justify-content-center align-items-center",style:{height:"100px"},children:[void 0!==e.children&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(a,{statusCode:void 0!==e.code?e.code:500,title:e.children})}),(0,r.jsx)("div",{className:"p2",children:(0,r.jsx)(l.A,{})})]})}},77849:(e,t,n)=>{"use strict";function r(e){var t;return new Date(1e3*Number((t=e).seconds)+Math.ceil(t.nanos/1e6))}n.d(t,{FP:()=>r})},89791:(e,t,n)=>{"use strict";function r(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),l=2;l<n;l++)r[l-2]=arguments[l];if(0==r.length)return e.enums[t];let a=r.pop();return r.reduce((e,t)=>e.nestedMessages[t],e.messages[t]).nestedEnums[a]}n.d(t,{R:()=>r})},91867:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(29300),l=n.n(r),a=n(12115),o=n(97390),c=n(95155);let s=a.forwardRef((e,t)=>{let{bsPrefix:n,variant:r,animation:a="border",size:s,as:i="div",className:d,...u}=e;n=(0,o.oU)(n,"spinner");let m="".concat(n,"-").concat(a);return(0,c.jsx)(i,{ref:t,...u,className:l()(d,m,s&&"".concat(m,"-").concat(s),r&&"text-".concat(r))})});s.displayName="Spinner";let i=s},98508:(e,t,n)=>{"use strict";n.d(t,{AD:()=>d,cY:()=>i,kP:()=>u,mp:()=>s,zZ:()=>m});var r=n(4965),l=n(77205),a=n(56398),o=n(19169),c=n(23641);function s(e,t){return(0,o.Ay)(i(e),d(e),t)}let i=e=>"/".concat(e.parent.typeName,"/").concat(e.name);function d(e,t,n){return()=>n?(0,r.o)(e.output,n):fetch("".concat(c.kP).concat(i(e)),{method:"POST",body:t?(0,l.R)(e.input,t):void 0}).then(async t=>{if(!t.ok)throw{code:t.status,msg:t.statusText,raw:t.text()};return(0,a.Er)(e.output,new Uint8Array(await t.arrayBuffer()))})}async function u(e,t){let n=await fetch("".concat(c.kP).concat(i(e)),{method:"POST",body:t?(0,l.R)(e.input,t):void 0});return n.ok?{data:(0,a.Er)(e.output,new Uint8Array(await n.arrayBuffer()))}:{error:{code:n.status,msg:await n.text()}}}function m(e,t,n){return(r,o)=>{let s,{next:d}=o,u=new URL(""!==c.kP?c.kP:window.location.toString());u.pathname=i(e),u.protocol="https:"===u.protocol?"wss:":"ws:";let m=!1,b=()=>{m||(console.log("connecting to: ".concat(u)),(s=new WebSocket(u)).binaryType="arraybuffer",s.addEventListener("open",n=>{console.log("connect to: ".concat(u,", event type: ").concat(n.type)),null==s||s.send((0,l.R)(e.input,t))}),s.addEventListener("message",t=>{let r=(0,a.Er)(e.output,new Uint8Array(t.data));d(null,e=>n(r,e))}),s.addEventListener("error",e=>{let t="websocket have some error";d({msg:t,code:500}),console.log(t,e.type)}),s.addEventListener("close",e=>{console.log("websocket closed, code: "+e.code+", isClosed: ",m),d(null,void 0),m||(console.log("reconnect after 2 seconds"),setTimeout(()=>b(),2e3))}))};return b(),()=>{m=!0,void 0!==s&&(console.log("close: ".concat(r)),s.close(),s=void 0)}}}},99695:(e,t,n)=>{"use strict";n.d(t,{i:()=>a,w:()=>o});var r=n(9152),l=n(78133);let a=(0,r.w)("Ch9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvEg9nb29nbGUucHJvdG9idWYiKwoJVGltZXN0YW1wEg8KB3NlY29uZHMYASABKAMSDQoFbmFub3MYAiABKAVChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),o=(0,l.Z)(a,0)}},e=>{var t=t=>e(e.s=t);e.O(0,[9607,3528,3384,8441,1684,7358],()=>t(24776)),_N_E=e.O()}]);