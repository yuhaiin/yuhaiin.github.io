(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7894],{646:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>j});var r=n(95155),s=n(47319),l=n(84396),a=n(17124),c=n(12115),o=n(36947),i=n(80312),d=n(37925),u=n(86734),m=n.n(u),p=n(50379),f=n(60485),h=n(46057),x=n(43260),g=n(48948);let v=(0,s.v)(l.w,{seconds:BigInt(0),nanos:0}),j=function(){let[e,t]=(0,c.useState)("Time"),[n,s]=(0,c.useState)(1),l=(0,c.useCallback)(function(e,t){return e>t?-1*n:+n},[n]),u=l=>(0,r.jsxs)("th",{className:m().clickable,onClick:()=>l===e?s(-n):t(l),children:[l,l===e?(0,r.jsx)("i",{className:-1===n?"bi bi-sort-up-alt":"bi bi-sort-down-alt"}):(0,r.jsx)(r.Fragment,{})]}),j=(0,c.useCallback)((t,n)=>{var r,s;return"Host"===e?l(t.host,n.host):"Proc"===e?l(t.process,n.process):"Count"===e?l(t.failedCount,n.failedCount):l((0,a.FP)(null!=(r=t.time)?r:v),(0,a.FP)(null!=(s=n.time)?s:v))},[e,l]),[y,b]=(0,c.useState)(1),{data:N,error:w,isLoading:_,isValidating:k,mutate:A}=(0,h.mp)(x.oQ.method.failed_history),P=(0,c.useMemo)(()=>{var e;return null==N||null==(e=N.objects)?void 0:e.filter(e=>e.time).sort(j)},[N,j]);return w?(0,r.jsx)(p.A,{code:w.code,children:w.msg}):_||void 0===N?(0,r.jsx)(p.A,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"d-flex justify-content-center",children:(0,r.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,r.jsxs)(o.A,{variant:"outline-primary",className:"mb-3",onClick:()=>A(),disabled:k||_,children:[(0,r.jsx)("i",{className:"bi bi-arrow-clockwise"})," ",(k||_)&&(0,r.jsxs)(r.Fragment,{children:["\xa0",(0,r.jsx)(i.A,{size:"sm",animation:"border"})]})]}),(0,r.jsx)(f.W,{currentPage:y,totalItems:P.length,pageSize:30,onPageChange:e=>{b(e)}})]})}),(0,r.jsxs)(d.A,{hover:!0,striped:!0,size:"sm",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Index"}),u("Time"),(0,r.jsx)("th",{children:"Net"}),u("Host"),u("Count"),(0,r.jsx)("th",{children:"Err"}),N.dumpProcessEnabled&&u("Proc")]})}),(0,r.jsx)("tbody",{className:"text-break",children:P.slice((y-1)*30,(y-1)*30+30).map((e,t)=>{var n;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:t+(y-1)*30+1}),(0,r.jsx)("td",{children:(0,a.FP)(e.time).toLocaleString()}),(0,r.jsx)("td",{children:g.NW[null!=(n=e.protocol)?n:g.NW.unknown]}),(0,r.jsx)("td",{children:e.host}),(0,r.jsx)("td",{children:Number(e.failedCount)}),(0,r.jsx)("td",{children:e.error}),N.dumpProcessEnabled&&(0,r.jsx)("td",{children:e.process})]},"bh-"+t)})})]})]})}},5213:(e,t,n)=>{"use strict";n.d(t,{Am:()=>a,Ay:()=>o});var r=n(12115),s=n(95155);let l=["as","disabled"];function a({tagName:e,disabled:t,href:n,target:r,rel:s,role:l,onClick:a,tabIndex:c=0,type:o}){e||(e=null!=n||null!=r||null!=s?"a":"button");let i={tagName:e};if("button"===e)return[{type:o||"button",disabled:t},i];let d=r=>{var s;if(!t&&("a"!==e||(s=n)&&"#"!==s.trim())||r.preventDefault(),t)return void r.stopPropagation();null==a||a(r)};return"a"===e&&(n||(n="#"),t&&(n=void 0)),[{role:null!=l?l:"button",disabled:void 0,tabIndex:t?void 0:c,href:n,target:"a"===e?r:void 0,"aria-disabled":t||void 0,rel:"a"===e?s:void 0,onClick:d,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),d(e))}},i]}let c=r.forwardRef((e,t)=>{let{as:n,disabled:r}=e,c=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,l),[o,{tagName:i}]=a(Object.assign({tagName:n,disabled:r},c));return(0,s.jsx)(i,Object.assign({},c,o,{ref:t}))});c.displayName="Button";let o=c},7366:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(12115);let s=function(e){let t=(0,r.useRef)(e);return(0,r.useEffect)(()=>{t.current=e},[e]),t};function l(e){let t=s(e);return(0,r.useCallback)(function(...e){return t.current&&t.current(...e)},[t])}},16420:(e,t,n)=>{"use strict";function r(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(0==r.length)return e.enums[t];let l=r.pop();return r.reduce((e,t)=>e.nestedMessages[t],e.messages[t]).nestedEnums[l]}n.d(t,{R:()=>r})},17124:(e,t,n)=>{"use strict";function r(e){var t;return new Date(1e3*Number((t=e).seconds)+Math.round(t.nanos/1e6))}n.d(t,{FP:()=>r})},24776:(e,t,n)=>{Promise.resolve().then(n.bind(n,646))},36947:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(2821),s=n(12115),l=n(5213),a=n(76837),c=n(95155);let o=s.forwardRef((e,t)=>{let{as:n,bsPrefix:s,variant:o="primary",size:i,active:d=!1,disabled:u=!1,className:m,...p}=e,f=(0,a.oU)(s,"btn"),[h,{tagName:x}]=(0,l.Am)({tagName:n,disabled:u,...p});return(0,c.jsx)(x,{...h,...p,ref:t,disabled:u,className:(0,r.A)(m,f,d&&"active",o&&"".concat(f,"-").concat(o),i&&"".concat(f,"-").concat(i),p.href&&u&&"disabled")})});o.displayName="Button";let i=o},37925:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(2821),s=n(12115),l=n(76837),a=n(95155);let c=s.forwardRef((e,t)=>{let{bsPrefix:n,className:s,striped:c,bordered:o,borderless:i,hover:d,size:u,variant:m,responsive:p,...f}=e,h=(0,l.oU)(n,"table"),x=(0,r.A)(s,h,m&&"".concat(h,"-").concat(m),u&&"".concat(h,"-").concat(u),c&&"".concat(h,"-").concat("string"==typeof c?"striped-".concat(c):"striped"),o&&"".concat(h,"-bordered"),i&&"".concat(h,"-borderless"),d&&"".concat(h,"-hover")),g=(0,a.jsx)("table",{...f,className:x,ref:t});if(p){let e="".concat(h,"-responsive");return"string"==typeof p&&(e="".concat(e,"-").concat(p)),(0,a.jsx)("div",{className:e,children:g})}return g});c.displayName="Table";let o=c},46057:(e,t,n)=>{"use strict";n.d(t,{AD:()=>d,cY:()=>i,kP:()=>u,mp:()=>o,zZ:()=>m});var r=n(64028),s=n(90456),l=n(97287),a=n(46512),c=n(99490);function o(e,t){return(0,a.Ay)(i(e),d(e),t)}let i=e=>"/".concat(e.parent.typeName,"/").concat(e.name);function d(e,t,n){return()=>n?(0,r.o)(e.output,n):fetch("".concat(c.kP).concat(i(e)),{method:"POST",body:t?(0,s.R)(e.input,t):void 0}).then(async t=>{if(!t.ok)throw{code:t.status,msg:t.statusText,raw:t.text()};return(0,l.Er)(e.output,new Uint8Array(await t.arrayBuffer()))})}async function u(e,t){let n=await fetch("".concat(c.kP).concat(i(e)),{method:"POST",body:t?(0,s.R)(e.input,t):void 0});return n.ok?{data:(0,l.Er)(e.output,new Uint8Array(await n.arrayBuffer()))}:{error:{code:n.status,msg:await n.text()}}}function m(e,t,n){return(r,a)=>{let o,{next:d}=a,u=new URL(""!==c.kP?c.kP:window.location.toString());u.pathname=i(e),u.protocol="https:"===u.protocol?"wss:":"ws:";let m=!1,p=()=>{m||(console.log("connecting to: ".concat(u)),(o=new WebSocket(u)).binaryType="arraybuffer",o.addEventListener("open",n=>{console.log("connect to: ".concat(u,", event type: ").concat(n.type)),null==o||o.send((0,s.R)(e.input,t))}),o.addEventListener("message",t=>{let r=(0,l.Er)(e.output,new Uint8Array(t.data));d(null,e=>n(r,e))}),o.addEventListener("error",e=>{let t="websocket have some error";d({msg:t,code:500}),console.log(t,e.type)}),o.addEventListener("close",e=>{console.log("websocket closed, code: "+e.code+", isClosed: ",m),d(null,void 0),m||(console.log("reconnect after 2 seconds"),setTimeout(()=>p(),2e3))}))};return p(),()=>{m=!0,void 0!==o&&(console.log("close: ".concat(r)),o.close(),o=void 0)}}}},50379:(e,t,n)=>{"use strict";n.d(t,{$:()=>l,A:()=>a});var r=n(95155),s=n(80312);let l=e=>{let{statusCode:t,title:n,raw:s}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{className:"fw-bold fs-3 text-center",children:[t," | ",(0,r.jsx)("a",{className:"text-reset text-decoration-none fs-6 fw-normal",children:n})]}),s&&(0,r.jsx)("pre",{className:"text-center my-2 text-danger lead",children:s})]})},a=function(e){return(0,r.jsxs)("div",{className:"z-1090 d-flex flex-column justify-content-center align-items-center",style:{height:"100px"},children:[void 0!==e.children&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(l,{statusCode:void 0!==e.code?e.code:500,title:e.children})}),(0,r.jsx)("div",{className:"p2",children:(0,r.jsx)(s.A,{})})]})}},60485:(e,t,n)=>{"use strict";n.d(t,{W:()=>g});var r=n(95155),s=n(2821),l=n(12115),a=n(76837),c=n(86400);let o=l.forwardRef((e,t)=>{let{active:n=!1,disabled:l=!1,className:a,style:o,activeLabel:i="(current)",children:d,linkStyle:u,linkClassName:m,as:p=c.A,...f}=e,h=n||l?"span":p;return(0,r.jsx)("li",{ref:t,style:o,className:(0,s.A)(a,"page-item",{active:n,disabled:l}),children:(0,r.jsxs)(h,{className:(0,s.A)("page-link",m),style:u,...f,children:[d,n&&i&&(0,r.jsx)("span",{className:"visually-hidden",children:i})]})})});function i(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,s=l.forwardRef((e,s)=>{let{children:l,...a}=e;return(0,r.jsxs)(o,{...a,ref:s,children:[(0,r.jsx)("span",{"aria-hidden":"true",children:l||t}),(0,r.jsx)("span",{className:"visually-hidden",children:n})]})});return s.displayName=e,s}o.displayName="PageItem";let d=i("First","\xab"),u=i("Prev","‹","Previous"),m=i("Ellipsis","…","More"),p=i("Next","›"),f=i("Last","\xbb"),h=l.forwardRef((e,t)=>{let{bsPrefix:n,className:l,size:c,...o}=e,i=(0,a.oU)(n,"pagination");return(0,r.jsx)("ul",{ref:t,...o,className:(0,s.A)(l,i,c&&"".concat(i,"-").concat(c))})});h.displayName="Pagination";let x=Object.assign(h,{First:d,Prev:u,Ellipsis:m,Item:o,Next:p,Last:f});function g(e){let{currentPage:t,totalItems:n,pageSize:s,onPageChange:l}=e,a=Math.ceil(n/s),c=[];if(a<=7)for(let e=1;e<=a;e++)c.push(e);else if(t<=4){for(let e=1;e<=5;e++)c.push(e);c.push("ellipsis"),c.push(a)}else if(t>=a-2-1){c.push(1),c.push("ellipsis");for(let e=a-5+1;e<=a;e++)c.push(e)}else{c.push(1),c.push("ellipsis");for(let e=t-1;e<=t+1;e++)c.push(e);c.push("ellipsis"),c.push(a)}return(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)(x,{className:"justify-content-center d-inline-flex",children:[(0,r.jsx)(x.Prev,{onClick:()=>l(t-1),disabled:1===t}),c.map((e,n)=>"ellipsis"===e?(0,r.jsx)(x.Ellipsis,{disabled:!0},"e"+n):(0,r.jsx)(x.Item,{active:e===t,onClick:()=>l(e),children:e},e)),(0,r.jsx)(x.Next,{onClick:()=>l(t+1),disabled:t===a})]})})}},80312:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(2821),s=n(12115),l=n(76837),a=n(95155);let c=s.forwardRef((e,t)=>{let{bsPrefix:n,variant:s,animation:c="border",size:o,as:i="div",className:d,...u}=e;n=(0,l.oU)(n,"spinner");let m="".concat(n,"-").concat(c);return(0,a.jsx)(i,{ref:t,...u,className:(0,r.A)(d,m,o&&"".concat(m,"-").concat(o),s&&"text-".concat(s))})});c.displayName="Spinner";let o=c},86400:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(12115),s=n(7366),l=n(5213),a=n(95155);let c=["onKeyDown"],o=r.forwardRef((e,t)=>{let{onKeyDown:n}=e,r=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,c),[o]=(0,l.Am)(Object.assign({tagName:"a"},r)),i=(0,s.A)(e=>{o.onKeyDown(e),null==n||n(e)});return function(e){return!e||"#"===e.trim()}(r.href)||"button"===r.role?(0,a.jsx)("a",Object.assign({ref:t},r,o,{onKeyDown:i})):(0,a.jsx)("a",Object.assign({ref:t},r,{onKeyDown:n}))});o.displayName="Anchor";let i=o},86734:e=>{e.exports={clickable:"clickable_clickable__ytaUf"}},99490:(e,t,n)=>{"use strict";n.d(t,{DH:()=>c,G_:()=>p,Ow:()=>u,Oz:()=>s,VN:()=>g,X3:()=>i,_s:()=>x,dp:()=>m,h$:()=>h,kP:()=>r,mv:()=>f,oH:()=>a,r3:()=>l,u1:()=>o});let r="",s="https://clients3.google.com/generate_204",l="dns.nextdns.io:853",a=!0,c="http://ip.sb",o="stun.syncthing.net:3478",i="stun.nextcloud.com:443",d=()=>{let e=localStorage.getItem("api_url");r=null!==e?e:"",e=localStorage.getItem("remote_bypass"),null!==(e=localStorage.getItem("latency_http_url"))&&(s=e),null!==(e=localStorage.getItem("latency_dns_url"))&&(l=e),null!==(e=localStorage.getItem("latency_ipv6"))&&(a="true"===e),null!==(e=localStorage.getItem("latency_ip_url"))&&(c=e),null!==(e=localStorage.getItem("latency_stun_url"))&&(o=e),null!==(e=localStorage.getItem("latency_stun_tcp_url"))&&(i=e)},u=e=>{v("api_url",e)},m=e=>{v("latency_dns_url",e)},p=e=>{v("latency_http_url",e)},f=e=>{v("latency_ipv6",e.toString())},h=e=>{v("latency_ip_url",e)},x=e=>{v("latency_stun_url",e)},g=e=>{v("latency_stun_tcp_url",e)},v=(e,t)=>{""===t?localStorage.removeItem(e):localStorage.setItem(e,t),d()};d()}},e=>{e.O(0,[2941,6970,3260,8441,1255,7358],()=>e(e.s=24776)),_N_E=e.O()}]);