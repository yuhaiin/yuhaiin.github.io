(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7894],{9966:(e,t,n)=>{"use strict";n.d(t,{AT:()=>r});var s=n(9152),c=n(24177);let r=(0,s.w)("CiFnb29nbGUvcHJvdG9idWYvZ29fZmVhdHVyZXMucHJvdG8SAnBiIvcECgpHb0ZlYXR1cmVzEqUBChpsZWdhY3lfdW5tYXJzaGFsX2pzb25fZW51bRgBIAEoCEKAAYgBAZgBBpgBAaIBCRIEdHJ1ZRiEB6IBChIFZmFsc2UY5weyAVsI6AcQ6AcaU1RoZSBsZWdhY3kgVW5tYXJzaGFsSlNPTiBBUEkgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIGVkaXRpb24uEmoKCWFwaV9sZXZlbBgCIAEoDjIXLnBiLkdvRmVhdHVyZXMuQVBJTGV2ZWxCPogBAZgBA5gBAaIBGhIVQVBJX0xFVkVMX1VOU1BFQ0lGSUVEGIQHogEPEgpBUElfT1BBUVVFGOkHsgEDCOgHEmsKEXN0cmlwX2VudW1fcHJlZml4GAMgASgOMh4ucGIuR29GZWF0dXJlcy5TdHJpcEVudW1QcmVmaXhCMIgBAZgBBpgBB5gBAaIBGxIWU1RSSVBfRU5VTV9QUkVGSVhfS0VFUBiEB7IBAwjpByJTCghBUElMZXZlbBIZChVBUElfTEVWRUxfVU5TUEVDSUZJRUQQABIMCghBUElfT1BFThABEg4KCkFQSV9IWUJSSUQQAhIOCgpBUElfT1BBUVVFEAMikgEKD1N0cmlwRW51bVByZWZpeBIhCh1TVFJJUF9FTlVNX1BSRUZJWF9VTlNQRUNJRklFRBAAEhoKFlNUUklQX0VOVU1fUFJFRklYX0tFRVAQARIjCh9TVFJJUF9FTlVNX1BSRUZJWF9HRU5FUkFURV9CT1RIEAISGwoXU1RSSVBfRU5VTV9QUkVGSVhfU1RSSVAQAzo8CgJnbxIbLmdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0GOoHIAEoCzIOLnBiLkdvRmVhdHVyZXNSAmdvQi9aLWdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2dvZmVhdHVyZXNwYg",[c.PX])},10577:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>B});var s=n(95155),c=n(20960),r=n(99695),l=n(77849),o=n(12115),a=n(60902),d=n(91867),i=n(60926),u=n(50700),m=n.n(u),h=n(74086),g=n(98508),p=n(70715),f=n(3384);let V=(0,c.v)(r.w,{seconds:BigInt(0),nanos:0}),B=function(){var e;let[t,n]=(0,o.useState)("Time"),[c,r]=(0,o.useState)(1),u=e=>e===t?r(-c):n(e),B=e=>e===t?(0,s.jsx)("i",{className:-1===c?"bi bi-sort-up-alt":"bi bi-sort-down-alt"}):(0,s.jsx)(s.Fragment,{});function b(e,t){return e>t?-1*c:+c}let v=e=>(0,s.jsxs)("th",{className:m().clickable,onClick:()=>u(e),children:[e,B(e)]}),{data:x,error:y,isLoading:A,isValidating:U,mutate:E}=(0,g.mp)(f.oQ.method.failed_history);return y?(0,s.jsx)(h.A,{code:y.code,children:y.msg}):A||void 0===x?(0,s.jsx)(h.A,{}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a.A,{variant:"outline-primary",className:"mb-3",onClick:()=>E(),disabled:U||A,children:["Refresh ",(U||A)&&(0,s.jsxs)(s.Fragment,{children:["\xa0",(0,s.jsx)(d.A,{size:"sm",animation:"border"})]})]}),(0,s.jsxs)(i.A,{hover:!0,striped:!0,size:"sm",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[v("Time"),(0,s.jsx)("th",{children:"Net"}),v("Host"),v("Count"),(0,s.jsx)("th",{children:"Err"}),x.dumpProcessEnabled&&v("Proc")]})}),(0,s.jsx)("tbody",{className:"text-break",children:null==x||null==(e=x.objects)?void 0:e.filter(e=>e.time).sort((e,n)=>{var s,c;return"Host"===t?b(e.host,n.host):"Proc"===t?b(e.process,n.process):"Count"===t?b(e.failedCount,n.failedCount):b((0,l.FP)(null!=(s=e.time)?s:V),(0,l.FP)(null!=(c=n.time)?c:V))}).map((e,t)=>{var n;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,l.FP)(e.time).toLocaleString()}),(0,s.jsx)("td",{children:p.NW[null!=(n=e.protocol)?n:p.NW.unknown]}),(0,s.jsx)("td",{children:e.host}),(0,s.jsx)("td",{children:Number(e.failedCount)}),(0,s.jsx)("td",{children:e.error}),x.dumpProcessEnabled&&(0,s.jsx)("td",{children:e.process})]},"bh-"+t)})})]})]})}},23641:(e,t,n)=>{"use strict";n.d(t,{DH:()=>o,G_:()=>h,Ow:()=>u,Oz:()=>c,VN:()=>V,X3:()=>d,_s:()=>f,dp:()=>m,h$:()=>p,kP:()=>s,mv:()=>g,oH:()=>l,r3:()=>r,u1:()=>a});let s="",c="https://clients3.google.com/generate_204",r="dns.nextdns.io:853",l=!0,o="http://ip.sb",a="stun.syncthing.net:3478",d="stun.nextcloud.com:443",i=()=>{let e=localStorage.getItem("api_url");s=null!==e?e:"",e=localStorage.getItem("remote_bypass"),null!==(e=localStorage.getItem("latency_http_url"))&&(c=e),null!==(e=localStorage.getItem("latency_dns_url"))&&(r=e),null!==(e=localStorage.getItem("latency_ipv6"))&&(l="true"===e),null!==(e=localStorage.getItem("latency_ip_url"))&&(o=e),null!==(e=localStorage.getItem("latency_stun_url"))&&(a=e),null!==(e=localStorage.getItem("latency_stun_tcp_url"))&&(d=e)},u=e=>{B("api_url",e)},m=e=>{B("latency_dns_url",e)},h=e=>{B("latency_http_url",e)},g=e=>{B("latency_ipv6",e.toString())},p=e=>{B("latency_ip_url",e)},f=e=>{B("latency_stun_url",e)},V=e=>{B("latency_stun_tcp_url",e)},B=(e,t)=>{""===t?localStorage.removeItem(e):localStorage.setItem(e,t),i()};i()},24776:(e,t,n)=>{Promise.resolve().then(n.bind(n,10577))},40928:(e,t,n)=>{"use strict";function s(e,t){for(var n=arguments.length,s=Array(n>2?n-2:0),c=2;c<n;c++)s[c-2]=arguments[c];return s.reduce((e,t)=>e.nestedMessages[t],e.messages[t])}n.d(t,{Z:()=>s})},50700:e=>{e.exports={clickable:"clickable_clickable__ytaUf"}},60902:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var s=n(29300),c=n.n(s),r=n(12115),l=n(32960),o=n(97390),a=n(95155);let d=r.forwardRef((e,t)=>{let{as:n,bsPrefix:s,variant:r="primary",size:d,active:i=!1,disabled:u=!1,className:m,...h}=e,g=(0,o.oU)(s,"btn"),[p,{tagName:f}]=(0,l.Am)({tagName:n,disabled:u,...h});return(0,a.jsx)(f,{...p,...h,ref:t,disabled:u,className:c()(m,g,i&&"active",r&&"".concat(g,"-").concat(r),d&&"".concat(g,"-").concat(d),h.href&&u&&"disabled")})});d.displayName="Button";let i=d},60926:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var s=n(29300),c=n.n(s),r=n(12115),l=n(97390),o=n(95155);let a=r.forwardRef((e,t)=>{let{bsPrefix:n,className:s,striped:r,bordered:a,borderless:d,hover:i,size:u,variant:m,responsive:h,...g}=e,p=(0,l.oU)(n,"table"),f=c()(s,p,m&&"".concat(p,"-").concat(m),u&&"".concat(p,"-").concat(u),r&&"".concat(p,"-").concat("string"==typeof r?"striped-".concat(r):"striped"),a&&"".concat(p,"-bordered"),d&&"".concat(p,"-borderless"),i&&"".concat(p,"-hover")),V=(0,o.jsx)("table",{...g,className:f,ref:t});if(h){let e="".concat(p,"-responsive");return"string"==typeof h&&(e="".concat(e,"-").concat(h)),(0,o.jsx)("div",{className:e,children:V})}return V});a.displayName="Table";let d=a},74086:(e,t,n)=>{"use strict";n.d(t,{$:()=>r,A:()=>l});var s=n(95155),c=n(91867);let r=e=>{let{statusCode:t,title:n,raw:c}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{className:"fw-bold fs-3 text-center",children:[t," | ",(0,s.jsx)("a",{className:"text-reset text-decoration-none fs-6 fw-normal",children:n})]}),c&&(0,s.jsx)("pre",{className:"text-center my-2 text-danger lead",children:c})]})},l=function(e){return(0,s.jsxs)("div",{className:"z-1090 d-flex flex-column justify-content-center align-items-center",style:{height:"100px"},children:[void 0!==e.children&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(r,{statusCode:void 0!==e.code?e.code:500,title:e.children})}),(0,s.jsx)("div",{className:"p2",children:(0,s.jsx)(c.A,{})})]})}},77849:(e,t,n)=>{"use strict";function s(e){var t;return new Date(1e3*Number((t=e).seconds)+Math.ceil(t.nanos/1e6))}n.d(t,{FP:()=>s})},91867:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var s=n(29300),c=n.n(s),r=n(12115),l=n(97390),o=n(95155);let a=r.forwardRef((e,t)=>{let{bsPrefix:n,variant:s,animation:r="border",size:a,as:d="div",className:i,...u}=e;n=(0,l.oU)(n,"spinner");let m="".concat(n,"-").concat(r);return(0,o.jsx)(d,{ref:t,...u,className:c()(i,m,a&&"".concat(m,"-").concat(a),s&&"text-".concat(s))})});a.displayName="Spinner";let d=a},98508:(e,t,n)=>{"use strict";n.d(t,{AD:()=>i,cY:()=>d,kP:()=>u,mp:()=>a,zZ:()=>m});var s=n(4965),c=n(77205),r=n(56398),l=n(19169),o=n(23641);function a(e,t){return(0,l.Ay)(d(e),i(e),t)}let d=e=>"/".concat(e.parent.typeName,"/").concat(e.name);function i(e,t,n){return()=>n?(0,s.o)(e.output,n):fetch("".concat(o.kP).concat(d(e)),{method:"POST",body:t?(0,c.R)(e.input,t):void 0}).then(async t=>{if(!t.ok)throw{code:t.status,msg:t.statusText,raw:t.text()};return(0,r.Er)(e.output,new Uint8Array(await t.arrayBuffer()))})}async function u(e,t){let n=await fetch("".concat(o.kP).concat(d(e)),{method:"POST",body:t?(0,c.R)(e.input,t):void 0});return n.ok?{data:(0,r.Er)(e.output,new Uint8Array(await n.arrayBuffer()))}:{error:{code:n.status,msg:await n.text()}}}function m(e,t,n){return(s,l)=>{let a,{next:i}=l,u=new URL(""!==o.kP?o.kP:window.location.toString());u.pathname=d(e),u.protocol="https:"===u.protocol?"wss:":"ws:";let m=!1,h=()=>{m||(console.log("connecting to: ".concat(u)),(a=new WebSocket(u)).binaryType="arraybuffer",a.addEventListener("open",n=>{console.log("connect to: ".concat(u,", event type: ").concat(n.type)),null==a||a.send((0,c.R)(e.input,t))}),a.addEventListener("message",t=>{let s=(0,r.Er)(e.output,new Uint8Array(t.data));i(null,e=>n(s,e))}),a.addEventListener("error",e=>{let t="websocket have some error";i({msg:t,code:500}),console.log(t,e.type)}),a.addEventListener("close",e=>{console.log("websocket closed, code: "+e.code+", isClosed: ",m),i(null,void 0),m||(console.log("reconnect after 2 seconds"),setTimeout(()=>h(),2e3))}))};return h(),()=>{m=!0,void 0!==a&&(console.log("close: ".concat(s)),a.close(),a=void 0)}}}},99048:(e,t,n)=>{"use strict";function s(e,t){for(var n=arguments.length,s=Array(n>2?n-2:0),c=2;c<n;c++)s[c-2]=arguments[c];if(0==s.length)return e.enums[t];let r=s.pop();return s.reduce((e,t)=>e.nestedMessages[t],e.messages[t]).nestedEnums[r]}n.d(t,{R:()=>s})}},e=>{var t=t=>e(e.s=t);e.O(0,[9607,8088,3384,8441,1684,7358],()=>t(24776)),_N_E=e.O()}]);