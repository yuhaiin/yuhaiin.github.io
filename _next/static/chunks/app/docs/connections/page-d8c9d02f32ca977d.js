(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[706],{8438:(l,d,a)=>{Promise.resolve().then(a.bind(a,2988))},425:(l,d,a)=>{"use strict";a.d(d,{H:()=>t,T:()=>s});var e=a(5155),c=a(8628),n=a(57),o=a(6342);let t=l=>(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.A.Item,{children:(0,e.jsxs)("div",{className:"d-sm-flex",children:[(0,e.jsx)("div",{className:"endpoint-name flex-grow-1 notranslate text-capitalize",children:l.itemKey}),(0,e.jsx)("div",{className:"notranslate text-break",style:{opacity:.6},children:"hash"===l.itemKey&&l.showModal?(0,e.jsx)("a",{href:"#",onClick:d=>{d.preventDefault(),l.showModal&&l.showModal(l.itemValue)},children:l.itemValue}):l.itemValue})]})})}),s=l=>{let{value:d,endContent:a,showModal:s}=l;return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(n.A,{variant:"flush",children:[function(l){let d=(0,c.E4)(o.mR,l),a=(l,d)=>{if("enum"===l.fieldKind){let a=d.get(l);return l.enum.value[a].name}{let a=d.get(l);if(!a)return;return a.toString()}},n=l=>{let{f:d,ref:c}=l,n=a(d,c);if(n)return(0,e.jsx)(t,{itemKey:d.name.replaceAll("_"," "),itemValue:n,showModal:s})};return(0,e.jsx)(e.Fragment,{children:d.fields.map(l=>{if("message"===l.fieldKind){let a=d.get(l);return a.fields.map(l=>(0,e.jsx)(n,{f:l,ref:a},l.name))}return(0,e.jsx)(n,{f:l,ref:d},l.name)})})}(d),a]})})}},2988:(l,d,a)=>{"use strict";a.r(d),a.d(d,{default:()=>I});var e=a(5155),c=a(3577),n=a(9297),o=a(2115),t=a(2981),s=a(57),i=a(8900),A=a(1566),m=a(2963),u=a(4216),b=a(7021),g=a(1149),Z=a(9169),r=a(8927),h=a(148),G=a(4778),W=a(4805),p=a(6342),v=a(6903),V=a(425);let R=function(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!+l)return"0B";let a=Math.floor(Math.log(l)/Math.log(1024)),e=parseFloat((l/Math.pow(1024,a)).toFixed(0>d?0:d)),c=["B","KB","MB","GB","TB","PB","EB","ZB","YB"][a];return isNaN(e)||void 0===c?"":"".concat(e).concat(c)},X=(l,d)=>{let a=(l.download-(d.download!==BigInt(0)?d.download:l.download))/BigInt(2),e=(l.upload-(d.upload!==BigInt(0)?d.upload:l.upload))/BigInt(2);return{download:"(".concat(R(Number(l.download)),"): ").concat(R(Number(a)),"/S"),upload:"(".concat(R(Number(l.upload)),"): ").concat(R(Number(e)),"/S")}},N=l=>{var d,a;let n=(0,o.useContext)(h.u),[t,b]=(0,o.useState)(!1);return(0,e.jsxs)(i.A.Item,{eventKey:l.data.id.toString(),children:[(0,e.jsx)(i.A.Header,{children:(0,e.jsxs)("div",{className:"d-line text-break",children:[(0,e.jsx)("code",{className:"ms-2",children:l.data.id.toString()}),(0,e.jsx)("span",{className:"ms-2",children:l.data.addr}),(0,e.jsx)(A.A,{className:"bg-light rounded-pill text-dark ms-1 text-uppercase",children:W.Mq[l.data.mode]}),(0,e.jsx)(A.A,{className:"bg-light rounded-pill text-dark ms-1 text-uppercase",children:p.NW[null!==(a=null===(d=l.data.type)||void 0===d?void 0:d.connType)&&void 0!==a?a:0]}),l.data.tag&&(0,e.jsx)(A.A,{className:"bg-light rounded-pill text-dark ms-1 text-uppercase",children:l.data.tag})]})}),(0,e.jsx)(i.A.Body,{children:(0,e.jsx)(V.T,{value:l.data,showModal:l.showModal,endContent:(0,e.jsx)(s.A.Item,{children:(0,e.jsx)("div",{className:"d-sm-flex",children:(0,e.jsxs)(m.A,{variant:"outline-danger",className:"flex-grow-1 notranslate",disabled:t,onClick:()=>{b(!0),(0,r.kP)(v.oQ.method.close_conn,(0,c.v)(v.SE,{ids:[l.data.id]})).then(async d=>{let{error:a}=d;a?(n.Error("code ".concat(l.data.id," failed, ").concat(a.code,"| ").concat(a.msg)),b(!1)):setTimeout(()=>{b(!1)},5e3)})},children:["Close",t&&(0,e.jsxs)(e.Fragment,{children:["\xa0",(0,e.jsx)(u.A,{size:"sm",animation:"border",variant:"danger"})]})]})})})})})]},l.data.id)},I=function(){let[l,d]=(0,o.useState)({show:!1,hash:""}),[a,A]=(0,o.useState)({download:BigInt(0),upload:BigInt(0)}),{data:m,error:u}=(0,b.Ay)("/flow/total",async()=>(0,r.kP)(v.oQ.method.total).then(async l=>{let{data:d,error:e}=l;if(e)throw e;if(d){let l=X(d,{download:a.download,upload:a.upload});return A({download:d.download,upload:d.upload}),l}}),{refreshInterval:2e3}),{data:h,error:W}=(0,g.A)((0,r.cY)(v.oQ.method.notify),(0,r.zZ)(v.oQ.method.notify,(0,c.v)(n.v,{}),(l,d)=>{switch(void 0===d&&(d=new Map),l.data.case){case"notifyNewConnections":l.data.value.connections.sort((l,d)=>l.id>d.id?1:-1).forEach(l=>{d.set(l.id,l)});break;case"notifyRemoveConnections":l.data.value.ids.forEach(l=>{d.delete(l)})}return d}),{});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(G.y,{show:l.show,hash:l.hash,editable:!1,onHide:()=>d({...l,show:!1})}),(0,e.jsx)(t.A,{className:"mb-3",children:(0,e.jsxs)(s.A,{variant:"flush",children:[(0,e.jsx)(s.A.Item,{children:(0,e.jsxs)("div",{className:"d-sm-flex",children:[(0,e.jsx)("div",{className:"endpoint-name flex-grow-1 notranslate",children:"Download"}),(0,e.jsx)("div",{className:"notranslate",style:{opacity:.6},id:"statistic-download",children:m?m.download:void 0!==u?u.msg:"Loading..."})]})}),(0,e.jsx)(s.A.Item,{children:(0,e.jsxs)("div",{className:"d-sm-flex",children:[(0,e.jsx)("div",{className:"endpoint-name flex-grow-1 notranslate",children:"Upload"}),(0,e.jsx)("div",{className:"notranslate",style:{opacity:.6},id:"statistic-upload",children:m?m.upload:void 0!==u?u.msg:"Loading..."})]})})]})}),void 0!==W?(0,e.jsx)(Z.A,{code:W.code,children:W.msg}):void 0===h?(0,e.jsx)(Z.A,{}):(0,e.jsx)(i.A,{className:"mb-3",alwaysOpen:!0,id:"connections",children:[...h.values()].reverse().map(l=>(0,e.jsx)(N,{data:l,showModal:l=>d({show:!0,hash:l})},l.id))})]})}},4805:(l,d,a)=>{"use strict";a.d(d,{Mq:()=>b,Ni:()=>g,Nm:()=>A,Qn:()=>s,Uu:()=>m,eT:()=>i,f5:()=>h,ie:()=>u,kw:()=>r,ml:()=>G,pI:()=>Z,qc:()=>t});var e=a(7570),c=a(8123),n=a(9537),o=a(1429);let t=(0,e.w)("Chpjb25maWcvYnlwYXNzL2J5cGFzcy5wcm90bxIOeXVoYWlpbi5ieXBhc3MixwMKBmNvbmZpZxIhCgN0Y3AYAyABKA4yFC55dWhhaWluLmJ5cGFzcy5tb2RlEiEKA3VkcBgEIAEoDjIULnl1aGFpaW4uYnlwYXNzLm1vZGUSJAoLYnlwYXNzX2ZpbGUYAiABKAlCAhgBUgtieXBhc3NfZmlsZRJPCg51ZHBfcHJveHlfZnFkbhgGIAEoDjInLnl1aGFpaW4uYnlwYXNzLnVkcF9wcm94eV9mcWRuX3N0cmF0ZWd5Ug51ZHBfcHJveHlfZnFkbhJDCg5jdXN0b21fcnVsZV92MxgHIAMoCzIbLnl1aGFpaW4uYnlwYXNzLm1vZGVfY29uZmlnUg5jdXN0b21fcnVsZV92MxI/CgxyZW1vdGVfcnVsZXMYCCADKAsyGy55dWhhaWluLmJ5cGFzcy5yZW1vdGVfcnVsZVIMcmVtb3RlX3J1bGVzEigKD3Jlc29sdmVfbG9jYWxseRgJIAEoCFIPcmVzb2x2ZV9sb2NhbGx5EigKD2RpcmVjdF9yZXNvbHZlchgKIAEoCVIPZGlyZWN0X3Jlc29sdmVyEiYKDnByb3h5X3Jlc29sdmVyGAsgASgJUg5wcm94eV9yZXNvbHZlciKmAwoLbW9kZV9jb25maWcSIgoEbW9kZRgBIAEoDjIULnl1aGFpaW4uYnlwYXNzLm1vZGUSCwoDdGFnGAIgASgJEhAKCGhvc3RuYW1lGAMgAygJEkwKEHJlc29sdmVfc3RyYXRlZ3kYBCABKA4yIC55dWhhaWluLmJ5cGFzcy5yZXNvbHZlX3N0cmF0ZWd5UhByZXNvbHZlX3N0cmF0ZWd5EmEKF3VkcF9wcm94eV9mcWRuX3N0cmF0ZWd5GAYgASgOMicueXVoYWlpbi5ieXBhc3MudWRwX3Byb3h5X2ZxZG5fc3RyYXRlZ3lSF3VkcF9wcm94eV9mcWRuX3N0cmF0ZWd5EhAKCHJlc29sdmVyGAggASgJEkkKCmVycm9yX21zZ3MYByADKAsyKi55dWhhaWluLmJ5cGFzcy5tb2RlX2NvbmZpZy5FcnJvck1zZ3NFbnRyeVIJZXJyb3JfbXNnGjAKDkVycm9yTXNnc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAFKBAgFEAZSDnVkcF9wcm94eV9mcWRuIvkBCgtyZW1vdGVfcnVsZRIPCgdlbmFibGVkGAEgASgIEgwKBG5hbWUYAiABKAkSMAoEZmlsZRgDIAEoCzIgLnl1aGFpaW4uYnlwYXNzLnJlbW90ZV9ydWxlX2ZpbGVIABIwCgRodHRwGAQgASgLMiAueXVoYWlpbi5ieXBhc3MucmVtb3RlX3J1bGVfaHR0cEgAEhwKCWVycm9yX21zZxgFIAEoCVIJZXJyb3JfbXNnEj8KDGRlZmF1bHRfbW9kZRgGIAEoCzIbLnl1aGFpaW4uYnlwYXNzLm1vZGVfY29uZmlnUgxkZWZhdWx0X21vZGVCCAoGb2JqZWN0IiAKEHJlbW90ZV9ydWxlX2ZpbGUSDAoEcGF0aBgBIAEoCSIvChByZW1vdGVfcnVsZV9odHRwEgsKA3VybBgBIAEoCRIOCgZtZXRob2QYAiABKAkqNAoEbW9kZRIKCgZieXBhc3MQABIKCgZkaXJlY3QQARIJCgVwcm94eRACEgkKBWJsb2NrEAMqXwoQcmVzb2x2ZV9zdHJhdGVneRILCgdkZWZhdWx0EAASDwoLcHJlZmVyX2lwdjQQARINCglvbmx5X2lwdjQQAhIPCgtwcmVmZXJfaXB2NhADEg0KCW9ubHlfaXB2NhAEKl0KF3VkcF9wcm94eV9mcWRuX3N0cmF0ZWd5EiMKH3VkcF9wcm94eV9mcWRuX3N0cmF0ZWd5X2RlZmF1bHQQABILCgdyZXNvbHZlEAESEAoMc2tpcF9yZXNvbHZlEAJCP1o1Z2l0aHViLmNvbS9Bc3V0b3J1ZmEveXVoYWlpbi9wa2cvcHJvdG9zL2NvbmZpZy9ieXBhc3OSAwXSPgIQA2IIZWRpdGlvbnNw6Ac",[o.AT]),s=(0,c.Z)(t,0),i=(0,c.Z)(t,1),A=(0,c.Z)(t,2),m=(0,c.Z)(t,3),u=(0,c.Z)(t,4);var b=function(l){return l[l.bypass=0]="bypass",l[l.direct=1]="direct",l[l.proxy=2]="proxy",l[l.block=3]="block",l}({});let g=(0,n.R)(t,0);var Z=function(l){return l[l.default=0]="default",l[l.prefer_ipv4=1]="prefer_ipv4",l[l.only_ipv4=2]="only_ipv4",l[l.prefer_ipv6=3]="prefer_ipv6",l[l.only_ipv6=4]="only_ipv6",l}({});let r=(0,n.R)(t,1);var h=function(l){return l[l.udp_proxy_fqdn_strategy_default=0]="udp_proxy_fqdn_strategy_default",l[l.resolve=1]="resolve",l[l.skip_resolve=2]="skip_resolve",l}({});let G=(0,n.R)(t,2)},6342:(l,d,a)=>{"use strict";a.d(d,{L9:()=>t,NW:()=>i,mR:()=>s});var e=a(7570),c=a(8123),n=a(1429),o=a(4805);let t=(0,e.w)("ChZzdGF0aXN0aWMvY29uZmlnLnByb3RvEhF5dWhhaWluLnN0YXRpc3RpYyKEAQoIbmV0X3R5cGUSNQoJY29ubl90eXBlGAEgASgOMhcueXVoYWlpbi5zdGF0aXN0aWMudHlwZVIJY29ubl90eXBlEkEKD3VuZGVybHlpbmdfdHlwZRgCIAEoDjIXLnl1aGFpaW4uc3RhdGlzdGljLnR5cGVSD3VuZGVybHlpbmdfdHlwZSKNBAoKY29ubmVjdGlvbhIMCgRhZGRyGAEgASgJEgoKAmlkGAIgASgEEikKBHR5cGUYAyABKAsyGy55dWhhaWluLnN0YXRpc3RpYy5uZXRfdHlwZRIOCgZzb3VyY2UYBSABKAkSDwoHaW5ib3VuZBgGIAEoCRIQCghvdXRib3VuZBgYIAEoCRIUCgxkZXN0aW9uYXRpb24YByABKAkSGAoHZmFrZV9pcBgIIAEoCVIHZmFrZV9pcBINCgVob3N0cxgJIAEoCRIOCgZkb21haW4YCiABKAkSCgoCaXAYCyABKAkSCwoDdGFnGAwgASgJEgwKBGhhc2gYDSABKAkSEAoIcHJvdG9jb2wYDiABKAkSDwoHcHJvY2VzcxgPIAEoCRILCgNwaWQYECABKAQSCwoDdWlkGBEgASgEEigKD3Rsc19zZXJ2ZXJfbmFtZRgSIAEoCVIPdGxzX3NlcnZlcl9uYW1lEhwKCWh0dHBfaG9zdBgTIAEoCVIJaHR0cF9ob3N0EhEKCWNvbXBvbmVudBgUIAEoCRImCg51ZHBfbWlncmF0ZV9pZBgVIAEoBFIOdWRwX21pZ3JhdGVfaWQSIgoEbW9kZRgWIAEoDjIULnl1aGFpaW4uYnlwYXNzLm1vZGUSIAoLbW9kZV9yZWFzb24YFyABKAlSC21vZGVfcmVhc29uSgQIBBAFUgVleHRyYSqPAQoEdHlwZRILCgd1bmtub3duEAASBwoDdGNwEAESCAoEdGNwNBACEggKBHRjcDYQAxIHCgN1ZHAQBBIICgR1ZHA0EAUSCAoEdWRwNhAGEgYKAmlwEAcSBwoDaXA0EAgSBwoDaXA2EAkSCAoEdW5peBAKEgwKCHVuaXhncmFtEAsSDgoKdW5peHBhY2tldBAMQjtaMWdpdGh1Yi5jb20vQXN1dG9ydWZhL3l1aGFpaW4vcGtnL3Byb3Rvcy9zdGF0aXN0aWOSAwXSPgIQA2IIZWRpdGlvbnNw6Ac",[n.AT,o.qc]),s=(0,c.Z)(t,1);var i=function(l){return l[l.unknown=0]="unknown",l[l.tcp=1]="tcp",l[l.tcp4=2]="tcp4",l[l.tcp6=3]="tcp6",l[l.udp=4]="udp",l[l.udp4=5]="udp4",l[l.udp6=6]="udp6",l[l.ip=7]="ip",l[l.ip4=8]="ip4",l[l.ip6=9]="ip6",l[l.unix=10]="unix",l[l.unixgram=11]="unixgram",l[l.unixpacket=12]="unixpacket",l}({})},6903:(l,d,a)=>{"use strict";a.d(d,{SE:()=>m,oQ:()=>u});var e=a(7570),c=a(8123),n=a(4395),o=a(9297),t=a(9678),s=a(6342),i=a(1429);let A=(0,e.w)("ChtzdGF0aXN0aWMvZ3JwYy9jb25maWcucHJvdG8SIHl1aGFpaW4ucHJvdG9zLnN0YXRpc3RpYy5zZXJ2aWNlIi4KCnRvdGFsX2Zsb3cSEAoIZG93bmxvYWQYASABKAQSDgoGdXBsb2FkGAIgASgEIpcCCgtub3RpZnlfZGF0YRJCCgp0b3RhbF9mbG93GAMgASgLMiwueXVoYWlpbi5wcm90b3Muc3RhdGlzdGljLnNlcnZpY2UudG90YWxfZmxvd0gAEloKFm5vdGlmeV9uZXdfY29ubmVjdGlvbnMYASABKAsyOC55dWhhaWluLnByb3Rvcy5zdGF0aXN0aWMuc2VydmljZS5ub3RpZnlfbmV3X2Nvbm5lY3Rpb25zSAASYAoZbm90aWZ5X3JlbW92ZV9jb25uZWN0aW9ucxgCIAEoCzI7Lnl1aGFpaW4ucHJvdG9zLnN0YXRpc3RpYy5zZXJ2aWNlLm5vdGlmeV9yZW1vdmVfY29ubmVjdGlvbnNIAEIGCgRkYXRhIkwKFm5vdGlmeV9uZXdfY29ubmVjdGlvbnMSMgoLY29ubmVjdGlvbnMYASADKAsyHS55dWhhaWluLnN0YXRpc3RpYy5jb25uZWN0aW9uIigKGW5vdGlmeV9yZW1vdmVfY29ubmVjdGlvbnMSCwoDaWRzGAEgAygEIp4BCg5mYWlsZWRfaGlzdG9yeRIQCghwcm90b2NvbBgBIAEoCRIMCgRob3N0GAIgASgJEg0KBWVycm9yGAMgASgJEg8KB3Byb2Nlc3MYBCABKAkSKAoEdGltZRgFIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASIgoMZmFpbGVkX2NvdW50GAYgASgEUgxmYWlsZWRfY291bnQijAEKE2ZhaWxlZF9oaXN0b3J5X2xpc3QSQQoHb2JqZWN0cxgBIAMoCzIwLnl1aGFpaW4ucHJvdG9zLnN0YXRpc3RpYy5zZXJ2aWNlLmZhaWxlZF9oaXN0b3J5EjIKFGR1bXBfcHJvY2Vzc19lbmFibGVkGAIgASgIUhRkdW1wX3Byb2Nlc3NfZW5hYmxlZCJ5CgthbGxfaGlzdG9yeRIxCgpjb25uZWN0aW9uGAEgASgLMh0ueXVoYWlpbi5zdGF0aXN0aWMuY29ubmVjdGlvbhINCgVjb3VudBgCIAEoBBIoCgR0aW1lGAMgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCKGAQoQYWxsX2hpc3RvcnlfbGlzdBI+CgdvYmplY3RzGAEgAygLMi0ueXVoYWlpbi5wcm90b3Muc3RhdGlzdGljLnNlcnZpY2UuYWxsX2hpc3RvcnkSMgoUZHVtcF9wcm9jZXNzX2VuYWJsZWQYAiABKAhSFGR1bXBfcHJvY2Vzc19lbmFibGVkMqkECgtjb25uZWN0aW9ucxJZCgVjb25ucxIWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRo4Lnl1aGFpaW4ucHJvdG9zLnN0YXRpc3RpYy5zZXJ2aWNlLm5vdGlmeV9uZXdfY29ubmVjdGlvbnMSYQoKY2xvc2VfY29ubhI7Lnl1aGFpaW4ucHJvdG9zLnN0YXRpc3RpYy5zZXJ2aWNlLm5vdGlmeV9yZW1vdmVfY29ubmVjdGlvbnMaFi5nb29nbGUucHJvdG9idWYuRW1wdHkSTQoFdG90YWwSFi5nb29nbGUucHJvdG9idWYuRW1wdHkaLC55dWhhaWluLnByb3Rvcy5zdGF0aXN0aWMuc2VydmljZS50b3RhbF9mbG93ElEKBm5vdGlmeRIWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRotLnl1aGFpaW4ucHJvdG9zLnN0YXRpc3RpYy5zZXJ2aWNlLm5vdGlmeV9kYXRhMAESXwoOZmFpbGVkX2hpc3RvcnkSFi5nb29nbGUucHJvdG9idWYuRW1wdHkaNS55dWhhaWluLnByb3Rvcy5zdGF0aXN0aWMuc2VydmljZS5mYWlsZWRfaGlzdG9yeV9saXN0ElkKC2FsbF9oaXN0b3J5EhYuZ29vZ2xlLnByb3RvYnVmLkVtcHR5GjIueXVoYWlpbi5wcm90b3Muc3RhdGlzdGljLnNlcnZpY2UuYWxsX2hpc3RvcnlfbGlzdEJDWjlnaXRodWIuY29tL0FzdXRvcnVmYS95dWhhaWluL3BrZy9wcm90b3Mvc3RhdGlzdGljL3NlcnZpY2WSAwXSPgIQA2IIZWRpdGlvbnNw6Ac",[o.t,s.L9,t.i,i.AT]),m=(0,c.Z)(A,3),u=(0,n.Z)(A,0)}},l=>{var d=d=>l(l.s=d);l.O(0,[100,306,920,818,869,993,340,935,463,912,969,778,441,517,358],()=>d(8438)),_N_E=l.O()}]);