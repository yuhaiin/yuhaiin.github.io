(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4001],{23641:(e,t,n)=>{"use strict";n.d(t,{DH:()=>c,G_:()=>h,Ow:()=>u,Oz:()=>a,VN:()=>f,X3:()=>i,_s:()=>g,dp:()=>m,h$:()=>x,kP:()=>o,mv:()=>p,oH:()=>r,r3:()=>l,u1:()=>s});let o="",a="https://clients3.google.com/generate_204",l="dns.nextdns.io:853",r=!0,c="http://ip.sb",s="stun.syncthing.net:3478",i="stun.nextcloud.com:443",d=()=>{let e=localStorage.getItem("api_url");o=null!==e?e:"",e=localStorage.getItem("remote_bypass"),null!==(e=localStorage.getItem("latency_http_url"))&&(a=e),null!==(e=localStorage.getItem("latency_dns_url"))&&(l=e),null!==(e=localStorage.getItem("latency_ipv6"))&&(r="true"===e),null!==(e=localStorage.getItem("latency_ip_url"))&&(c=e),null!==(e=localStorage.getItem("latency_stun_url"))&&(s=e),null!==(e=localStorage.getItem("latency_stun_tcp_url"))&&(i=e)},u=e=>{v("api_url",e)},m=e=>{v("latency_dns_url",e)},h=e=>{v("latency_http_url",e)},p=e=>{v("latency_ipv6",e.toString())},x=e=>{v("latency_ip_url",e)},g=e=>{v("latency_stun_url",e)},f=e=>{v("latency_stun_tcp_url",e)},v=(e,t)=>{""===t?localStorage.removeItem(e):localStorage.setItem(e,t),d()};d()},26506:(e,t,n)=>{"use strict";n.d(t,{HU:()=>u,TH:()=>m,qM:()=>g,z3:()=>p});var o=n(95155),a=n(67167),l=n(12115),r=n(69056),c=n(19169),s=n(98508),i=n(70715),d=n(3384);let u=e=>(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(r.A.Item,{children:(0,o.jsxs)("div",{className:"d-sm-flex",children:[(0,o.jsx)("div",{className:"endpoint-name flex-grow-1 notranslate text-capitalize",children:e.itemKey}),(0,o.jsx)("div",{className:"notranslate text-break",style:{opacity:.6},children:"hash"===e.itemKey&&e.showModal?(0,o.jsx)("a",{href:"#",onClick:t=>{t.preventDefault(),e.showModal&&e.showModal(e.itemValue)},children:e.itemValue}):e.itemValue})]})})}),m=e=>{let{value:t,endContent:n,showModal:l}=e;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(r.A,{variant:"flush",children:[function(e){let t=(0,a.E4)(i.mR,e),n=(e,t)=>{if("enum"===e.fieldKind){let n=t.get(e);return e.enum.value[n].name}{let n=t.get(e);if(!n)return;return n.toString()}},r=e=>{let{f:t,ref:a}=e,r=n(t,a);if(r)return(0,o.jsx)(u,{itemKey:t.name.replaceAll("_"," "),itemValue:r,showModal:l})};return(0,o.jsx)(o.Fragment,{children:t.fields.map(e=>{if("message"===e.fieldKind){let n=t.get(e);return n.fields.map(e=>(0,o.jsx)(r,{f:e,ref:n},e.name))}return(0,o.jsx)(r,{f:e,ref:t},e.name)})})}(t),n]})})},h={B:"B",KB:"KB",MB:"MB",GB:"GB",TB:"TB",PB:"PB"},p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,{bytes:n,unit:o}=e>=0x4000000000000?{bytes:e/0x4000000000000,unit:h.PB}:e>=0x10000000000?{bytes:e/0x10000000000,unit:h.TB}:e>=0x40000000?{bytes:e/0x40000000,unit:h.GB}:e>=1048576?{bytes:e/1048576,unit:h.MB}:e>=1024?{bytes:e/1024,unit:h.KB}:{bytes:e,unit:h.B};return"".concat(n.toFixed(t)).concat(o)},x=(e,t)=>{let n=(new Date().getTime()-t.time.getTime())/1e3;if(0===t.download&&0===t.upload||0===n)return{download_rate:"Loading...",upload_rate:"Loading..."};let o=Number(e.download),a=Number(e.upload);return{download_rate:"(".concat(p(o),"): ").concat(p((o-t.download)/n),"/S"),upload_rate:"(".concat(p(a),"): ").concat(p((a-t.upload)/n),"/S")}},g=()=>{let[e,t]=(0,l.useState)({download:0,upload:0,counters:{},time:new Date,download_rate:"Loading...",upload_rate:"Loading..."});return(0,c.Ay)((0,s.cY)(d.oQ.method.total),async()=>(0,s.kP)(d.oQ.method.total).then(async n=>{let{data:o,error:a}=n;if(a)throw a;if(o)try{let n=x(o,e);return t(e=>({...e,download:Number(o.download),upload:Number(o.upload),counters:o.counters,time:new Date,download_rate:n.download_rate,upload_rate:n.upload_rate})),{...e}}catch(e){throw{msg:e.toString(),code:500}}}),{refreshInterval:2e3})}},31803:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var o=n(12115),a=n(70317);let l=(0,o.createContext)(a.A?window:void 0);function r(){return(0,o.useContext)(l)}l.Provider},46781:(e,t,n)=>{Promise.resolve().then(n.bind(n,99544))},50700:e=>{e.exports={clickable:"clickable_clickable__ytaUf"}},51703:(e,t,n)=>{"use strict";function o(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}n.d(t,{A:()=>o})},58724:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var o=n(12115),a=n(29300),l=n.n(a),r=n(95155);let c=e=>o.forwardRef((t,n)=>(0,r.jsx)("div",{...t,ref:n,className:l()(t.className,e)}))},60902:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var o=n(29300),a=n.n(o),l=n(12115),r=n(32960),c=n(97390),s=n(95155);let i=l.forwardRef((e,t)=>{let{as:n,bsPrefix:o,variant:l="primary",size:i,active:d=!1,disabled:u=!1,className:m,...h}=e,p=(0,c.oU)(o,"btn"),[x,{tagName:g}]=(0,r.Am)({tagName:n,disabled:u,...h});return(0,s.jsx)(g,{...x,...h,ref:t,disabled:u,className:a()(m,p,d&&"active",l&&"".concat(p,"-").concat(l),i&&"".concat(p,"-").concat(i),h.href&&u&&"disabled")})});i.displayName="Button";let d=i},60926:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var o=n(29300),a=n.n(o),l=n(12115),r=n(97390),c=n(95155);let s=l.forwardRef((e,t)=>{let{bsPrefix:n,className:o,striped:l,bordered:s,borderless:i,hover:d,size:u,variant:m,responsive:h,...p}=e,x=(0,r.oU)(n,"table"),g=a()(o,x,m&&"".concat(x,"-").concat(m),u&&"".concat(x,"-").concat(u),l&&"".concat(x,"-").concat("string"==typeof l?"striped-".concat(l):"striped"),s&&"".concat(x,"-bordered"),i&&"".concat(x,"-borderless"),d&&"".concat(x,"-hover")),f=(0,c.jsx)("table",{...p,className:g,ref:t});if(h){let e="".concat(x,"-responsive");return"string"==typeof h&&(e="".concat(e,"-").concat(h)),(0,c.jsx)("div",{className:e,children:f})}return f});s.displayName="Table";let i=s},74086:(e,t,n)=>{"use strict";n.d(t,{$:()=>l,A:()=>r});var o=n(95155),a=n(91867);let l=e=>{let{statusCode:t,title:n,raw:a}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("p",{className:"fw-bold fs-3 text-center",children:[t," | ",(0,o.jsx)("a",{className:"text-reset text-decoration-none fs-6 fw-normal",children:n})]}),a&&(0,o.jsx)("pre",{className:"text-center my-2 text-danger lead",children:a})]})},r=function(e){return(0,o.jsxs)("div",{className:"z-1090 d-flex flex-column justify-content-center align-items-center",style:{height:"100px"},children:[void 0!==e.children&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(l,{statusCode:void 0!==e.code?e.code:500,title:e.children})}),(0,o.jsx)("div",{className:"p2",children:(0,o.jsx)(a.A,{})})]})}},77849:(e,t,n)=>{"use strict";function o(e){var t;return new Date(1e3*Number((t=e).seconds)+Math.ceil(t.nanos/1e6))}n.d(t,{FP:()=>o})},98508:(e,t,n)=>{"use strict";n.d(t,{AD:()=>d,cY:()=>i,kP:()=>u,mp:()=>s,zZ:()=>m});var o=n(4965),a=n(77205),l=n(56398),r=n(19169),c=n(23641);function s(e,t){return(0,r.Ay)(i(e),d(e),t)}let i=e=>"/".concat(e.parent.typeName,"/").concat(e.name);function d(e,t,n){return()=>n?(0,o.o)(e.output,n):fetch("".concat(c.kP).concat(i(e)),{method:"POST",body:t?(0,a.R)(e.input,t):void 0}).then(async t=>{if(!t.ok)throw{code:t.status,msg:t.statusText,raw:t.text()};return(0,l.Er)(e.output,new Uint8Array(await t.arrayBuffer()))})}async function u(e,t){let n=await fetch("".concat(c.kP).concat(i(e)),{method:"POST",body:t?(0,a.R)(e.input,t):void 0});return n.ok?{data:(0,l.Er)(e.output,new Uint8Array(await n.arrayBuffer()))}:{error:{code:n.status,msg:await n.text()}}}function m(e,t,n){return(o,r)=>{let s,{next:d}=r,u=new URL(""!==c.kP?c.kP:window.location.toString());u.pathname=i(e),u.protocol="https:"===u.protocol?"wss:":"ws:";let m=!1,h=()=>{m||(console.log("connecting to: ".concat(u)),(s=new WebSocket(u)).binaryType="arraybuffer",s.addEventListener("open",n=>{console.log("connect to: ".concat(u,", event type: ").concat(n.type)),null==s||s.send((0,a.R)(e.input,t))}),s.addEventListener("message",t=>{let o=(0,l.Er)(e.output,new Uint8Array(t.data));d(null,e=>n(o,e))}),s.addEventListener("error",e=>{let t="websocket have some error";d({msg:t,code:500}),console.log(t,e.type)}),s.addEventListener("close",e=>{console.log("websocket closed, code: "+e.code+", isClosed: ",m),d(null,void 0),m||(console.log("reconnect after 2 seconds"),setTimeout(()=>h(),2e3))}))};return h(),()=>{m=!0,void 0!==s&&(console.log("close: ".concat(o)),s.close(),s=void 0)}}}},99544:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w});var o=n(95155),a=n(20960),l=n(99695),r=n(77849),c=n(12115),s=n(28468),i=n(60902),d=n(91867),u=n(60926),m=n(50700),h=n.n(m),p=n(74086),x=n(98508),g=n(70715),f=n(3384),v=n(26506);let y=(0,a.v)(l.w,{seconds:BigInt(0),nanos:0}),w=function(){var e,t,n,l,m,w,j;let[b,_]=(0,c.useState)("Time"),[N,k]=(0,c.useState)(1),S=e=>e===b?k(-N):_(e),A=e=>e===b?(0,o.jsx)("i",{className:-1===N?"bi bi-sort-up-alt":"bi bi-sort-down-alt"}):(0,o.jsx)(o.Fragment,{});function P(e,t){return e>t?-1*N:+N}let B=e=>(0,o.jsxs)("th",{className:h().clickable,onClick:()=>S(e),children:[e,A(e)]}),[T,F]=(0,c.useState)({show:!1}),{data:C,error:E,isLoading:I,isValidating:L,mutate:H}=(0,x.mp)(f.oQ.method.all_history);return E?(0,o.jsx)(p.A,{code:E.code,children:E.msg}):I||void 0===C?(0,o.jsx)(p.A,{}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.A,{centered:!0,show:T.show,onHide:()=>F(e=>({...e,show:!1})),children:(0,o.jsx)(s.A.Body,{children:(0,o.jsx)(v.TH,{value:null!=(m=null==(e=T.data)?void 0:e.connection)?m:(0,a.v)(g.mR,{}),endContent:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(v.HU,{itemKey:"Count",itemValue:null!=(w=null==(t=T.data)?void 0:t.count.toString())?w:"1"}),(0,o.jsx)(v.HU,{itemKey:"Time",itemValue:(0,r.FP)(null!=(j=null==(n=T.data)?void 0:n.time)?j:y).toLocaleString()})]})})})}),(0,o.jsxs)(i.A,{variant:"outline-primary",className:"mb-3",onClick:()=>H(),disabled:L||I,children:["Refresh ",(L||I)&&(0,o.jsxs)(o.Fragment,{children:["\xa0",(0,o.jsx)(d.A,{size:"sm",animation:"border"})]})]}),(0,o.jsxs)(u.A,{hover:!0,striped:!0,size:"sm",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[B("Time"),B("Host"),(0,o.jsx)("th",{children:"Mode"}),(0,o.jsx)("th",{children:"Net"}),B("Count"),C.dumpProcessEnabled&&B("Proc")]})}),(0,o.jsx)("tbody",{className:"text-break",children:null==C||null==(l=C.objects)?void 0:l.filter(e=>e.time).sort((e,t)=>{var n,o,a,l,c,s;return"Host"===b?P(null==(n=e.connection)?void 0:n.addr,null==(o=t.connection)?void 0:o.addr):"Proc"===b?P(null==(a=e.connection)?void 0:a.process,null==(l=t.connection)?void 0:l.process):"Count"===b?P(e.count,t.count):P((0,r.FP)(null!=(c=e.time)?c:y),(0,r.FP)(null!=(s=t.time)?s:y))}).map((e,t)=>{var n,a,l,c,s,i;return(0,o.jsxs)("tr",{onClick:()=>F({show:!0,data:e}),children:[(0,o.jsx)("td",{children:(0,r.FP)(e.time).toLocaleString()}),(0,o.jsx)("td",{children:null==(n=e.connection)?void 0:n.addr}),(0,o.jsx)("td",{children:null==(a=e.connection)?void 0:a.mode}),(0,o.jsx)("td",{children:g.NW[null!=(i=null==(c=e.connection)||null==(l=c.type)?void 0:l.connType)?i:g.NW.unknown]}),(0,o.jsx)("td",{children:Number(e.count)}),C.dumpProcessEnabled&&(0,o.jsx)("td",{children:null==(s=e.connection)?void 0:s.process})]},"bh-"+t)})})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[9607,6077,8865,601,2765,7581,3384,8441,1684,7358],()=>t(46781)),_N_E=e.O()}]);