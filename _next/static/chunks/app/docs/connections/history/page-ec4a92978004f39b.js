(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4001],{17124:(e,s,n)=>{"use strict";function l(e){var s;return new Date(1e3*Number((s=e).seconds)+Math.round(s.nanos/1e6))}n.d(s,{FP:()=>l})},37925:(e,s,n)=>{"use strict";n.d(s,{A:()=>c});var l=n(2821),t=n(12115),i=n(76837),a=n(95155);let r=t.forwardRef((e,s)=>{let{bsPrefix:n,className:t,striped:r,bordered:c,borderless:o,hover:d,size:u,variant:h,responsive:m,...x}=e,p=(0,i.oU)(n,"table"),j=(0,l.A)(t,p,h&&"".concat(p,"-").concat(h),u&&"".concat(p,"-").concat(u),r&&"".concat(p,"-").concat("string"==typeof r?"striped-".concat(r):"striped"),c&&"".concat(p,"-bordered"),o&&"".concat(p,"-borderless"),d&&"".concat(p,"-hover")),v=(0,a.jsx)("table",{...x,className:j,ref:s});if(m){let e="".concat(p,"-responsive");return"string"==typeof m&&(e="".concat(e,"-").concat(m)),(0,a.jsx)("div",{className:e,children:v})}return v});r.displayName="Table";let c=r},46781:(e,s,n)=>{Promise.resolve().then(n.bind(n,87385))},60485:(e,s,n)=>{"use strict";n.d(s,{W:()=>v});var l=n(95155),t=n(2821),i=n(12115),a=n(76837),r=n(86400);let c=i.forwardRef((e,s)=>{let{active:n=!1,disabled:i=!1,className:a,style:c,activeLabel:o="(current)",children:d,linkStyle:u,linkClassName:h,as:m=r.A,...x}=e,p=n||i?"span":m;return(0,l.jsx)("li",{ref:s,style:c,className:(0,t.A)(a,"page-item",{active:n,disabled:i}),children:(0,l.jsxs)(p,{className:(0,t.A)("page-link",h),style:u,...x,children:[d,n&&o&&(0,l.jsx)("span",{className:"visually-hidden",children:o})]})})});function o(e,s){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,t=i.forwardRef((e,t)=>{let{children:i,...a}=e;return(0,l.jsxs)(c,{...a,ref:t,children:[(0,l.jsx)("span",{"aria-hidden":"true",children:i||s}),(0,l.jsx)("span",{className:"visually-hidden",children:n})]})});return t.displayName=e,t}c.displayName="PageItem";let d=o("First","\xab"),u=o("Prev","‹","Previous"),h=o("Ellipsis","…","More"),m=o("Next","›"),x=o("Last","\xbb"),p=i.forwardRef((e,s)=>{let{bsPrefix:n,className:i,size:r,...c}=e,o=(0,a.oU)(n,"pagination");return(0,l.jsx)("ul",{ref:s,...c,className:(0,t.A)(i,o,r&&"".concat(o,"-").concat(r))})});p.displayName="Pagination";let j=Object.assign(p,{First:d,Prev:u,Ellipsis:h,Item:c,Next:m,Last:x});function v(e){let{currentPage:s,totalItems:n,pageSize:t,onPageChange:i}=e,a=Math.ceil(n/t),r=[];if(a<=7)for(let e=1;e<=a;e++)r.push(e);else if(s<=4){for(let e=1;e<=5;e++)r.push(e);r.push("ellipsis"),r.push(a)}else if(s>=a-2-1){r.push(1),r.push("ellipsis");for(let e=a-5+1;e<=a;e++)r.push(e)}else{r.push(1),r.push("ellipsis");for(let e=s-1;e<=s+1;e++)r.push(e);r.push("ellipsis"),r.push(a)}return(0,l.jsx)("div",{className:"text-center",children:(0,l.jsxs)(j,{className:"justify-content-center d-inline-flex",children:[(0,l.jsx)(j.Prev,{onClick:()=>i(s-1),disabled:1===s}),r.map((e,n)=>"ellipsis"===e?(0,l.jsx)(j.Ellipsis,{disabled:!0},"e"+n):(0,l.jsx)(j.Item,{active:e===s,onClick:()=>i(e),children:e},e)),(0,l.jsx)(j.Next,{onClick:()=>i(s+1),disabled:s===a})]})})}},86734:e=>{e.exports={clickable:"clickable_clickable__ytaUf"}},87385:(e,s,n)=>{"use strict";n.r(s),n.d(s,{default:()=>C});var l=n(95155),t=n(47319),i=n(84396),a=n(17124),r=n(12115),c=n(63678),o=n(79039),d=n(36947),u=n(74830),h=n(22452),m=n(80312),x=n(37925),p=n(86734),j=n.n(p),v=n(50379),f=n(60485),b=n(46057),N=n(43260),g=n(48948),w=n(41143);let y=(0,t.v)(i.w,{seconds:BigInt(0),nanos:0}),C=function(){var e,s,n,i,p,C;let[k,A]=(0,r.useState)("Time"),[P,F]=(0,r.useState)(1),S=(0,r.useCallback)(function(e,s){return e>s?-1*P:+P},[P]),_=e=>(0,l.jsxs)("th",{className:j().clickable,onClick:()=>e===k?F(-P):A(e),children:[e,e===k?(0,l.jsx)("i",{className:-1===P?"bi bi-sort-up-alt":"bi bi-sort-down-alt"}):(0,l.jsx)(l.Fragment,{})]}),E=(0,r.useCallback)((e,s)=>{var n,l,t,i,r,c;return"Host"===k?S(null==(n=e.connection)?void 0:n.addr,null==(l=s.connection)?void 0:l.addr):"Proc"===k?S(null==(t=e.connection)?void 0:t.process,null==(i=s.connection)?void 0:i.process):"Count"===k?S(e.count,s.count):S((0,a.FP)(null!=(r=e.time)?r:y),(0,a.FP)(null!=(c=s.time)?c:y))},[k,S]),[I,L]=(0,r.useState)(""),[T,W]=(0,r.useState)(""),[M,R]=(0,r.useState)(g.NW.unknown),[H,z]=(0,r.useState)(1),[O,U]=(0,r.useState)({show:!1}),{data:B,error:K,isLoading:V,isValidating:D,mutate:Q}=(0,b.mp)(N.oQ.method.all_history),q=(0,r.useMemo)(()=>{var e;return null==B||null==(e=B.objects)?void 0:e.filter(e=>{var s,n,l,t;return!!e.time&&(!M||(null==(n=e.connection)||null==(s=n.type)?void 0:s.connType)===M)&&(!I||(null==(l=e.connection.addr)?void 0:l.toLowerCase().includes(I))||(null==(t=e.connection.process)?void 0:t.toLowerCase().includes(I)))}).sort(E)},[B,I,M,E]);return K?(0,l.jsx)(v.A,{code:K.code,children:K.msg}):V||void 0===B?(0,l.jsx)(v.A,{}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.A,{centered:!0,show:O.show,onHide:()=>U(e=>({...e,show:!1})),children:(0,l.jsx)(c.A.Body,{children:(0,l.jsx)(w.TH,{value:null!=(i=null==(e=O.data)?void 0:e.connection)?i:(0,t.v)(g.mR,{}),startContent:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(w.gW,{itemKey:"Count",itemValue:null!=(p=null==(s=O.data)?void 0:s.count.toString())?p:"1"}),(0,l.jsx)(w.gW,{itemKey:"Time",itemValue:(0,a.FP)(null!=(C=null==(n=O.data)?void 0:n.time)?C:y).toLocaleString()})]}),endContent:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(o.A.Item,{className:"d-sm-flex justify-content-center",children:(0,l.jsx)(d.A,{variant:"outline-primary",className:"flex-grow-1",onClick:()=>U(e=>({...e,show:!1})),children:"Close"})})})})})}),(0,l.jsx)("div",{className:"d-flex",children:(0,l.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-3 ms-auto flex-wrap",children:[(0,l.jsx)("span",{className:"d-flex align-items-center gap-2",children:(0,l.jsxs)(u.A,{children:[(0,l.jsx)(h.A.Control,{value:T,onChange:e=>W(e.target.value)}),(0,l.jsx)(d.A,{onClick:()=>{L(T.toLowerCase())},children:(0,l.jsx)("i",{className:"bi bi-funnel"})})]})}),(0,l.jsx)("span",{className:"d-flex align-items-center gap-2",children:(0,l.jsx)("select",{className:"form-select",value:M,onChange:e=>R(Number(e.target.value)),style:{width:130},children:g.m9.values.map(e=>(0,l.jsx)("option",{value:e.number,children:0===e.number?"all":e.name},e.number))})}),(0,l.jsxs)(d.A,{variant:"outline-primary",onClick:()=>Q(),disabled:D||V,children:[(0,l.jsx)("i",{className:"bi bi-arrow-clockwise"}),(D||V)&&(0,l.jsxs)(l.Fragment,{children:["\xa0",(0,l.jsx)(m.A,{size:"sm",animation:"border"})]})]})]})}),(0,l.jsx)(f.W,{currentPage:H,totalItems:q.length,pageSize:30,onPageChange:e=>{z(e)}}),(0,l.jsxs)(x.A,{hover:!0,striped:!0,size:"sm",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Index"}),_("Time"),_("Host"),(0,l.jsx)("th",{children:"Mode"}),(0,l.jsx)("th",{children:"Net"}),_("Count"),B.dumpProcessEnabled&&_("Proc")]})}),(0,l.jsx)("tbody",{className:"text-break",children:q.slice((H-1)*30,(H-1)*30+30).map((e,s)=>{var n,t,i,r,c,o;return(0,l.jsxs)("tr",{onClick:()=>U({show:!0,data:e}),children:[(0,l.jsx)("td",{children:s+(H-1)*30+1}),(0,l.jsx)("td",{children:(0,a.FP)(e.time).toLocaleString()}),(0,l.jsx)("td",{children:null==(n=e.connection)?void 0:n.addr}),(0,l.jsx)("td",{children:null==(t=e.connection)?void 0:t.mode}),(0,l.jsx)("td",{children:g.NW[null!=(o=null==(r=e.connection)||null==(i=r.type)?void 0:i.connType)?o:g.NW.unknown]}),(0,l.jsx)("td",{children:Number(e.count)}),B.dumpProcessEnabled&&(0,l.jsx)("td",{children:null==(c=e.connection)?void 0:c.process})]},"bh-"+s)})})]})]})}}},e=>{e.O(0,[2941,6970,962,2141,449,4066,9048,8076,779,9064,9968,6164,2147,8603,3260,1143,8441,1255,7358],()=>e(e.s=46781)),_N_E=e.O()}]);