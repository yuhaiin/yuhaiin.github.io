(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4001],{6781:(e,t,n)=>{Promise.resolve().then(n.bind(n,1759))},348:(e,t,n)=>{"use strict";n.d(t,{DH:()=>a,G_:()=>b,Ow:()=>u,Oz:()=>c,VN:()=>p,X3:()=>s,_s:()=>g,dp:()=>m,h$:()=>h,kP:()=>l,mv:()=>v,oH:()=>d,r3:()=>o,u1:()=>i});let l="",c="https://clients3.google.com/generate_204",o="dns.nextdns.io:853",d=!0,a="http://ip.sb",i="stun.syncthing.net:3478",s="stun.nextcloud.com:443",r=()=>{let e=localStorage.getItem("api_url");l=null!==e?e:"",e=localStorage.getItem("remote_bypass"),null!==(e=localStorage.getItem("latency_http_url"))&&(c=e),null!==(e=localStorage.getItem("latency_dns_url"))&&(o=e),null!==(e=localStorage.getItem("latency_ipv6"))&&(d="true"===e),null!==(e=localStorage.getItem("latency_ip_url"))&&(a=e),null!==(e=localStorage.getItem("latency_stun_url"))&&(i=e),null!==(e=localStorage.getItem("latency_stun_tcp_url"))&&(s=e)},u=e=>{G("api_url",e)},m=e=>{G("latency_dns_url",e)},b=e=>{G("latency_http_url",e)},v=e=>{G("latency_ipv6",e.toString())},h=e=>{G("latency_ip_url",e)},g=e=>{G("latency_stun_url",e)},p=e=>{G("latency_stun_tcp_url",e)},G=(e,t)=>{""===t?localStorage.removeItem(e):localStorage.setItem(e,t),r()};r()},9169:(e,t,n)=>{"use strict";n.d(t,{$:()=>o,A:()=>d});var l=n(5155),c=n(4216);let o=e=>{let{statusCode:t,title:n}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("p",{className:"fw-bold fs-3",children:[t," | ",(0,l.jsx)("a",{className:"text-reset text-decoration-none fs-6 fw-normal",children:n})]})})},d=function(e){return(0,l.jsxs)("div",{className:"z-1090 d-flex flex-column justify-content-center align-items-center",style:{height:"100px"},children:[void 0!==e.children&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(o,{statusCode:void 0!==e.code?e.code:500,title:e.children})}),(0,l.jsx)("div",{className:"p2",children:(0,l.jsx)(c.A,{})})]})}},8927:(e,t,n)=>{"use strict";n.d(t,{AD:()=>a,kP:()=>i,zZ:()=>s});var l=n(950),c=n(7558),o=n(6989),d=n(348);function a(e,t,n,a){return i=>a?(0,l.o)(e.output,a):fetch("".concat(d.kP).concat(i),{method:t,body:n?(0,c.R)(e.input,n):void 0}).then(async t=>{if(!t.ok)throw{code:t.status,msg:t.statusText,raw:t.text()};return(0,o.Er)(e.output,new Uint8Array(await t.arrayBuffer()))})}async function i(e,t,n,l){let a=await fetch("".concat(d.kP).concat(t),{method:n,body:l?(0,c.R)(e.input,l):void 0});return a.ok?{data:(0,o.Er)(e.output,new Uint8Array(await a.arrayBuffer()))}:{error:{code:a.status,msg:await a.text()}}}function s(e,t,n){let l,a=!1;return(i,s)=>{let{next:r}=s,u=new URL(""!==d.kP?d.kP:window.location.toString());u.pathname=i,u.protocol="https:"===u.protocol?"wss:":"ws:";let m=()=>{a||(console.log("connecting to: ".concat(u)),(l=new WebSocket(u)).binaryType="arraybuffer",l.addEventListener("open",n=>{console.log("connect to: ".concat(u,", event type: ").concat(n.type)),null==l||l.send((0,c.R)(e.input,t))}),l.addEventListener("message",t=>{let l=(0,o.Er)(e.output,new Uint8Array(t.data));r(null,e=>n(l,e))}),l.addEventListener("error",e=>{let t="websocket have some error";r({msg:t,code:500}),console.log(t,e.type)}),l.addEventListener("close",e=>{console.log("websocket closed, code: "+e.code),r(null,void 0),a||(console.log("reconnect after 1 seconds"),setTimeout(m,1e3))}))};return m(),()=>{a=!0,void 0!==l&&(console.log("close: ".concat(i)),l.close(),l=void 0)}}}},425:(e,t,n)=>{"use strict";n.d(t,{H:()=>d,T:()=>a});var l=n(5155),c=n(57),o=n(6342);let d=e=>(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(c.A.Item,{children:(0,l.jsxs)("div",{className:"d-sm-flex",children:[(0,l.jsx)("div",{className:"endpoint-name flex-grow-1 notranslate",children:e.itemKey}),(0,l.jsx)("div",{className:"notranslate text-break",style:{opacity:.6},children:"Hash"===e.itemKey&&e.showModal?(0,l.jsx)("a",{href:"#",onClick:t=>{t.preventDefault(),e.showModal&&e.showModal(e.itemValue)},children:e.itemValue}):e.itemValue})]})})}),a=e=>{var t,n,a,i;let{value:s,endContent:r,showModal:u}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(c.A,{variant:"flush",children:[(0,l.jsx)(d,{itemKey:"Addr",itemValue:s.addr}),(0,l.jsx)(d,{itemKey:"Type",itemValue:o.NW[null!==(a=null===(t=s.type)||void 0===t?void 0:t.connType)&&void 0!==a?a:0]}),(0,l.jsx)(d,{itemKey:"Underlying",itemValue:o.NW[null!==(i=null===(n=s.type)||void 0===n?void 0:n.underlyingType)&&void 0!==i?i:0]}),Object.entries(s.extra).sort((e,t)=>e<=t?-1:1).map(e=>{let[t,n]=e;return(0,l.jsx)(d,{itemKey:t,itemValue:n,showModal:u},t)}),r]})})}},1759:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var l=n(5155),c=n(3577),o=n(9678),d=n(8170),a=n(2115),i=n(0),s=n(2963),r=n(4216),u=n(9141),m=n(7021),b=n(700),v=n.n(b),h=n(9169),g=n(8927),p=n(6342),G=n(6903),R=n(425);let W=(0,c.v)(o.w,{seconds:BigInt(0),nanos:0}),y=function(){var e,t,n,o,b,y,A;let[x,Y]=(0,a.useState)("Time"),[j,Z]=(0,a.useState)(1),w=e=>e===x?Z(-j):Y(e),N=e=>e===x?(0,l.jsx)("i",{className:-1===j?"bi bi-sort-up-alt":"bi bi-sort-down-alt"}):(0,l.jsx)(l.Fragment,{});function V(e,t){return e>t?-1*j:1*j}let E=e=>(0,l.jsxs)("th",{className:v().clickable,onClick:()=>w(e),children:[e,N(e)]}),[S,X]=(0,a.useState)({show:!1}),{data:F,error:I,isLoading:L,isValidating:f,mutate:B}=(0,m.Ay)("/conn/history",(0,g.AD)(G.oQ.method.all_history));return I?(0,l.jsx)(h.A,{code:I.code,children:I.msg}):L||void 0===F?(0,l.jsx)(h.A,{}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.A,{centered:!0,show:S.show,onHide:()=>X(e=>({...e,show:!1})),children:(0,l.jsx)(i.A.Body,{children:(0,l.jsx)(R.T,{value:null!==(b=null===(e=S.data)||void 0===e?void 0:e.connection)&&void 0!==b?b:(0,c.v)(p.mR,{}),endContent:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(R.H,{itemKey:"Count",itemValue:null!==(y=null===(t=S.data)||void 0===t?void 0:t.count.toString())&&void 0!==y?y:"1"}),(0,l.jsx)(R.H,{itemKey:"Time",itemValue:(0,d.FP)(null!==(A=null===(n=S.data)||void 0===n?void 0:n.time)&&void 0!==A?A:W).toLocaleString()})]})})})}),(0,l.jsxs)(s.A,{variant:"outline-primary",className:"mb-3",onClick:()=>B(),disabled:f||L,children:["Refresh ",(f||L)&&(0,l.jsxs)(l.Fragment,{children:["\xa0",(0,l.jsx)(r.A,{size:"sm",animation:"border"})]})]}),(0,l.jsxs)(u.A,{hover:!0,striped:!0,size:"sm",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[E("Time"),E("Host"),(0,l.jsx)("th",{children:"Mode"}),(0,l.jsx)("th",{children:"Net"}),E("Count"),F.dumpProcessEnabled&&E("Proc")]})}),(0,l.jsx)("tbody",{className:"text-break",children:null==F?void 0:null===(o=F.objects)||void 0===o?void 0:o.filter(e=>e.time).sort((e,t)=>{var n,l,c,o,a,i;return"Host"===x?V(null===(n=e.connection)||void 0===n?void 0:n.addr,null===(l=t.connection)||void 0===l?void 0:l.addr):"Proc"===x?V(null===(c=e.connection)||void 0===c?void 0:c.extra.Process,null===(o=t.connection)||void 0===o?void 0:o.extra.Process):"Count"===x?V(e.count,t.count):V((0,d.FP)(null!==(a=e.time)&&void 0!==a?a:W),(0,d.FP)(null!==(i=t.time)&&void 0!==i?i:W))}).map((e,t)=>{var n,c,o,a,i,s;return(0,l.jsxs)("tr",{onClick:()=>X({show:!0,data:e}),children:[(0,l.jsx)("td",{children:(0,d.FP)(e.time).toLocaleString()}),(0,l.jsx)("td",{children:null===(n=e.connection)||void 0===n?void 0:n.addr}),(0,l.jsx)("td",{children:null===(c=e.connection)||void 0===c?void 0:c.extra.MODE}),(0,l.jsx)("td",{children:p.NW[null!==(s=null===(a=e.connection)||void 0===a?void 0:null===(o=a.type)||void 0===o?void 0:o.connType)&&void 0!==s?s:p.NW.unknown]}),(0,l.jsx)("td",{children:Number(e.count)}),F.dumpProcessEnabled&&(0,l.jsx)("td",{children:null===(i=e.connection)||void 0===i?void 0:i.extra.Process})]},"bh-"+t)})})]})]})}},6342:(e,t,n)=>{"use strict";n.d(t,{L9:()=>o,NW:()=>a,mR:()=>d});var l=n(6788),c=n(8123);let o=(0,l.w)("ChZzdGF0aXN0aWMvY29uZmlnLnByb3RvEhF5dWhhaWluLnN0YXRpc3RpYyKEAQoIbmV0X3R5cGUSNQoJY29ubl90eXBlGAEgASgOMhcueXVoYWlpbi5zdGF0aXN0aWMudHlwZVIJY29ubl90eXBlEkEKD3VuZGVybHlpbmdfdHlwZRgCIAEoDjIXLnl1aGFpaW4uc3RhdGlzdGljLnR5cGVSD3VuZGVybHlpbmdfdHlwZSK4AQoKY29ubmVjdGlvbhIMCgRhZGRyGAEgASgJEgoKAmlkGAIgASgEEikKBHR5cGUYAyABKAsyGy55dWhhaWluLnN0YXRpc3RpYy5uZXRfdHlwZRI3CgVleHRyYRgEIAMoCzIoLnl1aGFpaW4uc3RhdGlzdGljLmNvbm5lY3Rpb24uRXh0cmFFbnRyeRosCgpFeHRyYUVudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEqjwEKBHR5cGUSCwoHdW5rbm93bhAAEgcKA3RjcBABEggKBHRjcDQQAhIICgR0Y3A2EAMSBwoDdWRwEAQSCAoEdWRwNBAFEggKBHVkcDYQBhIGCgJpcBAHEgcKA2lwNBAIEgcKA2lwNhAJEggKBHVuaXgQChIMCgh1bml4Z3JhbRALEg4KCnVuaXhwYWNrZXQQDEIzWjFnaXRodWIuY29tL0FzdXRvcnVmYS95dWhhaWluL3BrZy9wcm90b3Mvc3RhdGlzdGljYgZwcm90bzM"),d=(0,c.Z)(o,1);var a=function(e){return e[e.unknown=0]="unknown",e[e.tcp=1]="tcp",e[e.tcp4=2]="tcp4",e[e.tcp6=3]="tcp6",e[e.udp=4]="udp",e[e.udp4=5]="udp4",e[e.udp6=6]="udp6",e[e.ip=7]="ip",e[e.ip4=8]="ip4",e[e.ip6=9]="ip6",e[e.unix=10]="unix",e[e.unixgram=11]="unixgram",e[e.unixpacket=12]="unixpacket",e}({})},6903:(e,t,n)=>{"use strict";n.d(t,{SE:()=>r,oQ:()=>u});var l=n(6788),c=n(8123),o=n(4395),d=n(9297),a=n(9678),i=n(6342);let s=(0,l.w)("ChtzdGF0aXN0aWMvZ3JwYy9jb25maWcucHJvdG8SIHl1aGFpaW4ucHJvdG9zLnN0YXRpc3RpYy5zZXJ2aWNlIi4KCnRvdGFsX2Zsb3cSEAoIZG93bmxvYWQYASABKAQSDgoGdXBsb2FkGAIgASgEIpcCCgtub3RpZnlfZGF0YRJCCgp0b3RhbF9mbG93GAMgASgLMiwueXVoYWlpbi5wcm90b3Muc3RhdGlzdGljLnNlcnZpY2UudG90YWxfZmxvd0gAEloKFm5vdGlmeV9uZXdfY29ubmVjdGlvbnMYASABKAsyOC55dWhhaWluLnByb3Rvcy5zdGF0aXN0aWMuc2VydmljZS5ub3RpZnlfbmV3X2Nvbm5lY3Rpb25zSAASYAoZbm90aWZ5X3JlbW92ZV9jb25uZWN0aW9ucxgCIAEoCzI7Lnl1aGFpaW4ucHJvdG9zLnN0YXRpc3RpYy5zZXJ2aWNlLm5vdGlmeV9yZW1vdmVfY29ubmVjdGlvbnNIAEIGCgRkYXRhIkwKFm5vdGlmeV9uZXdfY29ubmVjdGlvbnMSMgoLY29ubmVjdGlvbnMYASADKAsyHS55dWhhaWluLnN0YXRpc3RpYy5jb25uZWN0aW9uIigKGW5vdGlmeV9yZW1vdmVfY29ubmVjdGlvbnMSCwoDaWRzGAEgAygEIp4BCg5mYWlsZWRfaGlzdG9yeRIQCghwcm90b2NvbBgBIAEoCRIMCgRob3N0GAIgASgJEg0KBWVycm9yGAMgASgJEg8KB3Byb2Nlc3MYBCABKAkSKAoEdGltZRgFIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASIgoMZmFpbGVkX2NvdW50GAYgASgEUgxmYWlsZWRfY291bnQijAEKE2ZhaWxlZF9oaXN0b3J5X2xpc3QSQQoHb2JqZWN0cxgBIAMoCzIwLnl1aGFpaW4ucHJvdG9zLnN0YXRpc3RpYy5zZXJ2aWNlLmZhaWxlZF9oaXN0b3J5EjIKFGR1bXBfcHJvY2Vzc19lbmFibGVkGAIgASgIUhRkdW1wX3Byb2Nlc3NfZW5hYmxlZCJ5CgthbGxfaGlzdG9yeRIxCgpjb25uZWN0aW9uGAEgASgLMh0ueXVoYWlpbi5zdGF0aXN0aWMuY29ubmVjdGlvbhINCgVjb3VudBgCIAEoBBIoCgR0aW1lGAMgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCKGAQoQYWxsX2hpc3RvcnlfbGlzdBI+CgdvYmplY3RzGAEgAygLMi0ueXVoYWlpbi5wcm90b3Muc3RhdGlzdGljLnNlcnZpY2UuYWxsX2hpc3RvcnkSMgoUZHVtcF9wcm9jZXNzX2VuYWJsZWQYAiABKAhSFGR1bXBfcHJvY2Vzc19lbmFibGVkMqkECgtjb25uZWN0aW9ucxJZCgVjb25ucxIWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRo4Lnl1aGFpaW4ucHJvdG9zLnN0YXRpc3RpYy5zZXJ2aWNlLm5vdGlmeV9uZXdfY29ubmVjdGlvbnMSYQoKY2xvc2VfY29ubhI7Lnl1aGFpaW4ucHJvdG9zLnN0YXRpc3RpYy5zZXJ2aWNlLm5vdGlmeV9yZW1vdmVfY29ubmVjdGlvbnMaFi5nb29nbGUucHJvdG9idWYuRW1wdHkSTQoFdG90YWwSFi5nb29nbGUucHJvdG9idWYuRW1wdHkaLC55dWhhaWluLnByb3Rvcy5zdGF0aXN0aWMuc2VydmljZS50b3RhbF9mbG93ElEKBm5vdGlmeRIWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRotLnl1aGFpaW4ucHJvdG9zLnN0YXRpc3RpYy5zZXJ2aWNlLm5vdGlmeV9kYXRhMAESXwoOZmFpbGVkX2hpc3RvcnkSFi5nb29nbGUucHJvdG9idWYuRW1wdHkaNS55dWhhaWluLnByb3Rvcy5zdGF0aXN0aWMuc2VydmljZS5mYWlsZWRfaGlzdG9yeV9saXN0ElkKC2FsbF9oaXN0b3J5EhYuZ29vZ2xlLnByb3RvYnVmLkVtcHR5GjIueXVoYWlpbi5wcm90b3Muc3RhdGlzdGljLnNlcnZpY2UuYWxsX2hpc3RvcnlfbGlzdEI7WjlnaXRodWIuY29tL0FzdXRvcnVmYS95dWhhaWluL3BrZy9wcm90b3Mvc3RhdGlzdGljL3NlcnZpY2ViBnByb3RvMw",[d.t,i.L9,a.i]),r=(0,c.Z)(s,3),u=(0,o.Z)(s,0)},9141:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var l=n(4617),c=n.n(l),o=n(2115),d=n(1653),a=n(5155);let i=o.forwardRef((e,t)=>{let{bsPrefix:n,className:l,striped:o,bordered:i,borderless:s,hover:r,size:u,variant:m,responsive:b,...v}=e,h=(0,d.oU)(n,"table"),g=c()(l,h,m&&"".concat(h,"-").concat(m),u&&"".concat(h,"-").concat(u),o&&"".concat(h,"-").concat("string"==typeof o?"striped-".concat(o):"striped"),i&&"".concat(h,"-bordered"),s&&"".concat(h,"-borderless"),r&&"".concat(h,"-hover")),p=(0,a.jsx)("table",{...v,className:g,ref:t});if(b){let e="".concat(h,"-responsive");return"string"==typeof b&&(e="".concat(e,"-").concat(b)),(0,a.jsx)("div",{className:e,children:p})}return p})},700:e=>{e.exports={clickable:"clickable_clickable__ytaUf"}},9678:(e,t,n)=>{"use strict";n.d(t,{i:()=>o,w:()=>d});var l=n(6788),c=n(8123);let o=(0,l.w)("Ch9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvEg9nb29nbGUucHJvdG9idWYiKwoJVGltZXN0YW1wEg8KB3NlY29uZHMYASABKAMSDQoFbmFub3MYAiABKAVChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),d=(0,c.Z)(o,0)},8170:(e,t,n)=>{"use strict";function l(e){return new Date(1e3*Number(e.seconds)+Math.ceil(e.nanos/1e6))}n.d(t,{FP:()=>l})}},e=>{var t=t=>e(e.s=t);e.O(0,[9607,7295,867,6306,9818,4691,1215,8441,1517,7358],()=>t(6781)),_N_E=e.O()}]);