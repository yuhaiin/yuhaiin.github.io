(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4001],{700:e=>{e.exports={clickable:"clickable_clickable__ytaUf"}},902:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var l=n(9300),o=n.n(l),c=n(2115),s=n(2960),r=n(7390),a=n(5155);let i=c.forwardRef((e,t)=>{let{as:n,bsPrefix:l,variant:c="primary",size:i,active:d=!1,disabled:u=!1,className:m,...h}=e,g=(0,r.oU)(l,"btn"),[p,{tagName:x}]=(0,s.Am)({tagName:n,disabled:u,...h});return(0,a.jsx)(x,{...p,...h,ref:t,disabled:u,className:o()(m,g,d&&"active",c&&"".concat(g,"-").concat(c),i&&"".concat(g,"-").concat(i),h.href&&u&&"disabled")})});i.displayName="Button";let d=i},926:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var l=n(9300),o=n.n(l),c=n(2115),s=n(7390),r=n(5155);let a=c.forwardRef((e,t)=>{let{bsPrefix:n,className:l,striped:c,bordered:a,borderless:i,hover:d,size:u,variant:m,responsive:h,...g}=e,p=(0,s.oU)(n,"table"),x=o()(l,p,m&&"".concat(p,"-").concat(m),u&&"".concat(p,"-").concat(u),c&&"".concat(p,"-").concat("string"==typeof c?"striped-".concat(c):"striped"),a&&"".concat(p,"-bordered"),i&&"".concat(p,"-borderless"),d&&"".concat(p,"-hover")),v=(0,r.jsx)("table",{...g,className:x,ref:t});if(h){let e="".concat(p,"-responsive");return"string"==typeof h&&(e="".concat(e,"-").concat(h)),(0,r.jsx)("div",{className:e,children:v})}return v});a.displayName="Table";let i=a},1703:(e,t,n)=>{"use strict";function l(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}n.d(t,{A:()=>l})},1803:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var l=n(2115),o=n(317);let c=(0,l.createContext)(o.A?window:void 0);function s(){return(0,l.useContext)(c)}c.Provider},3641:(e,t,n)=>{"use strict";n.d(t,{DH:()=>r,G_:()=>h,Ow:()=>u,Oz:()=>o,VN:()=>v,X3:()=>i,_s:()=>x,dp:()=>m,h$:()=>p,kP:()=>l,mv:()=>g,oH:()=>s,r3:()=>c,u1:()=>a});let l="",o="https://clients3.google.com/generate_204",c="dns.nextdns.io:853",s=!0,r="http://ip.sb",a="stun.syncthing.net:3478",i="stun.nextcloud.com:443",d=()=>{let e=localStorage.getItem("api_url");l=null!==e?e:"",e=localStorage.getItem("remote_bypass"),null!==(e=localStorage.getItem("latency_http_url"))&&(o=e),null!==(e=localStorage.getItem("latency_dns_url"))&&(c=e),null!==(e=localStorage.getItem("latency_ipv6"))&&(s="true"===e),null!==(e=localStorage.getItem("latency_ip_url"))&&(r=e),null!==(e=localStorage.getItem("latency_stun_url"))&&(a=e),null!==(e=localStorage.getItem("latency_stun_tcp_url"))&&(i=e)},u=e=>{f("api_url",e)},m=e=>{f("latency_dns_url",e)},h=e=>{f("latency_http_url",e)},g=e=>{f("latency_ipv6",e.toString())},p=e=>{f("latency_ip_url",e)},x=e=>{f("latency_stun_url",e)},v=e=>{f("latency_stun_tcp_url",e)},f=(e,t)=>{""===t?localStorage.removeItem(e):localStorage.setItem(e,t),d()};d()},4086:(e,t,n)=>{"use strict";n.d(t,{$:()=>c,A:()=>s});var l=n(5155),o=n(1867);let c=e=>{let{statusCode:t,title:n,raw:o}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("p",{className:"fw-bold fs-3 text-center",children:[t," | ",(0,l.jsx)("a",{className:"text-reset text-decoration-none fs-6 fw-normal",children:n})]}),o&&(0,l.jsx)("pre",{className:"text-center my-2 text-danger lead",children:o})]})},s=function(e){return(0,l.jsxs)("div",{className:"z-1090 d-flex flex-column justify-content-center align-items-center",style:{height:"100px"},children:[void 0!==e.children&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(c,{statusCode:void 0!==e.code?e.code:500,title:e.children})}),(0,l.jsx)("div",{className:"p2",children:(0,l.jsx)(o.A,{})})]})}},6506:(e,t,n)=>{"use strict";n.d(t,{H:()=>r,T:()=>a});var l=n(5155),o=n(7167),c=n(9056),s=n(715);let r=e=>(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(c.A.Item,{children:(0,l.jsxs)("div",{className:"d-sm-flex",children:[(0,l.jsx)("div",{className:"endpoint-name flex-grow-1 notranslate text-capitalize",children:e.itemKey}),(0,l.jsx)("div",{className:"notranslate text-break",style:{opacity:.6},children:"hash"===e.itemKey&&e.showModal?(0,l.jsx)("a",{href:"#",onClick:t=>{t.preventDefault(),e.showModal&&e.showModal(e.itemValue)},children:e.itemValue}):e.itemValue})]})})}),a=e=>{let{value:t,endContent:n,showModal:a}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(c.A,{variant:"flush",children:[function(e){let t=(0,o.E4)(s.mR,e),n=(e,t)=>{if("enum"===e.fieldKind){let n=t.get(e);return e.enum.value[n].name}{let n=t.get(e);if(!n)return;return n.toString()}},c=e=>{let{f:t,ref:o}=e,c=n(t,o);if(c)return(0,l.jsx)(r,{itemKey:t.name.replaceAll("_"," "),itemValue:c,showModal:a})};return(0,l.jsx)(l.Fragment,{children:t.fields.map(e=>{if("message"===e.fieldKind){let n=t.get(e);return n.fields.map(e=>(0,l.jsx)(c,{f:e,ref:n},e.name))}return(0,l.jsx)(c,{f:e,ref:t},e.name)})})}(t),n]})})}},6781:(e,t,n)=>{Promise.resolve().then(n.bind(n,9544))},7849:(e,t,n)=>{"use strict";function l(e){var t;return new Date(1e3*Number((t=e).seconds)+Math.ceil(t.nanos/1e6))}n.d(t,{FP:()=>l})},8508:(e,t,n)=>{"use strict";n.d(t,{AD:()=>d,cY:()=>i,kP:()=>u,mp:()=>a,zZ:()=>m});var l=n(4965),o=n(9586),c=n(6398),s=n(9169),r=n(3641);function a(e,t){return(0,s.Ay)(i(e),d(e),t)}let i=e=>"/".concat(e.parent.typeName,"/").concat(e.name);function d(e,t,n){return()=>n?(0,l.o)(e.output,n):fetch("".concat(r.kP).concat(i(e)),{method:"POST",body:t?(0,o.R)(e.input,t):void 0}).then(async t=>{if(!t.ok)throw{code:t.status,msg:t.statusText,raw:t.text()};return(0,c.Er)(e.output,new Uint8Array(await t.arrayBuffer()))})}async function u(e,t){let n=await fetch("".concat(r.kP).concat(i(e)),{method:"POST",body:t?(0,o.R)(e.input,t):void 0});return n.ok?{data:(0,c.Er)(e.output,new Uint8Array(await n.arrayBuffer()))}:{error:{code:n.status,msg:await n.text()}}}function m(e,t,n){return(l,s)=>{let a,{next:d}=s,u=new URL(""!==r.kP?r.kP:window.location.toString());u.pathname=i(e),u.protocol="https:"===u.protocol?"wss:":"ws:";let m=!1,h=()=>{m||(console.log("connecting to: ".concat(u)),(a=new WebSocket(u)).binaryType="arraybuffer",a.addEventListener("open",n=>{console.log("connect to: ".concat(u,", event type: ").concat(n.type)),null==a||a.send((0,o.R)(e.input,t))}),a.addEventListener("message",t=>{let l=(0,c.Er)(e.output,new Uint8Array(t.data));d(null,e=>n(l,e))}),a.addEventListener("error",e=>{let t="websocket have some error";d({msg:t,code:500}),console.log(t,e.type)}),a.addEventListener("close",e=>{console.log("websocket closed, code: "+e.code+", isClosed: ",m),d(null,void 0),m||(console.log("reconnect after 2 seconds"),setTimeout(()=>h(),2e3))}))};return h(),()=>{m=!0,void 0!==a&&(console.log("close: ".concat(l)),a.close(),a=void 0)}}}},8724:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var l=n(2115),o=n(9300),c=n.n(o),s=n(5155);let r=e=>l.forwardRef((t,n)=>(0,s.jsx)("div",{...t,ref:n,className:c()(t.className,e)}))},9544:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var l=n(5155),o=n(960),c=n(9695),s=n(7849),r=n(2115),a=n(8468),i=n(902),d=n(1867),u=n(926),m=n(700),h=n.n(m),g=n(4086),p=n(8508),x=n(715),v=n(3384),f=n(6506);let V=(0,o.v)(c.w,{seconds:BigInt(0),nanos:0}),y=function(){var e,t,n,c,m,y,B;let[b,j]=(0,r.useState)("Time"),[A,w]=(0,r.useState)(1),U=e=>e===b?w(-A):j(e),S=e=>e===b?(0,l.jsx)("i",{className:-1===A?"bi bi-sort-up-alt":"bi bi-sort-down-alt"}):(0,l.jsx)(l.Fragment,{});function E(e,t){return e>t?-1*A:+A}let F=e=>(0,l.jsxs)("th",{className:h().clickable,onClick:()=>U(e),children:[e,S(e)]}),[I,k]=(0,r.useState)({show:!1}),{data:R,error:_,isLoading:N,isValidating:Z,mutate:C}=(0,p.mp)(v.oQ.method.all_history);return _?(0,l.jsx)(g.A,{code:_.code,children:_.msg}):N||void 0===R?(0,l.jsx)(g.A,{}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.A,{centered:!0,show:I.show,onHide:()=>k(e=>({...e,show:!1})),children:(0,l.jsx)(a.A.Body,{children:(0,l.jsx)(f.T,{value:null!=(m=null==(e=I.data)?void 0:e.connection)?m:(0,o.v)(x.mR,{}),endContent:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(f.H,{itemKey:"Count",itemValue:null!=(y=null==(t=I.data)?void 0:t.count.toString())?y:"1"}),(0,l.jsx)(f.H,{itemKey:"Time",itemValue:(0,s.FP)(null!=(B=null==(n=I.data)?void 0:n.time)?B:V).toLocaleString()})]})})})}),(0,l.jsxs)(i.A,{variant:"outline-primary",className:"mb-3",onClick:()=>C(),disabled:Z||N,children:["Refresh ",(Z||N)&&(0,l.jsxs)(l.Fragment,{children:["\xa0",(0,l.jsx)(d.A,{size:"sm",animation:"border"})]})]}),(0,l.jsxs)(u.A,{hover:!0,striped:!0,size:"sm",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[F("Time"),F("Host"),(0,l.jsx)("th",{children:"Mode"}),(0,l.jsx)("th",{children:"Net"}),F("Count"),R.dumpProcessEnabled&&F("Proc")]})}),(0,l.jsx)("tbody",{className:"text-break",children:null==R||null==(c=R.objects)?void 0:c.filter(e=>e.time).sort((e,t)=>{var n,l,o,c,r,a;return"Host"===b?E(null==(n=e.connection)?void 0:n.addr,null==(l=t.connection)?void 0:l.addr):"Proc"===b?E(null==(o=e.connection)?void 0:o.process,null==(c=t.connection)?void 0:c.process):"Count"===b?E(e.count,t.count):E((0,s.FP)(null!=(r=e.time)?r:V),(0,s.FP)(null!=(a=t.time)?a:V))}).map((e,t)=>{var n,o,c,r,a,i;return(0,l.jsxs)("tr",{onClick:()=>k({show:!0,data:e}),children:[(0,l.jsx)("td",{children:(0,s.FP)(e.time).toLocaleString()}),(0,l.jsx)("td",{children:null==(n=e.connection)?void 0:n.addr}),(0,l.jsx)("td",{children:null==(o=e.connection)?void 0:o.mode}),(0,l.jsx)("td",{children:x.NW[null!=(i=null==(r=e.connection)||null==(c=r.type)?void 0:c.connType)?i:x.NW.unknown]}),(0,l.jsx)("td",{children:Number(e.count)}),R.dumpProcessEnabled&&(0,l.jsx)("td",{children:null==(a=e.connection)?void 0:a.process})]},"bh-"+t)})})]})]})}},9966:(e,t,n)=>{"use strict";n.d(t,{AT:()=>c});var l=n(131),o=n(8059);let c=(0,l.w)("CiFnb29nbGUvcHJvdG9idWYvZ29fZmVhdHVyZXMucHJvdG8SAnBiIvcECgpHb0ZlYXR1cmVzEqUBChpsZWdhY3lfdW5tYXJzaGFsX2pzb25fZW51bRgBIAEoCEKAAYgBAZgBBpgBAaIBCRIEdHJ1ZRiEB6IBChIFZmFsc2UY5weyAVsI6AcQ6AcaU1RoZSBsZWdhY3kgVW5tYXJzaGFsSlNPTiBBUEkgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIGVkaXRpb24uEmoKCWFwaV9sZXZlbBgCIAEoDjIXLnBiLkdvRmVhdHVyZXMuQVBJTGV2ZWxCPogBAZgBA5gBAaIBGhIVQVBJX0xFVkVMX1VOU1BFQ0lGSUVEGIQHogEPEgpBUElfT1BBUVVFGOkHsgEDCOgHEmsKEXN0cmlwX2VudW1fcHJlZml4GAMgASgOMh4ucGIuR29GZWF0dXJlcy5TdHJpcEVudW1QcmVmaXhCMIgBAZgBBpgBB5gBAaIBGxIWU1RSSVBfRU5VTV9QUkVGSVhfS0VFUBiEB7IBAwjpByJTCghBUElMZXZlbBIZChVBUElfTEVWRUxfVU5TUEVDSUZJRUQQABIMCghBUElfT1BFThABEg4KCkFQSV9IWUJSSUQQAhIOCgpBUElfT1BBUVVFEAMikgEKD1N0cmlwRW51bVByZWZpeBIhCh1TVFJJUF9FTlVNX1BSRUZJWF9VTlNQRUNJRklFRBAAEhoKFlNUUklQX0VOVU1fUFJFRklYX0tFRVAQARIjCh9TVFJJUF9FTlVNX1BSRUZJWF9HRU5FUkFURV9CT1RIEAISGwoXU1RSSVBfRU5VTV9QUkVGSVhfU1RSSVAQAzo8CgJnbxIbLmdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0GOoHIAEoCzIOLnBiLkdvRmVhdHVyZXNSAmdvQi9aLWdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2dvZmVhdHVyZXNwYg",[o.PX])}},e=>{var t=t=>e(e.s=t);e.O(0,[9607,9279,9322,601,2765,5402,3384,8441,1684,7358],()=>t(6781)),_N_E=e.O()}]);