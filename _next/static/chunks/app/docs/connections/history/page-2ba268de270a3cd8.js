(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1],{6781:(t,e,n)=>{Promise.resolve().then(n.bind(n,1759))},744:(t,e,n)=>{"use strict";n.d(e,{DH:()=>d,G_:()=>m,Ow:()=>s,Oz:()=>c,VN:()=>G,X3:()=>u,_s:()=>p,dp:()=>b,h$:()=>g,kP:()=>l,mv:()=>v,oH:()=>a,r3:()=>o,u1:()=>r});var l="",c="https://clients3.google.com/generate_204",o="dns.nextdns.io:853",a=!0,d="http://ip.sb",r="stun.syncthing.net:3478",u="stun.nextcloud.com:443";let i=()=>{let t=localStorage.getItem("api_url");l=null!==t?t:"",t=localStorage.getItem("remote_bypass"),null!==(t=localStorage.getItem("latency_http_url"))&&(c=t),null!==(t=localStorage.getItem("latency_dns_url"))&&(o=t),null!==(t=localStorage.getItem("latency_ipv6"))&&(a="true"===t),null!==(t=localStorage.getItem("latency_ip_url"))&&(d=t),null!==(t=localStorage.getItem("latency_stun_url"))&&(r=t),null!==(t=localStorage.getItem("latency_stun_tcp_url"))&&(u=t)},s=t=>{h("api_url",t)},b=t=>{h("latency_dns_url",t)},m=t=>{h("latency_http_url",t)},v=t=>{h("latency_ipv6",t.toString())},g=t=>{h("latency_ip_url",t)},p=t=>{h("latency_stun_url",t)},G=t=>{h("latency_stun_tcp_url",t)},h=(t,e)=>{""===e?localStorage.removeItem(t):localStorage.setItem(t,e),i()};i()},9169:(t,e,n)=>{"use strict";n.d(e,{A:()=>d});var l=n(5155),c=n(5554),o=n.n(c),a=n(4216);let d=function(t){return(0,l.jsxs)("div",{className:"z-1090 d-flex flex-column justify-content-center align-items-center",style:{height:"100px"},children:[void 0!==t.children&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(o(),{className:"p2",statusCode:void 0!==t.code?t.code:500,title:t.children})}),(0,l.jsx)("div",{className:"p2",children:(0,l.jsx)(a.A,{})})]})}},8927:(t,e,n)=>{"use strict";n.d(e,{AD:()=>d,kP:()=>r,zZ:()=>u});var l=n(950),c=n(7558),o=n(6989),a=n(744);function d(t,e,n,d){return r=>d?(0,l.o)(t.output,d):fetch("".concat(a.kP).concat(r),{method:e,body:n?(0,c.R)(t.input,n):void 0}).then(async e=>{if(!e.ok)throw{code:e.status,msg:e.statusText,raw:e.text()};return(0,o.Er)(t.output,new Uint8Array(await e.arrayBuffer()))})}async function r(t,e,n,l){let d=await fetch("".concat(a.kP).concat(e),{method:n,body:l?(0,c.R)(t.input,l):void 0});return d.ok?{data:(0,o.Er)(t.output,new Uint8Array(await d.arrayBuffer()))}:{error:{code:d.status,msg:await d.text()}}}function u(t,e,n){let l,d=!1;return(r,u)=>{let{next:i}=u,s=new URL(""!==a.kP?a.kP:window.location.toString());s.pathname=r,s.protocol="https:"===s.protocol?"wss:":"ws:";let b=()=>{d||(console.log("connecting to: ".concat(s)),(l=new WebSocket(s)).binaryType="arraybuffer",l.addEventListener("open",n=>{console.log("connect to: ".concat(s,", event type: ").concat(n.type)),null==l||l.send((0,c.R)(t.input,e))}),l.addEventListener("message",e=>{let l=(0,o.Er)(t.output,new Uint8Array(e.data));i(null,t=>n(l,t))}),l.addEventListener("error",t=>{let e="websocket have some error";i({msg:e,code:500}),console.log(e,t.type)}),l.addEventListener("close",t=>{console.log("websocket closed, code: "+t.code),i(null,void 0),d||(console.log("reconnect after 1 seconds"),setTimeout(b,1e3))}))};return b(),()=>{d=!0,void 0!==l&&(console.log("close: ".concat(r)),l.close(),l=void 0)}}}},1759:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>G});var l=n(5155),c=n(3577),o=n(9678),a=n(8170),d=n(2115),r=n(2963),u=n(9141),i=n(4995),s=n(700),b=n.n(s),m=n(9169),v=n(8927),g=n(6903);let p=(0,c.v)(o.w,{seconds:BigInt(0),nanos:0}),G=function(){var t;let[e,n]=(0,d.useState)("Time"),[c,o]=(0,d.useState)(1),s=t=>t===e?o(-c):n(t),G=t=>t===e?(0,l.jsx)("i",{className:-1===c?"bi bi-sort-up-alt":"bi bi-sort-down-alt"}):(0,l.jsx)(l.Fragment,{}),h=(t,e)=>t>e?-1*c:1*c,R=t=>(0,l.jsxs)("th",{className:b().clickable,onClick:()=>s(t),children:[t,G(t)]}),{data:A,error:W,isLoading:y,mutate:Y}=(0,i.Ay)("/conn/history",(0,v.AD)(g.oQ.method.all_history));return W?(0,l.jsx)(m.A,{code:W.code,children:W.msg}):y||void 0===A?(0,l.jsx)(m.A,{}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.A,{variant:"outline-primary",className:"mb-3",onClick:()=>Y(),children:"Refresh"}),(0,l.jsxs)(u.A,{hover:!0,striped:!0,size:"sm",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[R("Time"),(0,l.jsx)("th",{children:"Net"}),R("Host"),R("Mode"),R("Count"),A.dumpProcessEnabled&&R("Proc")]})}),(0,l.jsx)("tbody",{className:"text-break",children:null==A?void 0:null===(t=A.objects)||void 0===t?void 0:t.filter(t=>t.time).sort((t,n)=>{var l,c,o,d,r,u;return"Host"===e?h(null===(l=t.connection)||void 0===l?void 0:l.addr,null===(c=n.connection)||void 0===c?void 0:c.addr):"Proc"===e?h(null===(o=t.connection)||void 0===o?void 0:o.extra.Process,null===(d=n.connection)||void 0===d?void 0:d.extra.Process):"Count"===e?h(t.count,n.count):h((0,a.FP)(null!==(r=t.time)&&void 0!==r?r:p),(0,a.FP)(null!==(u=n.time)&&void 0!==u?u:p))}).map((t,e)=>{var n,c,o,d,r;return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:(0,a.FP)(t.time).toLocaleString()}),(0,l.jsx)("td",{children:null===(c=t.connection)||void 0===c?void 0:null===(n=c.type)||void 0===n?void 0:n.connType.toString()}),(0,l.jsx)("td",{children:null===(o=t.connection)||void 0===o?void 0:o.addr}),(0,l.jsx)("td",{children:null===(d=t.connection)||void 0===d?void 0:d.extra.MODE}),(0,l.jsx)("td",{children:Number(t.count)}),A.dumpProcessEnabled&&(0,l.jsx)("td",{children:null===(r=t.connection)||void 0===r?void 0:r.extra.Process})]},"bh-"+e)})})]})]})}},6342:(t,e,n)=>{"use strict";n.d(e,{L9:()=>l,NW:()=>c});let l=(0,n(6788).w)("ChZzdGF0aXN0aWMvY29uZmlnLnByb3RvEhF5dWhhaWluLnN0YXRpc3RpYyKEAQoIbmV0X3R5cGUSNQoJY29ubl90eXBlGAEgASgOMhcueXVoYWlpbi5zdGF0aXN0aWMudHlwZVIJY29ubl90eXBlEkEKD3VuZGVybHlpbmdfdHlwZRgCIAEoDjIXLnl1aGFpaW4uc3RhdGlzdGljLnR5cGVSD3VuZGVybHlpbmdfdHlwZSK4AQoKY29ubmVjdGlvbhIMCgRhZGRyGAEgASgJEgoKAmlkGAIgASgEEikKBHR5cGUYAyABKAsyGy55dWhhaWluLnN0YXRpc3RpYy5uZXRfdHlwZRI3CgVleHRyYRgEIAMoCzIoLnl1aGFpaW4uc3RhdGlzdGljLmNvbm5lY3Rpb24uRXh0cmFFbnRyeRosCgpFeHRyYUVudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEqjwEKBHR5cGUSCwoHdW5rbm93bhAAEgcKA3RjcBABEggKBHRjcDQQAhIICgR0Y3A2EAMSBwoDdWRwEAQSCAoEdWRwNBAFEggKBHVkcDYQBhIGCgJpcBAHEgcKA2lwNBAIEgcKA2lwNhAJEggKBHVuaXgQChIMCgh1bml4Z3JhbRALEg4KCnVuaXhwYWNrZXQQDEIzWjFnaXRodWIuY29tL0FzdXRvcnVmYS95dWhhaWluL3BrZy9wcm90b3Mvc3RhdGlzdGljYgZwcm90bzM");var c=function(t){return t[t.unknown=0]="unknown",t[t.tcp=1]="tcp",t[t.tcp4=2]="tcp4",t[t.tcp6=3]="tcp6",t[t.udp=4]="udp",t[t.udp4=5]="udp4",t[t.udp6=6]="udp6",t[t.ip=7]="ip",t[t.ip4=8]="ip4",t[t.ip6=9]="ip6",t[t.unix=10]="unix",t[t.unixgram=11]="unixgram",t[t.unixpacket=12]="unixpacket",t}({})},6903:(t,e,n)=>{"use strict";n.d(e,{SE:()=>i,oQ:()=>s});var l=n(6788),c=n(8123),o=n(4395),a=n(9297),d=n(9678),r=n(6342);let u=(0,l.w)("ChtzdGF0aXN0aWMvZ3JwYy9jb25maWcucHJvdG8SIHl1aGFpaW4ucHJvdG9zLnN0YXRpc3RpYy5zZXJ2aWNlIi4KCnRvdGFsX2Zsb3cSEAoIZG93bmxvYWQYASABKAQSDgoGdXBsb2FkGAIgASgEIpcCCgtub3RpZnlfZGF0YRJCCgp0b3RhbF9mbG93GAMgASgLMiwueXVoYWlpbi5wcm90b3Muc3RhdGlzdGljLnNlcnZpY2UudG90YWxfZmxvd0gAEloKFm5vdGlmeV9uZXdfY29ubmVjdGlvbnMYASABKAsyOC55dWhhaWluLnByb3Rvcy5zdGF0aXN0aWMuc2VydmljZS5ub3RpZnlfbmV3X2Nvbm5lY3Rpb25zSAASYAoZbm90aWZ5X3JlbW92ZV9jb25uZWN0aW9ucxgCIAEoCzI7Lnl1aGFpaW4ucHJvdG9zLnN0YXRpc3RpYy5zZXJ2aWNlLm5vdGlmeV9yZW1vdmVfY29ubmVjdGlvbnNIAEIGCgRkYXRhIkwKFm5vdGlmeV9uZXdfY29ubmVjdGlvbnMSMgoLY29ubmVjdGlvbnMYASADKAsyHS55dWhhaWluLnN0YXRpc3RpYy5jb25uZWN0aW9uIigKGW5vdGlmeV9yZW1vdmVfY29ubmVjdGlvbnMSCwoDaWRzGAEgAygEIp4BCg5mYWlsZWRfaGlzdG9yeRIQCghwcm90b2NvbBgBIAEoCRIMCgRob3N0GAIgASgJEg0KBWVycm9yGAMgASgJEg8KB3Byb2Nlc3MYBCABKAkSKAoEdGltZRgFIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASIgoMZmFpbGVkX2NvdW50GAYgASgEUgxmYWlsZWRfY291bnQijAEKE2ZhaWxlZF9oaXN0b3J5X2xpc3QSQQoHb2JqZWN0cxgBIAMoCzIwLnl1aGFpaW4ucHJvdG9zLnN0YXRpc3RpYy5zZXJ2aWNlLmZhaWxlZF9oaXN0b3J5EjIKFGR1bXBfcHJvY2Vzc19lbmFibGVkGAIgASgIUhRkdW1wX3Byb2Nlc3NfZW5hYmxlZCJ5CgthbGxfaGlzdG9yeRIxCgpjb25uZWN0aW9uGAEgASgLMh0ueXVoYWlpbi5zdGF0aXN0aWMuY29ubmVjdGlvbhINCgVjb3VudBgCIAEoBBIoCgR0aW1lGAMgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCKGAQoQYWxsX2hpc3RvcnlfbGlzdBI+CgdvYmplY3RzGAEgAygLMi0ueXVoYWlpbi5wcm90b3Muc3RhdGlzdGljLnNlcnZpY2UuYWxsX2hpc3RvcnkSMgoUZHVtcF9wcm9jZXNzX2VuYWJsZWQYAiABKAhSFGR1bXBfcHJvY2Vzc19lbmFibGVkMqkECgtjb25uZWN0aW9ucxJZCgVjb25ucxIWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRo4Lnl1aGFpaW4ucHJvdG9zLnN0YXRpc3RpYy5zZXJ2aWNlLm5vdGlmeV9uZXdfY29ubmVjdGlvbnMSYQoKY2xvc2VfY29ubhI7Lnl1aGFpaW4ucHJvdG9zLnN0YXRpc3RpYy5zZXJ2aWNlLm5vdGlmeV9yZW1vdmVfY29ubmVjdGlvbnMaFi5nb29nbGUucHJvdG9idWYuRW1wdHkSTQoFdG90YWwSFi5nb29nbGUucHJvdG9idWYuRW1wdHkaLC55dWhhaWluLnByb3Rvcy5zdGF0aXN0aWMuc2VydmljZS50b3RhbF9mbG93ElEKBm5vdGlmeRIWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRotLnl1aGFpaW4ucHJvdG9zLnN0YXRpc3RpYy5zZXJ2aWNlLm5vdGlmeV9kYXRhMAESXwoOZmFpbGVkX2hpc3RvcnkSFi5nb29nbGUucHJvdG9idWYuRW1wdHkaNS55dWhhaWluLnByb3Rvcy5zdGF0aXN0aWMuc2VydmljZS5mYWlsZWRfaGlzdG9yeV9saXN0ElkKC2FsbF9oaXN0b3J5EhYuZ29vZ2xlLnByb3RvYnVmLkVtcHR5GjIueXVoYWlpbi5wcm90b3Muc3RhdGlzdGljLnNlcnZpY2UuYWxsX2hpc3RvcnlfbGlzdEI7WjlnaXRodWIuY29tL0FzdXRvcnVmYS95dWhhaWluL3BrZy9wcm90b3Mvc3RhdGlzdGljL3NlcnZpY2ViBnByb3RvMw",[a.t,r.L9,d.i]),i=(0,c.Z)(u,3),s=(0,o.Z)(u,0)},2773:(t,e,n)=>{"use strict";n.d(e,{Am:()=>a,Ay:()=>r});var l=n(2115),c=n(5155);let o=["as","disabled"];function a({tagName:t,disabled:e,href:n,target:l,rel:c,role:o,onClick:a,tabIndex:d=0,type:r}){t||(t=null!=n||null!=l||null!=c?"a":"button");let u={tagName:t};if("button"===t)return[{type:r||"button",disabled:e},u];let i=l=>{var c;if(!e&&("a"!==t||(c=n)&&"#"!==c.trim())||l.preventDefault(),e){l.stopPropagation();return}null==a||a(l)};return"a"===t&&(n||(n="#"),e&&(n=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:e?void 0:d,href:n,target:"a"===t?l:void 0,"aria-disabled":e||void 0,rel:"a"===t?c:void 0,onClick:i,onKeyDown:t=>{" "===t.key&&(t.preventDefault(),i(t))}},u]}let d=l.forwardRef((t,e)=>{let{as:n,disabled:l}=t,d=function(t,e){if(null==t)return{};var n={};for(var l in t)if(({}).hasOwnProperty.call(t,l)){if(e.indexOf(l)>=0)continue;n[l]=t[l]}return n}(t,o),[r,{tagName:u}]=a(Object.assign({tagName:n,disabled:l},d));return(0,c.jsx)(u,Object.assign({},d,r,{ref:e}))});d.displayName="Button";let r=d},2963:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});var l=n(4617),c=n.n(l),o=n(2115),a=n(2773),d=n(1653),r=n(5155);let u=o.forwardRef((t,e)=>{let{as:n,bsPrefix:l,variant:o="primary",size:u,active:i=!1,disabled:s=!1,className:b,...m}=t,v=(0,d.oU)(l,"btn"),[g,{tagName:p}]=(0,a.Am)({tagName:n,disabled:s,...m});return(0,r.jsx)(p,{...g,...m,ref:e,disabled:s,className:c()(b,v,i&&"active",o&&"".concat(v,"-").concat(o),u&&"".concat(v,"-").concat(u),m.href&&s&&"disabled")})});u.displayName="Button";let i=u},9141:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});var l=n(4617),c=n.n(l),o=n(2115),a=n(1653),d=n(5155);let r=o.forwardRef((t,e)=>{let{bsPrefix:n,className:l,striped:o,bordered:r,borderless:u,hover:i,size:s,variant:b,responsive:m,...v}=t,g=(0,a.oU)(n,"table"),p=c()(l,g,b&&"".concat(g,"-").concat(b),s&&"".concat(g,"-").concat(s),o&&"".concat(g,"-").concat("string"==typeof o?"striped-".concat(o):"striped"),r&&"".concat(g,"-bordered"),u&&"".concat(g,"-borderless"),i&&"".concat(g,"-hover")),G=(0,d.jsx)("table",{...v,className:p,ref:e});if(m){let t="".concat(g,"-responsive");return"string"==typeof m&&(t="".concat(t,"-").concat(m)),(0,d.jsx)("div",{className:t,children:G})}return G})},700:t=>{t.exports={clickable:"clickable_clickable__ytaUf"}},9678:(t,e,n)=>{"use strict";n.d(e,{i:()=>o,w:()=>a});var l=n(6788),c=n(8123);let o=(0,l.w)("Ch9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvEg9nb29nbGUucHJvdG9idWYiKwoJVGltZXN0YW1wEg8KB3NlY29uZHMYASABKAMSDQoFbmFub3MYAiABKAVChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),a=(0,c.Z)(o,0)},8170:(t,e,n)=>{"use strict";function l(t){return new Date(1e3*Number(t.seconds)+Math.ceil(t.nanos/1e6))}n.d(e,{FP:()=>l})}},t=>{var e=e=>t(t.s=e);t.O(0,[607,295,375,441,517,358],()=>e(6781)),_N_E=t.O()}]);