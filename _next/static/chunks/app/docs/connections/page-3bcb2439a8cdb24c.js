(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[831],{864:function(t,e,n){Promise.resolve().then(n.bind(n,5580))},6491:function(t,e,n){"use strict";var o=n(7437),i=n(477),r=n(2283),s=n.n(r);e.Z=function(t){return(0,o.jsxs)("div",{className:"z-1090 d-flex flex-column justify-content-center align-items-center",style:{height:"100px"},children:[void 0!==t.children&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(s(),{className:"p2",statusCode:void 0!==t.code?t.code:500,title:t.children})}),(0,o.jsx)("div",{className:"p2",children:(0,o.jsx)(i.Z,{})})]})}},6756:function(t,e,n){"use strict";n.d(e,{P:function(){return c},t:function(){return a}});var o=n(7437),i=n(2265),r=n(4349),s=n(4051);let c=(0,i.createContext)({Info:t=>{},Error:t=>{}}),a=t=>{let{children:e}=t,[n,a]=(0,i.useState)({value:{},index:0}),l=(t,e)=>{a(n=>(n.value[n.index]={text:t,type:e},n.index++,{...n}))};return(0,o.jsxs)(c.Provider,{value:{Info:t=>{console.log(t),l(t,"success")},Error:t=>{console.error(t),l(t,"danger")}},children:[(0,o.jsx)(r.Z,{className:"p-3",position:"top-center",containerPosition:"fixed",style:{zIndex:1},children:Object.entries(n.value).map(t=>{let[e,i]=t;return(0,o.jsxs)(s.Z,{role:"alert","aria-live":"assertive",show:!0,bg:i.type,onClose:()=>{let t=n.value;delete t[e],a({...n,value:t}),console.log("close: "+e)},"aria-atomic":"true",delay:4e3,autohide:!0,animation:!0,children:[(0,o.jsxs)(s.Z.Header,{children:[(0,o.jsx)("strong",{className:"me-auto",children:"Notification"}),(0,o.jsx)("small",{className:"text-muted",children:"just now"})]}),(0,o.jsx)(s.Z.Body,{className:"text-center",children:i.text})]},"toast"+e)})}),e]})}},5580:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return L}});var o=n(7437),i=n(2265),r=n(8168),s=n(2389),c=n(6042),a=n(5097),l=n(6879),d=n(9865),u=n(5952),p=n(2837),y=n(6491),f=n(8224),h=n(6756),_=n(1667);let g=_.Reader,w=_.Writer,v=_.util,m=_.roots.statistic||(_.roots.statistic={}),b=m.yuhaiin=(()=>{let t={};return t.statistic=function(){let t={};return t.type=function(){let t={},e=Object.create(t);return e[t[0]="unknown"]=0,e[t[1]="tcp"]=1,e[t[2]="tcp4"]=2,e[t[3]="tcp6"]=3,e[t[4]="udp"]=4,e[t[5]="udp4"]=5,e[t[6]="udp6"]=6,e[t[7]="ip"]=7,e[t[8]="ip4"]=8,e[t[9]="ip6"]=9,e[t[10]="unix"]=10,e[t[11]="unixgram"]=11,e[t[12]="unixpacket"]=12,e}(),t.net_type=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.conn_type=0,t.prototype.underlying_type=0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=w.create()),null!=t.conn_type&&Object.hasOwnProperty.call(t,"conn_type")&&e.uint32(8).int32(t.conn_type),null!=t.underlying_type&&Object.hasOwnProperty.call(t,"underlying_type")&&e.uint32(16).int32(t.underlying_type),e},t.decode=function(t,e){t instanceof g||(t=g.create(t));for(var n=void 0===e?t.len:t.pos+e,o=new m.yuhaiin.statistic.net_type;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:o.conn_type=t.int32();break;case 2:o.underlying_type=t.int32();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof m.yuhaiin.statistic.net_type)return t;var e=new m.yuhaiin.statistic.net_type;switch(t.conn_type){default:"number"==typeof t.conn_type&&(e.conn_type=t.conn_type);break;case"unknown":case 0:e.conn_type=0;break;case"tcp":case 1:e.conn_type=1;break;case"tcp4":case 2:e.conn_type=2;break;case"tcp6":case 3:e.conn_type=3;break;case"udp":case 4:e.conn_type=4;break;case"udp4":case 5:e.conn_type=5;break;case"udp6":case 6:e.conn_type=6;break;case"ip":case 7:e.conn_type=7;break;case"ip4":case 8:e.conn_type=8;break;case"ip6":case 9:e.conn_type=9;break;case"unix":case 10:e.conn_type=10;break;case"unixgram":case 11:e.conn_type=11;break;case"unixpacket":case 12:e.conn_type=12}switch(t.underlying_type){default:"number"==typeof t.underlying_type&&(e.underlying_type=t.underlying_type);break;case"unknown":case 0:e.underlying_type=0;break;case"tcp":case 1:e.underlying_type=1;break;case"tcp4":case 2:e.underlying_type=2;break;case"tcp6":case 3:e.underlying_type=3;break;case"udp":case 4:e.underlying_type=4;break;case"udp4":case 5:e.underlying_type=5;break;case"udp6":case 6:e.underlying_type=6;break;case"ip":case 7:e.underlying_type=7;break;case"ip4":case 8:e.underlying_type=8;break;case"ip6":case 9:e.underlying_type=9;break;case"unix":case 10:e.underlying_type=10;break;case"unixgram":case 11:e.underlying_type=11;break;case"unixpacket":case 12:e.underlying_type=12}return e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.conn_type=e.enums===String?"unknown":0,n.underlying_type=e.enums===String?"unknown":0),null!=t.conn_type&&t.hasOwnProperty("conn_type")&&(n.conn_type=e.enums===String?void 0===m.yuhaiin.statistic.type[t.conn_type]?t.conn_type:m.yuhaiin.statistic.type[t.conn_type]:t.conn_type),null!=t.underlying_type&&t.hasOwnProperty("underlying_type")&&(n.underlying_type=e.enums===String?void 0===m.yuhaiin.statistic.type[t.underlying_type]?t.underlying_type:m.yuhaiin.statistic.type[t.underlying_type]:t.underlying_type),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,_.util.toJSONOptions)},t}(),t.connection=function(){function t(t){if(this.extra={},t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.addr="",t.prototype.id=v.Long?v.Long.fromBits(0,0,!0):0,t.prototype.type=null,t.prototype.extra=v.emptyObject,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=w.create()),null!=t.addr&&Object.hasOwnProperty.call(t,"addr")&&e.uint32(10).string(t.addr),null!=t.id&&Object.hasOwnProperty.call(t,"id")&&e.uint32(16).uint64(t.id),null!=t.type&&Object.hasOwnProperty.call(t,"type")&&m.yuhaiin.statistic.net_type.encode(t.type,e.uint32(26).fork()).ldelim(),null!=t.extra&&Object.hasOwnProperty.call(t,"extra"))for(var n=Object.keys(t.extra),o=0;o<n.length;++o)e.uint32(34).fork().uint32(10).string(n[o]).uint32(18).string(t.extra[n[o]]).ldelim();return e},t.decode=function(t,e){t instanceof g||(t=g.create(t));for(var n,o,i=void 0===e?t.len:t.pos+e,r=new m.yuhaiin.statistic.connection;t.pos<i;){var s=t.uint32();switch(s>>>3){case 1:r.addr=t.string();break;case 2:r.id=t.uint64();break;case 3:r.type=m.yuhaiin.statistic.net_type.decode(t,t.uint32());break;case 4:r.extra===v.emptyObject&&(r.extra={});var c=t.uint32()+t.pos;for(n="",o="";t.pos<c;){var a=t.uint32();switch(a>>>3){case 1:n=t.string();break;case 2:o=t.string();break;default:t.skipType(7&a)}}r.extra[n]=o;break;default:t.skipType(7&s)}}return r},t.fromObject=function(t){if(t instanceof m.yuhaiin.statistic.connection)return t;var e=new m.yuhaiin.statistic.connection;if(null!=t.addr&&(e.addr=String(t.addr)),null!=t.id&&(v.Long?(e.id=v.Long.fromValue(t.id)).unsigned=!0:"string"==typeof t.id?e.id=parseInt(t.id,10):"number"==typeof t.id?e.id=t.id:"object"==typeof t.id&&(e.id=new v.LongBits(t.id.low>>>0,t.id.high>>>0).toNumber(!0))),null!=t.type){if("object"!=typeof t.type)throw TypeError(".yuhaiin.statistic.connection.type: object expected");e.type=m.yuhaiin.statistic.net_type.fromObject(t.type)}if(t.extra){if("object"!=typeof t.extra)throw TypeError(".yuhaiin.statistic.connection.extra: object expected");e.extra={};for(var n=Object.keys(t.extra),o=0;o<n.length;++o)e.extra[n[o]]=String(t.extra[n[o]])}return e},t.toObject=function(t,e){e||(e={});var n,o={};if((e.objects||e.defaults)&&(o.extra={}),e.defaults){if(o.addr="",v.Long){var i=new v.Long(0,0,!0);o.id=e.longs===String?i.toString():e.longs===Number?i.toNumber():i}else o.id=e.longs===String?"0":0;o.type=null}if(null!=t.addr&&t.hasOwnProperty("addr")&&(o.addr=t.addr),null!=t.id&&t.hasOwnProperty("id")&&("number"==typeof t.id?o.id=e.longs===String?String(t.id):t.id:o.id=e.longs===String?v.Long.prototype.toString.call(t.id):e.longs===Number?new v.LongBits(t.id.low>>>0,t.id.high>>>0).toNumber(!0):t.id),null!=t.type&&t.hasOwnProperty("type")&&(o.type=m.yuhaiin.statistic.net_type.toObject(t.type,e)),t.extra&&(n=Object.keys(t.extra)).length){o.extra={};for(var r=0;r<n.length;++r)o.extra[n[r]]=t.extra[n[r]]}return o},t.prototype.toJSON=function(){return this.constructor.toObject(this,_.util.toJSONOptions)},t}(),t}(),t.protos=function(){let t={};return t.statistic=function(){let t={};return t.service=function(){let t={};return t.total_flow=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.download=v.Long?v.Long.fromBits(0,0,!0):0,t.prototype.upload=v.Long?v.Long.fromBits(0,0,!0):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=w.create()),null!=t.download&&Object.hasOwnProperty.call(t,"download")&&e.uint32(8).uint64(t.download),null!=t.upload&&Object.hasOwnProperty.call(t,"upload")&&e.uint32(16).uint64(t.upload),e},t.decode=function(t,e){t instanceof g||(t=g.create(t));for(var n=void 0===e?t.len:t.pos+e,o=new m.yuhaiin.protos.statistic.service.total_flow;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:o.download=t.uint64();break;case 2:o.upload=t.uint64();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof m.yuhaiin.protos.statistic.service.total_flow)return t;var e=new m.yuhaiin.protos.statistic.service.total_flow;return null!=t.download&&(v.Long?(e.download=v.Long.fromValue(t.download)).unsigned=!0:"string"==typeof t.download?e.download=parseInt(t.download,10):"number"==typeof t.download?e.download=t.download:"object"==typeof t.download&&(e.download=new v.LongBits(t.download.low>>>0,t.download.high>>>0).toNumber(!0))),null!=t.upload&&(v.Long?(e.upload=v.Long.fromValue(t.upload)).unsigned=!0:"string"==typeof t.upload?e.upload=parseInt(t.upload,10):"number"==typeof t.upload?e.upload=t.upload:"object"==typeof t.upload&&(e.upload=new v.LongBits(t.upload.low>>>0,t.upload.high>>>0).toNumber(!0))),e},t.toObject=function(t,e){e||(e={});var n={};if(e.defaults){if(v.Long){var o=new v.Long(0,0,!0);n.download=e.longs===String?o.toString():e.longs===Number?o.toNumber():o}else n.download=e.longs===String?"0":0;if(v.Long){var o=new v.Long(0,0,!0);n.upload=e.longs===String?o.toString():e.longs===Number?o.toNumber():o}else n.upload=e.longs===String?"0":0}return null!=t.download&&t.hasOwnProperty("download")&&("number"==typeof t.download?n.download=e.longs===String?String(t.download):t.download:n.download=e.longs===String?v.Long.prototype.toString.call(t.download):e.longs===Number?new v.LongBits(t.download.low>>>0,t.download.high>>>0).toNumber(!0):t.download),null!=t.upload&&t.hasOwnProperty("upload")&&("number"==typeof t.upload?n.upload=e.longs===String?String(t.upload):t.upload:n.upload=e.longs===String?v.Long.prototype.toString.call(t.upload):e.longs===Number?new v.LongBits(t.upload.low>>>0,t.upload.high>>>0).toNumber(!0):t.upload),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,_.util.toJSONOptions)},t}(),t.notify_data=function(){let t;function e(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return e.prototype.total_flow=null,e.prototype.notify_new_connections=null,e.prototype.notify_remove_connections=null,Object.defineProperty(e.prototype,"data",{get:v.oneOfGetter(t=["total_flow","notify_new_connections","notify_remove_connections"]),set:v.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(t,e){return e||(e=w.create()),null!=t.notify_new_connections&&Object.hasOwnProperty.call(t,"notify_new_connections")&&m.yuhaiin.protos.statistic.service.notify_new_connections.encode(t.notify_new_connections,e.uint32(10).fork()).ldelim(),null!=t.notify_remove_connections&&Object.hasOwnProperty.call(t,"notify_remove_connections")&&m.yuhaiin.protos.statistic.service.notify_remove_connections.encode(t.notify_remove_connections,e.uint32(18).fork()).ldelim(),null!=t.total_flow&&Object.hasOwnProperty.call(t,"total_flow")&&m.yuhaiin.protos.statistic.service.total_flow.encode(t.total_flow,e.uint32(26).fork()).ldelim(),e},e.decode=function(t,e){t instanceof g||(t=g.create(t));for(var n=void 0===e?t.len:t.pos+e,o=new m.yuhaiin.protos.statistic.service.notify_data;t.pos<n;){var i=t.uint32();switch(i>>>3){case 3:o.total_flow=m.yuhaiin.protos.statistic.service.total_flow.decode(t,t.uint32());break;case 1:o.notify_new_connections=m.yuhaiin.protos.statistic.service.notify_new_connections.decode(t,t.uint32());break;case 2:o.notify_remove_connections=m.yuhaiin.protos.statistic.service.notify_remove_connections.decode(t,t.uint32());break;default:t.skipType(7&i)}}return o},e.fromObject=function(t){if(t instanceof m.yuhaiin.protos.statistic.service.notify_data)return t;var e=new m.yuhaiin.protos.statistic.service.notify_data;if(null!=t.total_flow){if("object"!=typeof t.total_flow)throw TypeError(".yuhaiin.protos.statistic.service.notify_data.total_flow: object expected");e.total_flow=m.yuhaiin.protos.statistic.service.total_flow.fromObject(t.total_flow)}if(null!=t.notify_new_connections){if("object"!=typeof t.notify_new_connections)throw TypeError(".yuhaiin.protos.statistic.service.notify_data.notify_new_connections: object expected");e.notify_new_connections=m.yuhaiin.protos.statistic.service.notify_new_connections.fromObject(t.notify_new_connections)}if(null!=t.notify_remove_connections){if("object"!=typeof t.notify_remove_connections)throw TypeError(".yuhaiin.protos.statistic.service.notify_data.notify_remove_connections: object expected");e.notify_remove_connections=m.yuhaiin.protos.statistic.service.notify_remove_connections.fromObject(t.notify_remove_connections)}return e},e.toObject=function(t,e){e||(e={});var n={};return null!=t.notify_new_connections&&t.hasOwnProperty("notify_new_connections")&&(n.notify_new_connections=m.yuhaiin.protos.statistic.service.notify_new_connections.toObject(t.notify_new_connections,e),e.oneofs&&(n.data="notify_new_connections")),null!=t.notify_remove_connections&&t.hasOwnProperty("notify_remove_connections")&&(n.notify_remove_connections=m.yuhaiin.protos.statistic.service.notify_remove_connections.toObject(t.notify_remove_connections,e),e.oneofs&&(n.data="notify_remove_connections")),null!=t.total_flow&&t.hasOwnProperty("total_flow")&&(n.total_flow=m.yuhaiin.protos.statistic.service.total_flow.toObject(t.total_flow,e),e.oneofs&&(n.data="total_flow")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,_.util.toJSONOptions)},e}(),t.notify_new_connections=function(){function t(t){if(this.connections=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.connections=v.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=w.create()),null!=t.connections&&t.connections.length)for(var n=0;n<t.connections.length;++n)m.yuhaiin.statistic.connection.encode(t.connections[n],e.uint32(10).fork()).ldelim();return e},t.decode=function(t,e){t instanceof g||(t=g.create(t));for(var n=void 0===e?t.len:t.pos+e,o=new m.yuhaiin.protos.statistic.service.notify_new_connections;t.pos<n;){var i=t.uint32();i>>>3==1?(o.connections&&o.connections.length||(o.connections=[]),o.connections.push(m.yuhaiin.statistic.connection.decode(t,t.uint32()))):t.skipType(7&i)}return o},t.fromObject=function(t){if(t instanceof m.yuhaiin.protos.statistic.service.notify_new_connections)return t;var e=new m.yuhaiin.protos.statistic.service.notify_new_connections;if(t.connections){if(!Array.isArray(t.connections))throw TypeError(".yuhaiin.protos.statistic.service.notify_new_connections.connections: array expected");e.connections=[];for(var n=0;n<t.connections.length;++n){if("object"!=typeof t.connections[n])throw TypeError(".yuhaiin.protos.statistic.service.notify_new_connections.connections: object expected");e.connections[n]=m.yuhaiin.statistic.connection.fromObject(t.connections[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.connections=[]),t.connections&&t.connections.length){n.connections=[];for(var o=0;o<t.connections.length;++o)n.connections[o]=m.yuhaiin.statistic.connection.toObject(t.connections[o],e)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,_.util.toJSONOptions)},t}(),t.notify_remove_connections=function(){function t(t){if(this.ids=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.ids=v.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=w.create()),null!=t.ids&&t.ids.length){e.uint32(10).fork();for(var n=0;n<t.ids.length;++n)e.uint64(t.ids[n]);e.ldelim()}return e},t.decode=function(t,e){t instanceof g||(t=g.create(t));for(var n=void 0===e?t.len:t.pos+e,o=new m.yuhaiin.protos.statistic.service.notify_remove_connections;t.pos<n;){var i=t.uint32();if(i>>>3==1){if(o.ids&&o.ids.length||(o.ids=[]),(7&i)==2)for(var r=t.uint32()+t.pos;t.pos<r;)o.ids.push(t.uint64());else o.ids.push(t.uint64())}else t.skipType(7&i)}return o},t.fromObject=function(t){if(t instanceof m.yuhaiin.protos.statistic.service.notify_remove_connections)return t;var e=new m.yuhaiin.protos.statistic.service.notify_remove_connections;if(t.ids){if(!Array.isArray(t.ids))throw TypeError(".yuhaiin.protos.statistic.service.notify_remove_connections.ids: array expected");e.ids=[];for(var n=0;n<t.ids.length;++n)v.Long?(e.ids[n]=v.Long.fromValue(t.ids[n])).unsigned=!0:"string"==typeof t.ids[n]?e.ids[n]=parseInt(t.ids[n],10):"number"==typeof t.ids[n]?e.ids[n]=t.ids[n]:"object"==typeof t.ids[n]&&(e.ids[n]=new v.LongBits(t.ids[n].low>>>0,t.ids[n].high>>>0).toNumber(!0))}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.ids=[]),t.ids&&t.ids.length){n.ids=[];for(var o=0;o<t.ids.length;++o)"number"==typeof t.ids[o]?n.ids[o]=e.longs===String?String(t.ids[o]):t.ids[o]:n.ids[o]=e.longs===String?v.Long.prototype.toString.call(t.ids[o]):e.longs===Number?new v.LongBits(t.ids[o].low>>>0,t.ids[o].high>>>0).toNumber(!0):t.ids[o]}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,_.util.toJSONOptions)},t}(),t}(),t}(),t}(),t})();m.google=(()=>{let t={};return t.protobuf=function(){let t={};return t.Empty=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=w.create()),e},t.decode=function(t,e){t instanceof g||(t=g.create(t));for(var n=void 0===e?t.len:t.pos+e,o=new m.google.protobuf.Empty;t.pos<n;){var i=t.uint32();t.skipType(7&i)}return o},t.fromObject=function(t){return t instanceof m.google.protobuf.Empty?t:new m.google.protobuf.Empty},t.toObject=function(){return{}},t.prototype.toJSON=function(){return this.constructor.toObject(this,_.util.toJSONOptions)},t}(),t}(),t})();let j=b.statistic.type,x=b.protos.statistic.service.notify_remove_connections,O=b.protos.statistic.service.notify_data,k=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!+t)return"0B";let n=Math.floor(Math.log(t)/Math.log(1024)),o=parseFloat((t/Math.pow(1024,n)).toFixed(0>e?0:e)),i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"][n];return isNaN(o)||void 0===i?"":"".concat(o).concat(i)},N=i.memo(t=>{let[e,n]=(0,i.useState)({hash:""});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u.Z,{show:""!==e.hash,hash:e.hash,editable:!1,onHide:()=>n({hash:""})}),(0,o.jsx)(s.Z.Item,{children:(0,o.jsxs)("div",{className:"d-sm-flex",children:[(0,o.jsx)("div",{className:"endpoint-name flex-grow-1 notranslate",children:t.itemKey}),(0,o.jsx)("div",{className:"notranslate",style:{opacity:.6},children:"Hash"!==t.itemKey?t.itemValue:(0,o.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),n({hash:t.itemValue})},children:t.itemValue})})]})})]})}),S=i.memo(t=>{let e=(0,i.useContext)(h.P);return(0,o.jsxs)(c.Z.Item,{eventKey:t.data.id.toString(),children:[(0,o.jsx)(c.Z.Header,{children:(0,o.jsxs)("div",{className:"d-line",children:[(0,o.jsx)("code",{className:"ms-2",children:t.data.id}),(0,o.jsx)("span",{className:"ms-2",children:t.data.addr}),(0,o.jsx)(a.Z,{className:"bg-light rounded-pill text-dark ms-1 text-uppercase",children:t.data.extra.MODE}),(0,o.jsx)(a.Z,{className:"bg-light rounded-pill text-dark ms-1 text-uppercase",children:j[new b.statistic.net_type(t.data.type).conn_type]}),void 0!==t.data.extra.Tag&&(0,o.jsx)(a.Z,{className:"bg-light rounded-pill text-dark ms-1 text-uppercase",children:t.data.extra.Tag})]})}),(0,o.jsx)(c.Z.Body,{children:(0,o.jsxs)(s.Z,{variant:"flush",children:[(0,o.jsx)(N,{itemKey:"Type",itemValue:j[new b.statistic.net_type(t.data.type).conn_type]}),(0,o.jsx)(N,{itemKey:"Underlying",itemValue:j[new b.statistic.net_type(t.data.type).underlying_type]}),Object.entries(t.data.extra).sort((t,e)=>t<=e?-1:1).map(t=>{let[e,n]=t;return(0,o.jsx)(N,{itemKey:e,itemValue:n},e)}),(0,o.jsx)(s.Z.Item,{children:(0,o.jsx)("div",{className:"d-sm-flex",children:(0,o.jsx)(l.Z,{variant:"outline-danger",className:"flex-grow-1 notranslate",onClick:()=>{(0,f.Uo)("/conn",{method:"DELETE",body:x.encode({ids:[t.data.id]}).finish()}).then(async n=>{let{error:o}=n;void 0!==o&&e.Error("code ".concat(t.data.id," failed, ").concat(o.code,"| ").concat(await o.msg))})},children:"Close"})})})]})})]},t.data.id)});var L=function(){let t=(t,e)=>{let n=(t.download-(0!==e.download?e.download:t.download))/2,o=(t.upload-(0!==e.upload?e.upload:t.upload))/2,i="(".concat(k(t.download),"): ").concat(k(n),"/S"),r="(".concat(k(t.upload),"): ").concat(k(o),"/S");return{download:t.download,upload:t.upload,dstr:i,ustr:r}},{data:e,error:n}=(0,p.Z)("/conn",(e,n)=>{let{next:o}=n,i=()=>{let n=new URL(""!==d.fG?d.fG:window.location.toString()),r="https:"===n.protocol?"wss://":"ws://",s=!1,c=new WebSocket("".concat(r).concat(n.host).concat(e));c.binaryType="arraybuffer";let a=()=>{s=!0,c.close()};return c.addEventListener("open",t=>{console.log("connect to: ".concat(r).concat(n.host).concat(e,", event type: ").concat(t.type)),c.send("2000")}),c.addEventListener("message",e=>{let n=O.decode(new Uint8Array(e.data));o(null,e=>{var o,i,r;let s=e?{flow:e.flow,conns:{...e.conns}}:{flow:{download:0,upload:0,dstr:"Loading...",ustr:"Loading..."},conns:{}};switch(n.data){case"total_flow":let c=new b.protos.statistic.service.total_flow(null!==(o=n.total_flow)&&void 0!==o?o:void 0);return s.flow=t(c,s.flow),s;case"notify_new_connections":return new b.protos.statistic.service.notify_new_connections(null!==(i=n.notify_new_connections)&&void 0!==i?i:void 0).connections.forEach(t=>{s.conns[t.id]=t}),s;case"notify_remove_connections":return new b.protos.statistic.service.notify_remove_connections(null!==(r=n.notify_remove_connections)&&void 0!==r?r:void 0).ids.forEach(t=>{delete s.conns[t]}),s}})}),c.addEventListener("error",t=>{let e="websocket have some error";o({msg:e,code:500}),console.log(e)}),c.addEventListener("close",t=>{console.log("websocket closed, code: "+t.code),o(null,void 0),s||(console.log("reconnect after 1 seconds"),setTimeout(()=>{a=i()},1e3))}),()=>{a()}};return i()});return void 0!==n?(0,o.jsx)(y.Z,{code:n.code,children:n.msg}):void 0===e?(0,o.jsx)(y.Z,{}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.Z,{className:"mb-3",children:(0,o.jsxs)(s.Z,{variant:"flush",children:[(0,o.jsx)(s.Z.Item,{children:(0,o.jsxs)("div",{className:"d-sm-flex",children:[(0,o.jsx)("div",{className:"endpoint-name flex-grow-1 notranslate",children:"Download"}),(0,o.jsx)("div",{className:"notranslate",style:{opacity:.6},id:"statistic-download",children:null==e?void 0:e.flow.dstr})]})}),(0,o.jsx)(s.Z.Item,{children:(0,o.jsxs)("div",{className:"d-sm-flex",children:[(0,o.jsx)("div",{className:"endpoint-name flex-grow-1 notranslate",children:"Upload"}),(0,o.jsx)("div",{className:"notranslate",style:{opacity:.6},id:"statistic-upload",children:null==e?void 0:e.flow.ustr})]})})]})}),(0,o.jsx)(c.Z,{className:"mb-3",alwaysOpen:!0,id:"connections",children:Object.entries(e.conns).sort((t,e)=>{let[,n]=t,[,o]=e;return n.id>o.id?-1:1}).map(t=>{let[,e]=t;return(0,o.jsx)(S,{data:e},e.id)})})]})}},5952:function(t,e,n){"use strict";var o=n(7437),i=n(2265),r=n(6879),s=n(1355),c=n(9317),a=n(5097),l=n(1252),d=n(8224),u=n(6491),p=n(2283),y=n.n(p),f=n(6756),h=n(2520);let _=h.lk.protobuf.StringValue,g=h.yE.point.point;e.Z=function(t){let e=(0,i.useContext)(f.P),{data:n,error:p,isLoading:h,mutate:w}=(0,l.ZP)(!t.point&&t.hash?"/node":null,(0,d.Sh)(g,"POST",_.encode({value:t.hash}).finish())),[v,m]=(0,i.useState)({msg:"",code:0});return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(s.Z,{show:t.show,"aria-labelledby":"contained-modal-title-vcenter",size:"xl",onHide:()=>{t.onHide()},centered:!0,children:[(0,o.jsx)(s.Z.Header,{closeButton:!0,children:(0,o.jsx)(s.Z.Title,{id:"contained-modal-title-vcenter",children:t.hash})}),(0,o.jsx)(s.Z.Body,{children:p?(0,o.jsx)(y(),{statusCode:p.code,title:p.msg}):h?(0,o.jsx)(u.Z,{}):(0,o.jsx)(c.Z.Control,{as:"textarea",value:null!=n?n:t.point,style:{height:"65vh",fontFamily:"monospace"},readOnly:!t.editable,onChange:e=>{t.hash&&w(e.target.value,!1),t.point&&t.onChangePoint&&t.onChangePoint(e.target.value)}})}),(0,o.jsxs)(s.Z.Footer,{children:[v.msg&&(0,o.jsxs)(a.Z,{bg:"danger",children:[v.code," | ",v.msg]}),(0,o.jsx)(r.Z,{variant:"secondary",onClick:()=>{t.onHide()},children:"Close"}),(0,o.jsx)(()=>t.editable?(0,o.jsx)(r.Z,{variant:"primary",active:!h&&!p,onClick:()=>{var o;(0,d.Uo)("/node",{method:"PATCH",body:g.encode(g.fromObject(JSON.parse(null!==(o=null!=n?n:t.point)&&void 0!==o?o:"{}"))).finish()}).then(async n=>{let{error:o}=n;if(void 0===o)e.Info("save successful"),void 0!==t.onSave&&t.onSave(),t.onHide();else{let t=await o.msg;e.Error(t),m({msg:t,code:o.code}),setTimeout(()=>{m({msg:"",code:0})},5e3)}})},children:"Save"}):(0,o.jsx)(o.Fragment,{}),{})]})]})})}}},function(t){t.O(0,[644,149,300,634,713,902,912,289,971,69,744],function(){return t(t.s=864)}),_N_E=t.O()}]);