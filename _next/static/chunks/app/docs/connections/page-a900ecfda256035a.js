(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[706],{8438:(l,d,e)=>{Promise.resolve().then(e.bind(e,2988))},425:(l,d,e)=>{"use strict";e.d(d,{H:()=>t,T:()=>i});var a=e(5155),n=e(8628),c=e(57),o=e(6342);let t=l=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(c.A.Item,{children:(0,a.jsxs)("div",{className:"d-sm-flex",children:[(0,a.jsx)("div",{className:"endpoint-name flex-grow-1 notranslate text-capitalize",children:l.itemKey}),(0,a.jsx)("div",{className:"notranslate text-break",style:{opacity:.6},children:"hash"===l.itemKey&&l.showModal?(0,a.jsx)("a",{href:"#",onClick:d=>{d.preventDefault(),l.showModal&&l.showModal(l.itemValue)},children:l.itemValue}):l.itemValue})]})})}),i=l=>{var d,e,i,s;let{value:m,endContent:A,showModal:u}=l;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(c.A,{variant:"flush",children:[(0,a.jsx)(t,{itemKey:"Addr",itemValue:m.addr}),(0,a.jsx)(t,{itemKey:"Type",itemValue:o.NW[null!==(i=null===(d=m.type)||void 0===d?void 0:d.connType)&&void 0!==i?i:0]}),(0,a.jsx)(t,{itemKey:"Underlying",itemValue:o.NW[null!==(s=null===(e=m.type)||void 0===e?void 0:e.underlyingType)&&void 0!==s?s:0]}),function(l){let d=(0,n.E4)(o.mR,l);return(0,a.jsx)(a.Fragment,{children:d.fields.map(l=>{if("message"==l.fieldKind)return;let e="";if("enum"===l.fieldKind){let a=d.get(l);e=l.enum.value[a].name}else{let a=d.get(l);if(!a)return;e=a.toString()}return(0,a.jsx)(t,{itemKey:l.name.replaceAll("_"," "),itemValue:e,showModal:u},l.name)})})}(m),A]})})}},2988:(l,d,e)=>{"use strict";e.r(d),e.d(d,{default:()=>X});var a=e(5155),n=e(3577),c=e(9297),o=e(2115),t=e(2981),i=e(57),s=e(8900),m=e(1566),A=e(2963),u=e(4216),b=e(7021),g=e(1149),Z=e(9169),r=e(8927),h=e(148),W=e(4778),G=e(4805),p=e(6342),v=e(6903),V=e(425);let R=function(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!+l)return"0B";let e=Math.floor(Math.log(l)/Math.log(1024)),a=parseFloat((l/Math.pow(1024,e)).toFixed(0>d?0:d)),n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"][e];return isNaN(a)||void 0===n?"":"".concat(a).concat(n)},y=(l,d)=>{let e=(l.download-(d.download!==BigInt(0)?d.download:l.download))/BigInt(2),a=(l.upload-(d.upload!==BigInt(0)?d.upload:l.upload))/BigInt(2);return{download:"(".concat(R(Number(l.download)),"): ").concat(R(Number(e)),"/S"),upload:"(".concat(R(Number(l.upload)),"): ").concat(R(Number(a)),"/S")}},N=l=>{var d,e;let c=(0,o.useContext)(h.u),[t,b]=(0,o.useState)(!1);return(0,a.jsxs)(s.A.Item,{eventKey:l.data.id.toString(),children:[(0,a.jsx)(s.A.Header,{children:(0,a.jsxs)("div",{className:"d-line text-break",children:[(0,a.jsx)("code",{className:"ms-2",children:l.data.id.toString()}),(0,a.jsx)("span",{className:"ms-2",children:l.data.addr}),(0,a.jsx)(m.A,{className:"bg-light rounded-pill text-dark ms-1 text-uppercase",children:G.Mq[l.data.mode]}),(0,a.jsx)(m.A,{className:"bg-light rounded-pill text-dark ms-1 text-uppercase",children:p.NW[null!==(e=null===(d=l.data.type)||void 0===d?void 0:d.connType)&&void 0!==e?e:0]}),l.data.tag&&(0,a.jsx)(m.A,{className:"bg-light rounded-pill text-dark ms-1 text-uppercase",children:l.data.tag})]})}),(0,a.jsx)(s.A.Body,{children:(0,a.jsx)(V.T,{value:l.data,showModal:l.showModal,endContent:(0,a.jsx)(i.A.Item,{children:(0,a.jsx)("div",{className:"d-sm-flex",children:(0,a.jsxs)(A.A,{variant:"outline-danger",className:"flex-grow-1 notranslate",disabled:t,onClick:()=>{b(!0),(0,r.kP)(v.oQ.method.close_conn,(0,n.v)(v.SE,{ids:[l.data.id]})).then(async d=>{let{error:e}=d;e?(c.Error("code ".concat(l.data.id," failed, ").concat(e.code,"| ").concat(e.msg)),b(!1)):setTimeout(()=>{b(!1)},5e3)})},children:["Close",t&&(0,a.jsxs)(a.Fragment,{children:["\xa0",(0,a.jsx)(u.A,{size:"sm",animation:"border",variant:"danger"})]})]})})})})})]},l.data.id)},X=function(){let[l,d]=(0,o.useState)({show:!1,hash:""}),[e,m]=(0,o.useState)({download:BigInt(0),upload:BigInt(0)}),{data:A,error:u}=(0,b.Ay)("/flow/total",async()=>(0,r.kP)(v.oQ.method.total).then(async l=>{let{data:d,error:a}=l;if(a)throw a;if(d){let l=y(d,{download:e.download,upload:e.upload});return m({download:d.download,upload:d.upload}),l}}),{refreshInterval:2e3}),{data:h,error:G}=(0,g.A)((0,r.cY)(v.oQ.method.notify),(0,r.zZ)(v.oQ.method.notify,(0,n.v)(c.v,{}),(l,d)=>{switch(void 0===d&&(d=new Map),l.data.case){case"notifyNewConnections":l.data.value.connections.sort((l,d)=>l.id>d.id?1:-1).forEach(l=>{d.set(l.id,l)});break;case"notifyRemoveConnections":l.data.value.ids.forEach(l=>{d.delete(l)})}return d}),{});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(W.y,{show:l.show,hash:l.hash,editable:!1,onHide:()=>d({...l,show:!1})}),(0,a.jsx)(t.A,{className:"mb-3",children:(0,a.jsxs)(i.A,{variant:"flush",children:[(0,a.jsx)(i.A.Item,{children:(0,a.jsxs)("div",{className:"d-sm-flex",children:[(0,a.jsx)("div",{className:"endpoint-name flex-grow-1 notranslate",children:"Download"}),(0,a.jsx)("div",{className:"notranslate",style:{opacity:.6},id:"statistic-download",children:A?A.download:void 0!==u?u.msg:"Loading..."})]})}),(0,a.jsx)(i.A.Item,{children:(0,a.jsxs)("div",{className:"d-sm-flex",children:[(0,a.jsx)("div",{className:"endpoint-name flex-grow-1 notranslate",children:"Upload"}),(0,a.jsx)("div",{className:"notranslate",style:{opacity:.6},id:"statistic-upload",children:A?A.upload:void 0!==u?u.msg:"Loading..."})]})})]})}),void 0!==G?(0,a.jsx)(Z.A,{code:G.code,children:G.msg}):void 0===h?(0,a.jsx)(Z.A,{}):(0,a.jsx)(s.A,{className:"mb-3",alwaysOpen:!0,id:"connections",children:[...h.values()].reverse().map(l=>(0,a.jsx)(N,{data:l,showModal:l=>d({show:!0,hash:l})},l.id))})]})}},4805:(l,d,e)=>{"use strict";e.d(d,{Mq:()=>b,Ni:()=>g,Nm:()=>m,Qn:()=>i,Uu:()=>A,eT:()=>s,f5:()=>h,ie:()=>u,kw:()=>r,ml:()=>W,pI:()=>Z,qc:()=>t});var a=e(7570),n=e(8123),c=e(9537),o=e(1429);let t=(0,a.w)("Chpjb25maWcvYnlwYXNzL2J5cGFzcy5wcm90bxIOeXVoYWlpbi5ieXBhc3MixwMKBmNvbmZpZxIhCgN0Y3AYAyABKA4yFC55dWhhaWluLmJ5cGFzcy5tb2RlEiEKA3VkcBgEIAEoDjIULnl1aGFpaW4uYnlwYXNzLm1vZGUSJAoLYnlwYXNzX2ZpbGUYAiABKAlCAhgBUgtieXBhc3NfZmlsZRJPCg51ZHBfcHJveHlfZnFkbhgGIAEoDjInLnl1aGFpaW4uYnlwYXNzLnVkcF9wcm94eV9mcWRuX3N0cmF0ZWd5Ug51ZHBfcHJveHlfZnFkbhJDCg5jdXN0b21fcnVsZV92MxgHIAMoCzIbLnl1aGFpaW4uYnlwYXNzLm1vZGVfY29uZmlnUg5jdXN0b21fcnVsZV92MxI/CgxyZW1vdGVfcnVsZXMYCCADKAsyGy55dWhhaWluLmJ5cGFzcy5yZW1vdGVfcnVsZVIMcmVtb3RlX3J1bGVzEigKD3Jlc29sdmVfbG9jYWxseRgJIAEoCFIPcmVzb2x2ZV9sb2NhbGx5EigKD2RpcmVjdF9yZXNvbHZlchgKIAEoCVIPZGlyZWN0X3Jlc29sdmVyEiYKDnByb3h5X3Jlc29sdmVyGAsgASgJUg5wcm94eV9yZXNvbHZlciKmAwoLbW9kZV9jb25maWcSIgoEbW9kZRgBIAEoDjIULnl1aGFpaW4uYnlwYXNzLm1vZGUSCwoDdGFnGAIgASgJEhAKCGhvc3RuYW1lGAMgAygJEkwKEHJlc29sdmVfc3RyYXRlZ3kYBCABKA4yIC55dWhhaWluLmJ5cGFzcy5yZXNvbHZlX3N0cmF0ZWd5UhByZXNvbHZlX3N0cmF0ZWd5EmEKF3VkcF9wcm94eV9mcWRuX3N0cmF0ZWd5GAYgASgOMicueXVoYWlpbi5ieXBhc3MudWRwX3Byb3h5X2ZxZG5fc3RyYXRlZ3lSF3VkcF9wcm94eV9mcWRuX3N0cmF0ZWd5EhAKCHJlc29sdmVyGAggASgJEkkKCmVycm9yX21zZ3MYByADKAsyKi55dWhhaWluLmJ5cGFzcy5tb2RlX2NvbmZpZy5FcnJvck1zZ3NFbnRyeVIJZXJyb3JfbXNnGjAKDkVycm9yTXNnc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAFKBAgFEAZSDnVkcF9wcm94eV9mcWRuIvkBCgtyZW1vdGVfcnVsZRIPCgdlbmFibGVkGAEgASgIEgwKBG5hbWUYAiABKAkSMAoEZmlsZRgDIAEoCzIgLnl1aGFpaW4uYnlwYXNzLnJlbW90ZV9ydWxlX2ZpbGVIABIwCgRodHRwGAQgASgLMiAueXVoYWlpbi5ieXBhc3MucmVtb3RlX3J1bGVfaHR0cEgAEhwKCWVycm9yX21zZxgFIAEoCVIJZXJyb3JfbXNnEj8KDGRlZmF1bHRfbW9kZRgGIAEoCzIbLnl1aGFpaW4uYnlwYXNzLm1vZGVfY29uZmlnUgxkZWZhdWx0X21vZGVCCAoGb2JqZWN0IiAKEHJlbW90ZV9ydWxlX2ZpbGUSDAoEcGF0aBgBIAEoCSIvChByZW1vdGVfcnVsZV9odHRwEgsKA3VybBgBIAEoCRIOCgZtZXRob2QYAiABKAkqNAoEbW9kZRIKCgZieXBhc3MQABIKCgZkaXJlY3QQARIJCgVwcm94eRACEgkKBWJsb2NrEAMqXwoQcmVzb2x2ZV9zdHJhdGVneRILCgdkZWZhdWx0EAASDwoLcHJlZmVyX2lwdjQQARINCglvbmx5X2lwdjQQAhIPCgtwcmVmZXJfaXB2NhADEg0KCW9ubHlfaXB2NhAEKl0KF3VkcF9wcm94eV9mcWRuX3N0cmF0ZWd5EiMKH3VkcF9wcm94eV9mcWRuX3N0cmF0ZWd5X2RlZmF1bHQQABILCgdyZXNvbHZlEAESEAoMc2tpcF9yZXNvbHZlEAJCP1o1Z2l0aHViLmNvbS9Bc3V0b3J1ZmEveXVoYWlpbi9wa2cvcHJvdG9zL2NvbmZpZy9ieXBhc3OSAwXSPgIQA2IIZWRpdGlvbnNw6Ac",[o.AT]),i=(0,n.Z)(t,0),s=(0,n.Z)(t,1),m=(0,n.Z)(t,2),A=(0,n.Z)(t,3),u=(0,n.Z)(t,4);var b=function(l){return l[l.bypass=0]="bypass",l[l.direct=1]="direct",l[l.proxy=2]="proxy",l[l.block=3]="block",l}({});let g=(0,c.R)(t,0);var Z=function(l){return l[l.default=0]="default",l[l.prefer_ipv4=1]="prefer_ipv4",l[l.only_ipv4=2]="only_ipv4",l[l.prefer_ipv6=3]="prefer_ipv6",l[l.only_ipv6=4]="only_ipv6",l}({});let r=(0,c.R)(t,1);var h=function(l){return l[l.udp_proxy_fqdn_strategy_default=0]="udp_proxy_fqdn_strategy_default",l[l.resolve=1]="resolve",l[l.skip_resolve=2]="skip_resolve",l}({});let W=(0,c.R)(t,2)},6342:(l,d,e)=>{"use strict";e.d(d,{L9:()=>t,NW:()=>s,mR:()=>i});var a=e(7570),n=e(8123),c=e(1429),o=e(4805);let t=(0,a.w)("ChZzdGF0aXN0aWMvY29uZmlnLnByb3RvEhF5dWhhaWluLnN0YXRpc3RpYyKEAQoIbmV0X3R5cGUSNQoJY29ubl90eXBlGAEgASgOMhcueXVoYWlpbi5zdGF0aXN0aWMudHlwZVIJY29ubl90eXBlEkEKD3VuZGVybHlpbmdfdHlwZRgCIAEoDjIXLnl1aGFpaW4uc3RhdGlzdGljLnR5cGVSD3VuZGVybHlpbmdfdHlwZSKNBAoKY29ubmVjdGlvbhIMCgRhZGRyGAEgASgJEgoKAmlkGAIgASgEEikKBHR5cGUYAyABKAsyGy55dWhhaWluLnN0YXRpc3RpYy5uZXRfdHlwZRIOCgZzb3VyY2UYBSABKAkSDwoHaW5ib3VuZBgGIAEoCRIQCghvdXRib3VuZBgYIAEoCRIUCgxkZXN0aW9uYXRpb24YByABKAkSGAoHZmFrZV9pcBgIIAEoCVIHZmFrZV9pcBINCgVob3N0cxgJIAEoCRIOCgZkb21haW4YCiABKAkSCgoCaXAYCyABKAkSCwoDdGFnGAwgASgJEgwKBGhhc2gYDSABKAkSEAoIcHJvdG9jb2wYDiABKAkSDwoHcHJvY2VzcxgPIAEoCRILCgNwaWQYECABKAQSCwoDdWlkGBEgASgEEigKD3Rsc19zZXJ2ZXJfbmFtZRgSIAEoCVIPdGxzX3NlcnZlcl9uYW1lEhwKCWh0dHBfaG9zdBgTIAEoCVIJaHR0cF9ob3N0EhEKCWNvbXBvbmVudBgUIAEoCRImCg51ZHBfbWlncmF0ZV9pZBgVIAEoBFIOdWRwX21pZ3JhdGVfaWQSIgoEbW9kZRgWIAEoDjIULnl1aGFpaW4uYnlwYXNzLm1vZGUSIAoLbW9kZV9yZWFzb24YFyABKAlSC21vZGVfcmVhc29uSgQIBBAFUgVleHRyYSqPAQoEdHlwZRILCgd1bmtub3duEAASBwoDdGNwEAESCAoEdGNwNBACEggKBHRjcDYQAxIHCgN1ZHAQBBIICgR1ZHA0EAUSCAoEdWRwNhAGEgYKAmlwEAcSBwoDaXA0EAgSBwoDaXA2EAkSCAoEdW5peBAKEgwKCHVuaXhncmFtEAsSDgoKdW5peHBhY2tldBAMQjtaMWdpdGh1Yi5jb20vQXN1dG9ydWZhL3l1aGFpaW4vcGtnL3Byb3Rvcy9zdGF0aXN0aWOSAwXSPgIQA2IIZWRpdGlvbnNw6Ac",[c.AT,o.qc]),i=(0,n.Z)(t,1);var s=function(l){return l[l.unknown=0]="unknown",l[l.tcp=1]="tcp",l[l.tcp4=2]="tcp4",l[l.tcp6=3]="tcp6",l[l.udp=4]="udp",l[l.udp4=5]="udp4",l[l.udp6=6]="udp6",l[l.ip=7]="ip",l[l.ip4=8]="ip4",l[l.ip6=9]="ip6",l[l.unix=10]="unix",l[l.unixgram=11]="unixgram",l[l.unixpacket=12]="unixpacket",l}({})},6903:(l,d,e)=>{"use strict";e.d(d,{SE:()=>A,oQ:()=>u});var a=e(7570),n=e(8123),c=e(4395),o=e(9297),t=e(9678),i=e(6342),s=e(1429);let m=(0,a.w)("ChtzdGF0aXN0aWMvZ3JwYy9jb25maWcucHJvdG8SIHl1aGFpaW4ucHJvdG9zLnN0YXRpc3RpYy5zZXJ2aWNlIi4KCnRvdGFsX2Zsb3cSEAoIZG93bmxvYWQYASABKAQSDgoGdXBsb2FkGAIgASgEIpcCCgtub3RpZnlfZGF0YRJCCgp0b3RhbF9mbG93GAMgASgLMiwueXVoYWlpbi5wcm90b3Muc3RhdGlzdGljLnNlcnZpY2UudG90YWxfZmxvd0gAEloKFm5vdGlmeV9uZXdfY29ubmVjdGlvbnMYASABKAsyOC55dWhhaWluLnByb3Rvcy5zdGF0aXN0aWMuc2VydmljZS5ub3RpZnlfbmV3X2Nvbm5lY3Rpb25zSAASYAoZbm90aWZ5X3JlbW92ZV9jb25uZWN0aW9ucxgCIAEoCzI7Lnl1aGFpaW4ucHJvdG9zLnN0YXRpc3RpYy5zZXJ2aWNlLm5vdGlmeV9yZW1vdmVfY29ubmVjdGlvbnNIAEIGCgRkYXRhIkwKFm5vdGlmeV9uZXdfY29ubmVjdGlvbnMSMgoLY29ubmVjdGlvbnMYASADKAsyHS55dWhhaWluLnN0YXRpc3RpYy5jb25uZWN0aW9uIigKGW5vdGlmeV9yZW1vdmVfY29ubmVjdGlvbnMSCwoDaWRzGAEgAygEIp4BCg5mYWlsZWRfaGlzdG9yeRIQCghwcm90b2NvbBgBIAEoCRIMCgRob3N0GAIgASgJEg0KBWVycm9yGAMgASgJEg8KB3Byb2Nlc3MYBCABKAkSKAoEdGltZRgFIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASIgoMZmFpbGVkX2NvdW50GAYgASgEUgxmYWlsZWRfY291bnQijAEKE2ZhaWxlZF9oaXN0b3J5X2xpc3QSQQoHb2JqZWN0cxgBIAMoCzIwLnl1aGFpaW4ucHJvdG9zLnN0YXRpc3RpYy5zZXJ2aWNlLmZhaWxlZF9oaXN0b3J5EjIKFGR1bXBfcHJvY2Vzc19lbmFibGVkGAIgASgIUhRkdW1wX3Byb2Nlc3NfZW5hYmxlZCJ5CgthbGxfaGlzdG9yeRIxCgpjb25uZWN0aW9uGAEgASgLMh0ueXVoYWlpbi5zdGF0aXN0aWMuY29ubmVjdGlvbhINCgVjb3VudBgCIAEoBBIoCgR0aW1lGAMgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCKGAQoQYWxsX2hpc3RvcnlfbGlzdBI+CgdvYmplY3RzGAEgAygLMi0ueXVoYWlpbi5wcm90b3Muc3RhdGlzdGljLnNlcnZpY2UuYWxsX2hpc3RvcnkSMgoUZHVtcF9wcm9jZXNzX2VuYWJsZWQYAiABKAhSFGR1bXBfcHJvY2Vzc19lbmFibGVkMqkECgtjb25uZWN0aW9ucxJZCgVjb25ucxIWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRo4Lnl1aGFpaW4ucHJvdG9zLnN0YXRpc3RpYy5zZXJ2aWNlLm5vdGlmeV9uZXdfY29ubmVjdGlvbnMSYQoKY2xvc2VfY29ubhI7Lnl1aGFpaW4ucHJvdG9zLnN0YXRpc3RpYy5zZXJ2aWNlLm5vdGlmeV9yZW1vdmVfY29ubmVjdGlvbnMaFi5nb29nbGUucHJvdG9idWYuRW1wdHkSTQoFdG90YWwSFi5nb29nbGUucHJvdG9idWYuRW1wdHkaLC55dWhhaWluLnByb3Rvcy5zdGF0aXN0aWMuc2VydmljZS50b3RhbF9mbG93ElEKBm5vdGlmeRIWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRotLnl1aGFpaW4ucHJvdG9zLnN0YXRpc3RpYy5zZXJ2aWNlLm5vdGlmeV9kYXRhMAESXwoOZmFpbGVkX2hpc3RvcnkSFi5nb29nbGUucHJvdG9idWYuRW1wdHkaNS55dWhhaWluLnByb3Rvcy5zdGF0aXN0aWMuc2VydmljZS5mYWlsZWRfaGlzdG9yeV9saXN0ElkKC2FsbF9oaXN0b3J5EhYuZ29vZ2xlLnByb3RvYnVmLkVtcHR5GjIueXVoYWlpbi5wcm90b3Muc3RhdGlzdGljLnNlcnZpY2UuYWxsX2hpc3RvcnlfbGlzdEJDWjlnaXRodWIuY29tL0FzdXRvcnVmYS95dWhhaWluL3BrZy9wcm90b3Mvc3RhdGlzdGljL3NlcnZpY2WSAwXSPgIQA2IIZWRpdGlvbnNw6Ac",[o.t,i.L9,t.i,s.AT]),A=(0,n.Z)(m,3),u=(0,c.Z)(m,0)}},l=>{var d=d=>l(l.s=d);l.O(0,[100,306,920,818,869,993,340,935,463,912,969,778,441,517,358],()=>d(8438)),_N_E=l.O()}]);