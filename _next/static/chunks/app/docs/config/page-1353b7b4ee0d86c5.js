(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8779],{2347:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>y});var n=a(95155),s=a(47319),r=a(12115),t=a(85387),o=a(63196),i=a(33599),c=a(63365),u=a(75876),d=a(67105),m=a(65117),v=a(65442),b=a(29769),h=a(50379),x=a(46057),g=a(30281),f=a(94226),C=a(41528),j=a(17077),p=a(66453),A=a(91602);let y=function(){var e,l,a,y,k,S,N,I,R,z,E,Z;let G=(0,r.useContext)(f.u),{data:W,error:F,isLoading:L,mutate:B}=(0,x.mp)(j.hF.method.load,{revalidateOnFocus:!1,use:[]}),w=(0,b.R)(),V=(0,r.useCallback)(()=>{B(e=>({...e,ipv6:!e.ipv6}),!1)},[B]),M=(0,r.useCallback)(e=>{var l,a;if(!e)return[];(null==e?void 0:e.systemProxy)||B(e=>({...e,systemProxy:(0,s.v)(C.Oe,{http:!1,socks5:!1})}),!1);let n=[];return(null==(l=e.systemProxy)?void 0:l.http)&&n.push(1),(null==(a=e.systemProxy)?void 0:a.socks5)&&n.push(2),n},[B]),Y=(0,r.useMemo)(()=>M(W),[W,M]),D=(0,r.useCallback)(e=>{let l=!1,a=!1;for(let n of e)1===n&&(l=!0),2===n&&(a=!0);B(e=>({...e,systemProxy:(0,s.v)(C.Oe,{http:l,socks5:a})}),!1)},[B]),P=(0,r.useCallback)(()=>{B(e=>({...e,useDefaultInterface:!e.useDefaultInterface}),!1)},[B]),X=(0,r.useMemo)(()=>w.map(e=>{var l;if(e.name)return{label:e.name,value:e.name,label_children:null==(l=e.addresses)?void 0:l.map(e=>e||"")}}).filter(e=>!!e),[w]),H=(0,r.useCallback)(e=>{B(l=>({...l,netInterface:e}),!1)},[B]),T=(0,r.useCallback)(e=>{B(l=>({...l,logcat:e(l.logcat)}),!1)},[B]),K=(0,r.useCallback)(e=>{T(l=>({...l,save:e}))},[T]),O=(0,r.useCallback)(e=>{T(l=>({...l,level:e}))},[T]),U=(0,r.useCallback)(e=>e.number!==p.cP.verbose&&e.number!==p.cP.fatal,[]),J=(0,r.useCallback)(e=>{T(l=>({...l,ignoreTimeoutError:e}))},[T]),_=(0,r.useCallback)(e=>{T(l=>({...l,ignoreDnsError:e}))},[T]);(0,r.useEffect)(()=>{W&&(W.advancedConfig||B(e=>({...e,advancedConfig:(0,s.v)(C.vx,{relayBufferSize:4096,udpRingbufferSize:250,udpBufferSize:2048})}),!1))},[W,B]);let $=(0,r.useCallback)(e=>{B(l=>({...l,advancedConfig:{...l.advancedConfig,relayBufferSize:Number(e.target.value)}}),!1)},[B]),q=(0,r.useCallback)(e=>{B(l=>({...l,advancedConfig:{...l.advancedConfig,udpRingbufferSize:Number(e.target.value)}}),!1)},[B]),Q=(0,r.useCallback)(e=>{B(l=>({...l,advancedConfig:{...l.advancedConfig,udpBufferSize:Number(e.target.value)}}),!1)},[B]),[ee,el]=(0,r.useState)(!1),ea=(0,r.useCallback)(()=>{el(!0),(0,x.kP)(j.hF.method.save,W).then(async e=>{let{error:l}=e;void 0!==l?G.Error("save config failed, ".concat(l.code,"| ").concat(l.msg)):(G.Info("Save Config Successfully"),B())}).finally(()=>el(!1))},[W,B,G]);return void 0!==F?(0,n.jsx)(h.$,{statusCode:F.code,title:F.msg}):L||void 0===W?(0,n.jsx)(h.A,{}):(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(t.A,{className:"mb-3",children:[(0,n.jsxs)(t.A.Body,{children:[(0,n.jsx)(g.$d,{label:"IPv6",checked:W.ipv6,onChange:V}),(0,n.jsx)(g.$d,{label:"Use Default Interface",checked:W.useDefaultInterface,onChange:P}),W.useDefaultInterface?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)(A.a9,{label:"Network Interface",value:W.netInterface,onChange:H,reminds:X}),(0,n.jsxs)(o.A.Group,{as:i.A,className:"mb-2",children:[(0,n.jsx)(o.A.Label,{column:!0,sm:2,className:"nowrap",children:"System Proxy"}),(0,n.jsx)(c.A,{sm:10,children:(0,n.jsxs)(u.A,{type:"checkbox",className:"d-flex",defaultValue:Y,value:Y,onChange:D,children:[(0,n.jsx)(d.A,{variant:"outline-primary",className:"w-100",id:"system-proxy-tbg-btn-1",value:1,children:"HTTP"}),(0,n.jsx)(d.A,{variant:"outline-primary",className:"w-100",id:"system-proxy-tbg-btn-2",value:2,children:"SOCKS5"})]})})]}),(0,n.jsx)("hr",{}),(0,n.jsx)(t.A.Title,{className:"mb-2",children:"Logcat"}),(0,n.jsx)(g.$d,{label:"Save",checked:W.logcat.save,onChange:K}),(0,n.jsx)(g.Vx,{label:"Level",type:p.LM,value:W.logcat.level,filter:U,onChange:O}),(0,n.jsx)(g.$d,{label:"Ignore Timeout Error",checked:W.logcat.ignoreTimeoutError,onChange:J}),(0,n.jsx)(g.$d,{label:"Ignore DNS Error",checked:W.logcat.ignoreDnsError,onChange:_}),(0,n.jsx)("hr",{}),(0,n.jsx)(t.A.Title,{className:"mb-2",children:"Advanced"}),(0,n.jsxs)(o.A.Label,{children:["UDP Buffer Size (",null!=(N=null==(e=W.advancedConfig)?void 0:e.udpBufferSize)?N:2048," Bytes)"]}),(0,n.jsx)(o.A.Range,{value:null!=(I=null==(l=W.advancedConfig)?void 0:l.udpBufferSize)?I:2048,min:2048,max:65536,step:1024,onChange:Q}),(0,n.jsxs)(o.A.Label,{children:["UDP Ring Buffer Size (",null!=(R=null==(a=W.advancedConfig)?void 0:a.udpRingbufferSize)?R:250,")"]}),(0,n.jsx)(o.A.Range,{value:null!=(z=null==(y=W.advancedConfig)?void 0:y.udpRingbufferSize)?z:250,min:100,max:2e3,step:10,onChange:q}),(0,n.jsxs)(o.A.Label,{children:["Relay Buffer Size (",null!=(E=null==(k=W.advancedConfig)?void 0:k.relayBufferSize)?E:4096," Bytes)"]}),(0,n.jsx)(o.A.Range,{value:null!=(Z=null==(S=W.advancedConfig)?void 0:S.relayBufferSize)?Z:4096,min:2048,max:65536,step:1024,onChange:$})]}),(0,n.jsx)(t.A.Footer,{className:"d-flex justify-content-md-end",children:(0,n.jsxs)(m.A,{variant:"outline-primary",onClick:ea,disabled:ee,children:[(0,n.jsx)("i",{className:"bi bi-floppy"})," Save",ee&&(0,n.jsxs)(n.Fragment,{children:["\xa0",(0,n.jsx)(v.A,{size:"sm",animation:"border",variant:"primary"})]})]})})]})})}},9330:(e,l,a)=>{"use strict";a.d(l,{Yl:()=>i});var n=a(21863),s=a(8824),r=a(89995),t=a(20868);let o=(0,n.w)("ChF0b29scy90b29scy5wcm90bxINeXVoYWlpbi50b29scyI6CgpJbnRlcmZhY2VzEiwKCmludGVyZmFjZXMYASADKAsyGC55dWhhaWluLnRvb2xzLkludGVyZmFjZSIsCglJbnRlcmZhY2USDAoEbmFtZRgBIAEoCRIRCglhZGRyZXNzZXMYAiADKAkiXAoITGljZW5zZXMSJwoHeXVoYWlpbhgBIAMoCzIWLnl1aGFpaW4udG9vbHMuTGljZW5zZRInCgdhbmRyb2lkGAIgAygLMhYueXVoYWlpbi50b29scy5MaWNlbnNlIlcKB0xpY2Vuc2USDAoEbmFtZRgBIAEoCRILCgN1cmwYAiABKAkSDwoHbGljZW5zZRgDIAEoCRIgCgtsaWNlbnNlX3VybBgEIAEoCVILbGljZW5zZV91cmwiEgoDTG9nEgsKA2xvZxgBIAEoCSIUCgVMb2d2MhILCgNsb2cYASADKAky9gEKBXRvb2xzEkIKDWdldF9pbnRlcmZhY2USFi5nb29nbGUucHJvdG9idWYuRW1wdHkaGS55dWhhaWluLnRvb2xzLkludGVyZmFjZXMSOwoIbGljZW5zZXMSFi5nb29nbGUucHJvdG9idWYuRW1wdHkaFy55dWhhaWluLnRvb2xzLkxpY2Vuc2VzEjMKA2xvZxIWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRoSLnl1aGFpaW4udG9vbHMuTG9nMAESNwoFbG9ndjISFi5nb29nbGUucHJvdG9idWYuRW1wdHkaFC55dWhhaWluLnRvb2xzLkxvZ3YyMAFCN1otZ2l0aHViLmNvbS9Bc3V0b3J1ZmEveXVoYWlpbi9wa2cvcHJvdG9zL3Rvb2xzkgMF0j4CEANiCGVkaXRpb25zcOgH",[r.t,t.AT]),i=(0,s.Z)(o,0)},29769:(e,l,a)=>{"use strict";a.d(l,{O:()=>t,R:()=>o});var n=a(12115),s=a(9330),r=a(46057);let t=(0,n.createContext)([]);function o(){let{data:e}=(0,r.mp)(s.Yl.method.get_interface,{revalidateOnFocus:!1});return e?e.interfaces:[]}},30281:(e,l,a)=>{"use strict";a.d(l,{$d:()=>i,FX:()=>d,Vx:()=>c,no:()=>u});var n=a(95155),s=a(12115),r=a(63196),t=a(33599),o=a(63365);let i=s.memo(e=>{let{label:l,checked:a,onChange:s,className:i}=e;return(0,n.jsxs)(r.A.Group,{as:t.A,className:i,children:[(0,n.jsx)(r.A.Label,{column:!0,sm:2,children:l}),(0,n.jsx)(o.A,{sm:10,className:"d-flex align-items-center",children:(0,n.jsx)(r.A.Check,{className:"d-flex align-items-center",type:"switch",checked:a,onChange:e=>s(e.target.checked)})})]})}),c=s.memo(e=>{let{...l}=e,a=(0,s.useCallback)(e=>l.onChange(Number(e.target.value)),[l]),i=(0,s.useMemo)(()=>{var e;return l.type.values.filter(null!=(e=l.filter)?e:()=>!0)},[l.type,l.filter]);return(0,n.jsxs)(r.A.Group,{as:t.A,className:l.lastElem?"":"mb-2",children:[l.label&&(0,n.jsx)(r.A.Label,{column:!0,sm:2,children:l.label}),(0,n.jsx)(o.A,{sm:10,children:(0,n.jsxs)(r.A.Select,{value:l.value,onChange:a,children:[(0,n.jsx)(()=>l.emptyChoose?(0,n.jsx)("option",{value:"",children:"Choose..."}):(0,n.jsx)(n.Fragment,{}),{}),i.map(e=>(0,n.jsx)("option",{value:e.number,children:l.format?l.format(e.number):e.name},e.number))]})})]})}),u=s.memo(e=>{let{label:l,values:a,onChange:s,value:i,emptyChoose:c,emptyChooseName:u,lastElem:d}=e;return(0,n.jsxs)(r.A.Group,{as:t.A,className:d?"":"mb-2",children:[(0,n.jsx)(r.A.Label,{column:!0,sm:2,children:l}),(0,n.jsx)(o.A,{sm:10,children:(0,n.jsxs)(r.A.Select,{value:i,onChange:e=>s(e.target.value),children:[c&&(0,n.jsx)("option",{value:"",children:null!=u?u:"Choose..."}),a.map(e=>(0,n.jsx)("option",{value:e,children:e},e))]})})]})}),d=s.memo(e=>{let{values:l,onChange:a,value:s,emptyChoose:t,format:o,emptyChooseName:i}=e;return(0,n.jsxs)(r.A.Select,{value:s,onChange:e=>a(e.target.value),children:[t&&(0,n.jsx)("option",{value:"",children:null!=i?i:"Choose..."}),l.map(e=>{let l="string"==typeof e?e:e[0],a="string"==typeof e?e:e[1];return(0,n.jsx)("option",{value:a,children:o?o(l):l},l)})]})})},94226:(e,l,a)=>{"use strict";a.d(l,{u:()=>o,y:()=>i});var n=a(95155),s=a(12115),r=a(93399),t=a(45614);let o=(0,s.createContext)({Info:e=>{console.log(e)},Error:e=>{console.error(e)}}),i=e=>{let{children:l}=e,[a,i]=(0,s.useState)({value:{},index:0}),c=(e,l)=>i(a=>({value:{...a.value,[a.index]:{text:e,type:l}},index:a.index+1}));return(0,n.jsxs)(o.Provider,{value:{Info:e=>{console.log(e),c(e,"success")},Error:e=>{console.error(e),c(e,"danger")}},children:[(0,n.jsx)(r.A,{className:"p-3",position:"top-center",containerPosition:"fixed",style:{zIndex:999999},children:Object.entries(a.value).map(e=>{let[l,a]=e;return(0,n.jsxs)(t.A,{role:"alert","aria-live":"assertive",show:!0,bg:a.type,onClose:()=>{i(e=>{let a={...e.value};return delete a[l],{...e,value:a}})},"aria-atomic":"true",delay:4e3,autohide:!0,animation:!0,children:[(0,n.jsxs)(t.A.Header,{children:[(0,n.jsx)("strong",{className:"me-auto",children:"Notification"}),(0,n.jsx)("small",{className:"text-muted",children:"just now"})]}),(0,n.jsx)(t.A.Body,{className:"text-center",children:a.text})]},"toast"+l)})}),l]})}},96381:(e,l,a)=>{Promise.resolve().then(a.bind(a,2347))}},e=>{e.O(0,[9354,9717,91,4298,857,5686,4539,6164,1112,7077,8441,1255,7358],()=>e(e.s=96381)),_N_E=e.O()}]);