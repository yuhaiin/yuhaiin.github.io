(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[930],{4784:(e,s,n)=>{Promise.resolve().then(n.bind(n,1404))},9169:(e,s,n)=>{"use strict";n.d(s,{A:()=>o});var t=n(5155),a=n(4216),r=n(5554),l=n.n(r);let o=function(e){return(0,t.jsxs)("div",{className:"z-1090 d-flex flex-column justify-content-center align-items-center",style:{height:"100px"},children:[void 0!==e.children&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(l(),{className:"p2",statusCode:void 0!==e.code?e.code:500,title:e.children})}),(0,t.jsx)("div",{className:"p2",children:(0,t.jsx)(a.A,{})})]})}},2859:(e,s,n)=>{"use strict";n.d(s,{$d:()=>o});var t=n(5155);n(2115);var a=n(6180),r=n(6121),l=n(3667);let o=e=>(0,t.jsxs)(a.A.Group,{as:r.A,className:"mb-2",children:[(0,t.jsx)(a.A.Label,{column:!0,sm:2,children:e.label}),(0,t.jsx)(l.A,{sm:10,className:"d-flex align-items-center",children:(0,t.jsx)(a.A.Check,{className:"d-flex align-items-center",type:"switch",checked:e.checked,onChange:()=>e.onChange()})})]})},148:(e,s,n)=>{"use strict";n.d(s,{u:()=>o,y:()=>i});var t=n(5155),a=n(2115),r=n(1757),l=n(491);let o=(0,a.createContext)({Info:e=>{},Error:e=>{}}),i=e=>{let{children:s}=e,[n,i]=(0,a.useState)({value:{},index:0}),c=(e,s)=>i(n=>({value:{...n.value,[n.index]:{text:e,type:s}},index:n.index+1}));return(0,t.jsxs)(o.Provider,{value:{Info:e=>{console.log(e),c(e,"success")},Error:e=>{console.error(e),c(e,"danger")}},children:[(0,t.jsx)(r.A,{className:"p-3",position:"top-center",containerPosition:"fixed",style:{zIndex:999999},children:Object.entries(n.value).map(e=>{let[s,a]=e;return(0,t.jsxs)(l.A,{role:"alert","aria-live":"assertive",show:!0,bg:a.type,onClose:()=>{let e=n.value;delete e[s],i({...n,value:e})},"aria-atomic":"true",delay:4e3,autohide:!0,animation:!0,children:[(0,t.jsxs)(l.A.Header,{children:[(0,t.jsx)("strong",{className:"me-auto",children:"Notification"}),(0,t.jsx)("small",{className:"text-muted",children:"just now"})]}),(0,t.jsx)(l.A.Body,{className:"text-center",children:a.text})]},"toast"+s)})}),s]})}},1404:(e,s,n)=>{"use strict";n.r(s),n.d(s,{default:()=>O});var t=n(5155),a=n(4995),r=n(8927),l=n(6863),o=n(5554),i=n.n(o),c=n(9169),u=n(0),d=n(2963),h=n(2981),v=n(57),x=n(8003),m=n(6180),p=n(2115),g=n(7641),b=n(3577),j=n(950),C=n(2859),A=n(7204),y=n(6121),f=n(3667),w=n(2273);let k=p.memo(e=>{let s=s=>{s(e.http),e.onChange(e.http)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.a9,{label:"Username",value:e.http.username,onChange:e=>s(s=>s.username=e)}),(0,t.jsx)(A.a9,{label:"Password",value:e.http.password,onChange:e=>s(s=>s.password=e)})]})}),N=p.memo(e=>{let s=s=>{s(e.reverse_http),e.onChange(e.reverse_http)};return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(A.a9,{label:"Url",value:e.reverse_http.url,onChange:e=>s(s=>s.url=e)})})}),F=p.memo(e=>{let s=s=>{s(e.reverse_tcp),e.onChange(e.reverse_tcp)};return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(A.a9,{label:"Host",value:e.reverse_tcp.host,onChange:e=>s(s=>s.host=e)})})}),S=p.memo(e=>{let s=s=>{s(e.redir),e.onChange(e.redir)};return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(A.a9,{label:"Host",value:e.redir.host,onChange:e=>s(s=>s.host=e)})})}),E=p.memo(e=>{let s=s=>{s(e.tproxy),e.onChange(e.tproxy)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.$d,{label:"DNS Hijacking",checked:e.tproxy.dnsHijacking,onChange:()=>s(e=>e.dnsHijacking=!e.dnsHijacking)}),(0,t.jsx)(C.$d,{label:"Force Fake IP",checked:e.tproxy.forceFakeip,onChange:()=>s(e=>e.forceFakeip=!e.forceFakeip)}),(0,t.jsx)(A.a9,{label:"Host",value:e.tproxy.host,onChange:e=>s(s=>s.host=e)})]})}),I=p.memo(e=>{let s=s=>{s(e.socks5),e.onChange(e.socks5)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.a9,{label:"Username",value:e.socks5.username,onChange:e=>s(s=>s.username=e)}),(0,t.jsx)(A.a9,{label:"Password",value:e.socks5.password,onChange:e=>s(s=>s.password=e)})]})}),P=p.memo(e=>{let s=s=>{s(e.mixed),e.onChange(e.mixed)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.a9,{label:"Username",value:e.mixed.username,onChange:e=>s(s=>s.username=e)}),(0,t.jsx)(A.a9,{label:"Password",value:e.mixed.password,onChange:e=>s(s=>s.password=e)})]})}),H=p.memo(e=>{var s,n;let a=s=>{s(e.tun),e.onChange(e.tun)},[r,l]=(0,p.useState)((0,w.fj)(e.tun.postUp)),[o,i]=(0,p.useState)((0,w.fj)(e.tun.postDown));return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.$d,{checked:e.tun.skipMulticast,onChange:()=>a(e=>e.skipMulticast=!e.skipMulticast),label:"Skip Multicast"}),(0,t.jsx)(A.a9,{label:"Name",value:e.tun.name,onChange:e=>a(s=>s.name=e)}),(0,t.jsx)(A.a9,{label:"MTU",value:e.tun.mtu,onChange:e=>a(s=>s.mtu=isNaN(Number(e))?s.mtu:Number(e))}),(0,t.jsx)(A.a9,{label:"IPv4",value:e.tun.portal,onChange:e=>a(s=>s.portal=e)}),(0,t.jsx)(A.a9,{label:"IPv6",value:e.tun.portalV6,onChange:e=>a(s=>s.portalV6=e)}),(0,t.jsx)(A.a9,{label:"Post Up",value:r,onChange:e=>{l(e);try{let s=(0,w.lD)(e);a(e=>e.postUp=s)}catch(e){console.log(e)}}}),(0,t.jsx)(A.a9,{label:"Post Down",value:o,onChange:e=>{i(e);try{let s=(0,w.lD)(e);a(e=>e.postDown=s)}catch(e){console.log(e)}}}),(0,t.jsx)(function(e){return(0,t.jsxs)(m.A.Group,{as:y.A,className:"mb-3",children:[(0,t.jsx)(m.A.Label,{column:!0,sm:2,children:e.label}),(0,t.jsx)(f.A,{sm:10,children:(0,t.jsxs)(m.A.Select,{value:g.xz[void 0===e.value||null===e.value?g.xz.fdbased:e.value],onChange:s=>e.onChange(g.xz[s.target.value]),children:[(0,t.jsx)("option",{value:g.xz[g.xz.fdbased],children:"Fdbased"}),(0,t.jsx)("option",{value:g.xz[g.xz.channel],children:"Channel"}),(0,t.jsx)("option",{value:g.xz[g.xz.system_gvisor],children:"System"})]})})]})},{label:"Stack",value:e.tun.driver,onChange:e=>a(s=>s.driver=e)}),(0,t.jsx)(A.e9,{title:"Routes",data:null!==(n=null===(s=e.tun.route)||void 0===s?void 0:s.routes)&&void 0!==n?n:[],onChange:e=>a(s=>{s.route||(s.route=(0,b.v)(g.l,{})),e||(e=[]),s.route&&(s.route.routes=e)})})]})}),Z=e=>null==e||void 0===e.certificates&&void 0===e.nextProtos&&void 0===e.serverNameCertificate,B=p.memo(e=>{let s=s=>{s(e.cert),e.onChange(e.cert)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.jU,{label:"Cert",value:new TextDecoder().decode(e.cert.cert),onChange:e=>s(s=>{s.cert=new TextEncoder().encode(e)})}),(0,t.jsx)(A.jU,{label:"Key",value:new TextDecoder().decode(e.cert.key),onChange:e=>s(s=>{s.key=new TextEncoder().encode(e)})}),(0,t.jsx)(A.a9,{label:"Cert File",value:e.cert.certFilePath,onChange:e=>s(s=>{s.certFilePath=e})}),(0,t.jsx)(A.a9,{label:"Key File",value:e.cert.keyFilePath,onChange:e=>s(s=>{s.keyFilePath=e})})]})}),D=p.memo(e=>{var s,n;let[a,r]=(0,p.useState)("www.example.com"),l=s=>{s(e.tls),e.onChange(e.tls)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.e9,{title:"Next Protos",data:null!==(n=null===(s=e.tls)||void 0===s?void 0:s.nextProtos)&&void 0!==n?n:[],onChange:e=>l(s=>{e&&(s.nextProtos=e)})}),e.tls&&e.tls.certificates.map((e,s)=>(0,t.jsx)(h.A,{className:"mb-2",children:(0,t.jsxs)(h.A.Body,{children:[(0,t.jsx)(h.A.Title,{className:"d-flex justify-content-end align-items-center",children:(0,t.jsx)(d.A,{variant:"outline-danger",onClick:()=>l(e=>{(null==e?void 0:e.certificates)!==void 0&&e.certificates.splice(s,1)}),children:(0,t.jsx)("i",{className:"bi bi-x-lg"})})}),(0,t.jsx)(B,{cert:(0,b.v)(g.f6,e),onChange:e=>l(n=>{(null==n?void 0:n.certificates)!==void 0&&(n.certificates[s]=e)})})]})},"tls_certificates"+s)),(0,t.jsx)(x.A,{className:"d-flex justify-content-end mb-2",children:(0,t.jsxs)(d.A,{variant:"outline-success",onClick:()=>l(e=>{e.certificates.push((0,b.v)(g.f6,{cert:new Uint8Array(0),key:new Uint8Array(0),certFilePath:"",keyFilePath:""}))}),children:[(0,t.jsx)("i",{className:"bi bi-plus-lg"}),"New Certificate"]})}),e.tls&&e.tls.serverNameCertificate&&Object.entries(e.tls.serverNameCertificate).map(e=>{let[s,n]=e;return(0,t.jsx)(h.A,{className:"mb-2",children:(0,t.jsxs)(h.A.Body,{children:[(0,t.jsxs)(h.A.Title,{className:"d-flex justify-content-between align-items-center",children:[s,(0,t.jsx)(d.A,{variant:"outline-danger",onClick:()=>l(e=>{null==e||delete e.serverNameCertificate[s]}),children:(0,t.jsx)("i",{className:"bi bi-x-lg"})})]}),(0,t.jsx)(B,{cert:(0,b.v)(g.f6,n),onChange:e=>l(n=>{n.serverNameCertificate[s]=e})})]})},"server_name_certificate"+s)}),(0,t.jsxs)(x.A,{className:"d-flex justify-content-end",children:[(0,t.jsx)(m.A.Control,{value:a,onChange:e=>r(e.target.value)}),(0,t.jsxs)(d.A,{variant:"outline-success",onClick:()=>l(e=>{""!==a&&(e.serverNameCertificate[a]=(0,b.v)(g.f6,{}))}),children:[(0,t.jsx)("i",{className:"bi bi-plus-lg"}),"New SNI Certificate"]})]})]})}),G=p.memo(e=>{let s=s=>{Z(e.quic.tls)&&(e.quic.tls=void 0),s(e.quic),e.onChange(e.quic)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.a9,{label:"Host",onChange:e=>s(s=>s.host=e),value:e.quic.host}),e.quic.tls&&(0,t.jsx)(D,{tls:(0,b.v)(g.Qi,null!==e.quic.tls?e.quic.tls:void 0),onChange:e=>s(s=>s.tls=e)})]})}),U=p.memo(e=>{let s=s=>{Z(e.tls.tls)&&(e.tls.tls=void 0),s(e.tls),e.onChange(e.tls)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.a9,{plaintext:!0,label:"Protocol",value:"TLS"}),e.tls.tls&&(0,t.jsx)(D,{tls:(0,b.v)(g.Qi,e.tls.tls),onChange:e=>s(s=>s.tls=e)})]})}),W=p.memo(e=>{let s=s=>{s(e.reality),e.onChange(e.reality)},[n,a]=(0,p.useState)({value:""}),[r,l]=(0,p.useState)({value:""});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.a9,{plaintext:!0,label:"Protocol",value:"Reality"}),(0,t.jsx)(A.a9,{label:"Dest",value:e.reality.dest,onChange:e=>s(s=>s.dest=e)}),(0,t.jsx)(A.a9,{label:"Private Key",value:e.reality.privateKey,onChange:e=>s(s=>s.privateKey=e)}),(0,t.jsxs)(m.A.Group,{as:y.A,className:"mb-3",children:[(0,t.jsx)(m.A.Label,{column:!0,sm:2,className:"nowrap",children:"Short ID"}),e.reality.shortId.map((e,n)=>(0,t.jsx)(f.A,{sm:{span:10,offset:0!==n?2:0},children:(0,t.jsxs)(x.A,{className:"mb-2",children:[(0,t.jsx)(m.A.Control,{value:e,onChange:e=>s(s=>{s.shortId[n]=e.target.value})}),(0,t.jsx)(d.A,{variant:"outline-danger",onClick:()=>s(e=>{e.shortId.splice(n,1)}),children:(0,t.jsx)("i",{className:"bi bi-x-lg"})})]})},n)),(0,t.jsx)(f.A,{sm:{span:10,offset:0!==e.reality.shortId.length?2:0},children:(0,t.jsxs)(x.A,{className:"mb-2",children:[(0,t.jsx)(m.A.Control,{value:n.value,onChange:e=>a({value:e.target.value})}),(0,t.jsx)(d.A,{variant:"outline-success",onClick:()=>s(e=>{e.shortId.push(n.value)}),children:(0,t.jsx)("i",{className:"bi bi-plus-lg"})})]})})]}),(0,t.jsxs)(m.A.Group,{as:y.A,className:"mb-3",children:[(0,t.jsx)(m.A.Label,{column:!0,sm:2,className:"nowrap",children:"Server Name"}),e.reality.serverName.map((e,n)=>(0,t.jsx)(f.A,{sm:{span:10,offset:0!==n?2:0},children:(0,t.jsxs)(x.A,{className:"mb-2",children:[(0,t.jsx)(m.A.Control,{value:e,onChange:e=>s(s=>{s.serverName[n]=e.target.value})}),(0,t.jsx)(d.A,{variant:"outline-danger",onClick:()=>s(e=>{e.serverName.splice(n,1)}),children:(0,t.jsx)("i",{className:"bi bi-x-lg"})})]})},n)),(0,t.jsx)(f.A,{sm:{span:10,offset:0!==e.reality.serverName.length?2:0},children:(0,t.jsxs)(x.A,{className:"mb-2",children:[(0,t.jsx)(m.A.Control,{value:r.value,onChange:e=>l({value:e.target.value})}),(0,t.jsx)(d.A,{variant:"outline-success",onClick:()=>s(e=>{e.serverName.push(r.value)}),children:(0,t.jsx)("i",{className:"bi bi-plus-lg"})})]})})]})]})});function R(e,s,n){return n?function(e){e(s),n(s)}:function(e){}}let Y=e=>{let s=R(g.Zq,e.inbound,e.onChange),n=(n,t)=>{e.inbound.transport.length<=1||n&&0===t||!n&&t===e.inbound.transport.length-1||s(e=>{let s=e.transport[t];e.transport[t]=e.transport[t+(n?-1:1)],e.transport[t+(n?-1:1)]=s})},[a,r]=(0,p.useState)({value:"normal"});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.$d,{label:"Enabled",checked:e.inbound.enabled,onChange:()=>{s(e=>e.enabled=!e.enabled)}}),(0,t.jsx)(A.a9,{label:"Name",value:e.inbound.name,onChange:e=>{s(s=>s.name=e)}}),(0,t.jsx)(A.mc,{title:"Network",hideClose:!0,children:(0,t.jsx)(V,{inbound:e.inbound,onChange:e=>{s(s=>e)}})}),(0,t.jsx)(A.mc,{title:"Transport",hideClose:!0,children:(0,t.jsxs)(t.Fragment,{children:[e.inbound.transport.map((a,r)=>{var l,o;return(0,t.jsx)(A.mc,{title:null!==(o=null===(l=a.transport.case)||void 0===l?void 0:l.toString())&&void 0!==o?o:"",onClose:()=>{s(e=>e.transport.splice(r,1))},moveUpDown:new A.fH(e.inbound.transport.length,r,e=>n(e,r)),children:(0,t.jsx)(z,{transport:a,onChange:e=>{s(s=>s.transport[r]=e)}},r)},r)}),(0,t.jsx)(v.A,{variant:"flush",children:(0,t.jsx)(v.A.Item,{children:(0,t.jsxs)(x.A,{children:[(0,t.jsx)(m.A.Select,{value:a.value,onChange:e=>r({value:e.target.value}),children:["normal","tls","mux","http2","websocket","grpc","reality"].map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsxs)(d.A,{variant:"outline-success",onClick:()=>s(e=>{switch(a.value){case"normal":e.transport.push((0,b.v)(g.ls,{transport:{case:"normal",value:(0,b.v)(g.Rc,{})}}));break;case"tls":e.transport.push((0,b.v)(g.ls,{transport:{case:"tls",value:(0,b.v)(g.fx,{tls:(0,b.v)(g.Qi,{})})}}));break;case"mux":e.transport.push((0,b.v)(g.ls,{transport:{case:"mux",value:(0,b.v)(g.gE,{})}}));break;case"http2":e.transport.push((0,b.v)(g.ls,{transport:{case:"http2",value:(0,b.v)(g.ql,{})}}));break;case"websocket":e.transport.push((0,b.v)(g.ls,{transport:{case:"websocket",value:(0,b.v)(g.BP,{})}}));break;case"grpc":e.transport.push((0,b.v)(g.ls,{transport:{case:"grpc",value:(0,b.v)(g.E_,{})}}));break;case"reality":e.transport.push((0,b.v)(g.ls,{transport:{case:"reality",value:(0,b.v)(g.K0,{})}}))}}),children:[(0,t.jsx)("i",{className:"bi bi-plus-lg"}),"Add"]})]})})})]})}),(0,t.jsx)(A.mc,{title:"Protocol",hideClose:!0,children:(0,t.jsx)(L,{inbound:e.inbound,onChange:e=>{s(s=>e)}})})]})},V=e=>{var s,n;let a=R(g.Zq,e.inbound,e.onChange),[r,l]=(0,p.useState)({value:null!==(n=null===(s=e.inbound.network.case)||void 0===s?void 0:s.toString())&&void 0!==n?n:"tcpudp"});return(0,p.useEffect)(()=>{l({value:e.inbound.network.case?e.inbound.network.case.toString():"tcpudp"})},[e.inbound]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.A,{variant:"flush",children:(0,t.jsx)(v.A.Item,{children:(0,t.jsxs)(x.A,{children:[(0,t.jsx)(m.A.Select,{value:r.value,onChange:e=>l({value:e.target.value}),children:["empty","tcpudp","quic"].map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsx)(d.A,{variant:"outline-success",onClick:()=>a(e=>{switch(r.value){case"tcpudp":e.network={case:"tcpudp",value:(0,b.v)(g.as,{})};break;case"quic":e.network={case:"quic",value:(0,b.v)(g.sn,{})};break;case"empty":e.network={case:"empty",value:(0,b.v)(g.bN,{})}}}),children:"Use"})]})})}),(0,t.jsx)("br",{}),(0,t.jsx)(q,{inbound:e.inbound,onChange:e.onChange})]})},q=e=>{let s=R(g.Zq,e.inbound,e.onChange);switch(e.inbound.network.case){case"tcpudp":return(0,t.jsx)(K,{protocol:e.inbound.network.value,onChange:e=>{s(s=>s.network.value=e)}});case"quic":return(0,t.jsx)(G,{quic:e.inbound.network.value,onChange:e=>{s(s=>s.network.value=e)}});case"empty":return(0,t.jsx)(t.Fragment,{})}},z=e=>{let s=R(g.ls,e.transport,e.onChange);switch(e.transport.transport.case){case"normal":return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"text-center",style:{opacity:"0.4"},children:"Normal"})});case"tls":return(0,t.jsx)(U,{tls:e.transport.transport.value,onChange:e=>{s(s=>s.transport.value=e)}});case"mux":return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"text-center",style:{opacity:"0.4"},children:"Mux"})});case"http2":return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"text-center",style:{opacity:"0.4"},children:"HTTP2"})});case"websocket":return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"text-center",style:{opacity:"0.4"},children:"Websocket"})});case"grpc":return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"text-center",style:{opacity:"0.4"},children:"Grpc"})});case"reality":return(0,t.jsx)(W,{reality:e.transport.transport.value,onChange:e=>{s(s=>s.transport.value=e)}})}},Q=e=>{let s=R(g.Zq,e.inbound,e.onChange);switch(e.inbound.protocol.case){case"http":return(0,t.jsx)(k,{http:e.inbound.protocol.value,onChange:e=>{s(s=>s.protocol.value=e)}});case"reverseHttp":return(0,t.jsx)(N,{reverse_http:e.inbound.protocol.value,onChange:e=>{s(s=>s.protocol.value=e)}});case"reverseTcp":return(0,t.jsx)(F,{reverse_tcp:e.inbound.protocol.value,onChange:e=>{s(s=>s.protocol.value=e)}});case"socks5":return(0,t.jsx)(I,{socks5:e.inbound.protocol.value,onChange:e=>{s(s=>s.protocol.value=e)}});case"socks4a":return(0,t.jsx)(t.Fragment,{});case"mix":return(0,t.jsx)(P,{mixed:e.inbound.protocol.value,onChange:e=>{s(s=>s.protocol.value=e)}});case"redir":return(0,t.jsx)(S,{redir:e.inbound.protocol.value,onChange:e=>{s(s=>s.protocol.value=e)}});case"tun":return(0,t.jsx)(H,{tun:e.inbound.protocol.value,onChange:e=>{s(s=>s.protocol.value=e)}});case"yuubinsya":return(0,t.jsx)(T,{yuubinsya:e.inbound.protocol.value,onChange:e=>{s(s=>s.protocol.value=e)}});case"tproxy":return(0,t.jsx)(E,{tproxy:e.inbound.protocol.value,onChange:e=>{s(s=>s.protocol.value=e)}})}},L=e=>{let s=R(g.Zq,e.inbound,e.onChange),[n,a]=(0,p.useState)({value:e.inbound.protocol.case?e.inbound.protocol.case.toString():"yuubinsya"});return(0,p.useEffect)(()=>{a({value:e.inbound.protocol.case?e.inbound.protocol.case.toString():"yuubinsya"})},[e.inbound]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.A,{variant:"flush",children:(0,t.jsx)(v.A.Item,{children:(0,t.jsxs)(x.A,{children:[(0,t.jsx)(m.A.Select,{value:n.value,onChange:e=>a({value:e.target.value}),children:["http","reverseHttp","reverseTcp","socks5","mix","redir","tun","yuubinsya","tproxy"].map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsx)(d.A,{variant:"outline-success",onClick:()=>s(e=>{switch(n.value){case"http":e.protocol={case:"http",value:(0,b.v)(g.UM,{})};break;case"reverseHttp":e.protocol={case:"reverseHttp",value:(0,b.v)(g.l0,{})};break;case"reverseTcp":e.protocol={case:"reverseTcp",value:(0,b.v)(g.A0,{})};break;case"socks5":e.protocol={case:"socks5",value:(0,b.v)(g.AK,{})};break;case"mix":e.protocol={case:"mix",value:(0,b.v)(g.JX,{})};break;case"redir":e.protocol={case:"redir",value:(0,b.v)(g.Q9,{})};break;case"tun":e.protocol={case:"tun",value:(0,b.v)(g.vC,{})};break;case"yuubinsya":e.protocol={case:"yuubinsya",value:(0,b.v)(g.lA,{})};break;case"tproxy":e.protocol={case:"tproxy",value:(0,b.v)(g.SL,{})}}}),children:"Use"})]})})}),(0,t.jsx)("br",{}),(0,t.jsx)(Q,{inbound:e.inbound,onChange:e=>{s(s=>e)}})]})},T=e=>{let s=R(g.lA,e.yuubinsya,e.onChange);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.$d,{label:"TCP Encrypt",checked:e.yuubinsya.tcpEncrypt,onChange:()=>{s(e=>e.tcpEncrypt=!e.tcpEncrypt)}}),(0,t.jsx)(C.$d,{label:"UDP Encrypt",checked:e.yuubinsya.udpEncrypt,onChange:()=>{s(e=>e.udpEncrypt=!e.udpEncrypt)}}),(0,t.jsx)(A.a9,{label:"Password",value:e.yuubinsya.password,onChange:e=>{s(s=>s.password=e)}})]})},K=e=>{let s=R(g.as,e.protocol,e.onChange);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.a9,{label:"Host",value:e.protocol.host,onChange:e=>{s(s=>s.host=e)}}),(0,t.jsx)(M,{label:"Control",type:g.JM,value:e.protocol.control,onChange:e=>{s(s=>{s.control=e})}})]})};function M(e){var s;return(0,t.jsxs)(m.A.Group,{as:y.A,className:"mb-3",children:[(0,t.jsx)(m.A.Label,{column:!0,sm:2,children:e.label}),(0,t.jsx)(f.A,{sm:10,children:(0,t.jsx)(m.A.Select,{value:e.value,onChange:s=>e.onChange(Number(s.target.value)),children:e.type.values.filter(null!==(s=e.filter)&&void 0!==s?s:()=>!0).map(e=>(0,t.jsx)("option",{value:e.number,children:e.name},e.number))})})]})}var _=n(1936),J=n(148);let $=e=>{let s=(0,p.useContext)(J.u),{data:n,error:o,isLoading:i,isValidating:h,mutate:v}=(0,a.Ay)(""===e.name?void 0:"/inbound",(0,r.AD)(l.mz.method.get,"POST",(0,b.v)(_.g8,{value:e.name}),e.isNew?(0,b.v)(g.Zq,{name:e.name,enabled:!1}):void 0),{shouldRetryOnError:!1,keepPreviousData:!1,revalidateOnFocus:!1});return(0,p.useEffect)(()=>{v()},[e.name,e.isNew]),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(u.A,{show:e.show,scrollable:!0,"aria-labelledby":"contained-modal-title-vcenter",size:"xl",onHide:()=>{e.onHide()},centered:!0,children:[(0,t.jsx)(u.A.Header,{children:(0,t.jsx)(u.A.Title,{id:"contained-modal-title-vcenter",children:e.name})}),(0,t.jsx)(u.A.Body,{children:o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("h4",{className:"text-center my-2",children:[o.code," - ",o.msg]}),(0,t.jsx)("pre",{className:"text-center my-2 text-danger lead",children:o.raw})]}):h||i||!n?(0,t.jsx)(c.A,{}):(0,t.jsx)(Y,{inbound:n,onChange:e=>{v((0,j.o)(g.Zq,e),!1)}})}),(0,t.jsxs)(u.A.Footer,{children:[(0,t.jsx)(d.A,{variant:"outline-secondary",onClick:()=>{e.onHide()},children:"Close"}),(0,t.jsx)(d.A,{variant:"outline-primary",onClick:()=>{(0,r.kP)(l.mz.method.save,"/inbound","PATCH",n).then(async n=>{let{error:t}=n;if(void 0===t)s.Info("save successful"),e.onHide(!0);else{let e=t.msg;s.Error(e),console.error(t.code,e)}})},children:"Save"})]})]})})},O=function(){let e=(0,p.useContext)(J.u),{data:s,error:n,isLoading:o,mutate:u}=(0,a.Ay)("/inbounds",(0,r.AD)(l.mz.method.list)),[g,j]=(0,p.useState)({show:!1,name:"",new:!1}),[C,A]=(0,p.useState)({value:""});if(void 0!==n)return(0,t.jsx)(i(),{statusCode:n.code,title:n.msg});if(o||void 0===s)return(0,t.jsx)(c.A,{});let y=s=>{(0,r.kP)(l.mz.method.remove,"/inbound","DELETE",(0,b.v)(_.g8,{value:s})).then(async s=>{let{error:n}=s;if(void 0===n)e.Info("remove successful"),u();else{let s=n.msg;e.Error(s),console.error(n.code,s)}})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)($,{show:g.show,name:g.name,onHide:e=>{e&&u(),j({...g,show:!1})},isNew:g.new}),(0,t.jsxs)(h.A,{children:[0===s.names.length&&(0,t.jsxs)(h.A.Body,{children:[(0,t.jsx)("div",{className:"text-center my-2",style:{opacity:"0.4"},children:"No Inbounds"}),"  "]}),0!==s.names.length&&(0,t.jsx)(v.A,{variant:"flush",children:s.names.sort((e,s)=>e<=s?-1:1).map((e,s)=>(0,t.jsx)(p.Fragment,{children:(0,t.jsxs)(v.A.Item,{action:!0,className:"d-flex justify-content-between align-items-center",style:{border:"0ch",borderBottom:"1px solid #dee2e6"},onClick:s=>{s.stopPropagation(),j({show:!0,name:e,new:!1})},children:[e,(0,t.jsx)(d.A,{variant:"outline-danger",size:"sm",as:"span",onClick:s=>{s.stopPropagation(),y(e)},children:(0,t.jsx)("i",{className:"bi bi-x-lg"})},s+"span-button")]})},"inbounds-"+s))}),(0,t.jsx)(h.A.Footer,{children:(0,t.jsxs)(x.A,{className:"d-flex justify-content-end",children:[(0,t.jsx)(m.A.Control,{value:C.value,onChange:e=>A({value:e.target.value})}),(0,t.jsxs)(d.A,{variant:"outline-success",onClick:()=>{!C.value||s.names.includes(C.value)||(g.name===C.value&&g.new?j(e=>({...e,show:!0})):j({show:!0,name:C.value,new:!0}))},children:[(0,t.jsx)("i",{className:"bi bi-plus-lg"}),"New "]})]})})]})]})}},2273:(e,s)=>{"use strict";class n{constructor(e){this.i=0,this.string=e,this.whitespace=" 	\r\n",this.quotes="'\"",this.escapes="\\",this.escapedQuotes='"',this.ansiCQuotes=!0,this.localeQuotes=!0,this.debug=!1}readChar(){return this.string.charAt(this.i++)}processEscapes(e,s,n){if(!n&&!this.escapedQuotes.includes(s))return e;let t="["+this.escapes.replace(/(.)/g,"\\$1")+"]";if(!n&&this.escapedQuotes.includes(s)){let n=RegExp(t+"("+t+"|\\"+s+")","g");return e.replace(n,"$1")}if(n){let s={"([\\\\'\"?])":e=>e,a:()=>"\x07",b:()=>"\b","e|E":()=>"\x1b",f:()=>"\f",n:()=>"\n",r:()=>"\r",t:()=>"	",v:()=>"\v","([0-7]{1,3})":e=>String.fromCharCode(parseInt(e,8)),"x([0-9a-fA-F]{1,2})":e=>String.fromCharCode(parseInt(e,16)),"u([0-9a-fA-F]{1,4})":e=>String.fromCharCode(parseInt(e,16)),"U([0-9a-fA-F]{1,8})":e=>String.fromCharCode(parseInt(e,16)),"c(.)":e=>"?"===e?"\x7f":"@"===e?"\0":String.fromCharCode(31&e.charCodeAt(0))},n=RegExp(t+"("+Object.keys(s).join("|")+")","g");return e.replace(n,function(e,n){for(let e in s){let t=RegExp("^"+e+"$").exec(n);if(null!==t)return s[e].apply(null,t.slice(1))}})}}*[Symbol.iterator](){let e,s=!1,n=!1,t=!1,a=-2;for(this.debug&&console.log("full input:",">"+this.string+"<");;){let r=this.i,l=this.readChar();if(this.debug&&console.log("position:",r,"input:",">"+l+"<","accumulated:",e,"inQuote:",s,"inDollarQuote:",n,"lastDollar:",a,"escaped:",t),""===l){if(s)throw Error("Got EOF while in a quoted string");if(t)throw Error("Got EOF while in an escape sequence");void 0!==e&&(yield e);return}if(t){"\n"===l||(e=s?(e||"")+t+l:(e||"")+l),t=!1;continue}if(this.escapes.includes(l)&&(!s||!1!==n||this.escapedQuotes.includes(s))){t=l;continue}if(!1!==s){if(l===s){e=this.processEscapes(e,s,"'"===n),s=!1,n=!1;continue}e=(e||"")+l;continue}if(this.quotes.includes(l)){s=l,a===r-1&&("'"!==l||this.ansiCQuotes)&&('"'!==l||this.localeQuotes)&&(n=l),e=e||"",!1!==n&&(e=e.slice(0,-1));continue}if(!1===s&&"$"===l&&(a=r),this.whitespace.includes(l)){void 0!==e&&(yield e),e=void 0;continue}e=(e||"")+l}}}s.lD=function(e){return Array.from(new n(e))},s.hD=function(e){return""===e?"''":/[^\w@%\-+=:,./]/.test(e)?("'"+e.replace(/('+)/g,"'\"$1\"'")+"'").replace(/^''|''$/g,""):e},s.fj=function(e){if(!Array.isArray(e))throw TypeError("args should be an array");return e.map(s.hD).join(" ")}},9537:(e,s,n)=>{"use strict";function t(e,s,...n){if(0==n.length)return e.enums[s];let a=n.pop();return n.reduce((e,s)=>e.nestedMessages[s],e.messages[s]).nestedEnums[a]}n.d(s,{R:()=>t})},9678:(e,s,n)=>{"use strict";n.d(s,{i:()=>r,w:()=>l});var t=n(6788),a=n(8123);let r=(0,t.w)("Ch9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvEg9nb29nbGUucHJvdG9idWYiKwoJVGltZXN0YW1wEg8KB3NlY29uZHMYASABKAMSDQoFbmFub3MYAiABKAVChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),l=(0,a.Z)(r,0)},1936:(e,s,n)=>{"use strict";n.d(s,{Ax:()=>r,g8:()=>l});var t=n(6788),a=n(8123);let r=(0,t.w)("Ch5nb29nbGUvcHJvdG9idWYvd3JhcHBlcnMucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIcCgtEb3VibGVWYWx1ZRINCgV2YWx1ZRgBIAEoASIbCgpGbG9hdFZhbHVlEg0KBXZhbHVlGAEgASgCIhsKCkludDY0VmFsdWUSDQoFdmFsdWUYASABKAMiHAoLVUludDY0VmFsdWUSDQoFdmFsdWUYASABKAQiGwoKSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoBSIcCgtVSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoDSIaCglCb29sVmFsdWUSDQoFdmFsdWUYASABKAgiHAoLU3RyaW5nVmFsdWUSDQoFdmFsdWUYASABKAkiGwoKQnl0ZXNWYWx1ZRINCgV2YWx1ZRgBIAEoDEKDAQoTY29tLmdvb2dsZS5wcm90b2J1ZkINV3JhcHBlcnNQcm90b1ABWjFnb29nbGUuZ29sYW5nLm9yZy9wcm90b2J1Zi90eXBlcy9rbm93bi93cmFwcGVyc3Bi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),l=(0,a.Z)(r,7)}},e=>{var s=s=>e(e.s=s);e.O(0,[295,995,515,920,637,354,734,306,863,441,517,358],()=>s(4784)),_N_E=e.O()}]);