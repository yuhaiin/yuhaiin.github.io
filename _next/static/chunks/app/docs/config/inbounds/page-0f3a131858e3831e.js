(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[930],{4784:(e,n,s)=>{Promise.resolve().then(s.bind(s,1404))},9169:(e,n,s)=>{"use strict";s.d(n,{A:()=>o});var t=s(5155),a=s(4216),l=s(5554),r=s.n(l);let o=function(e){return(0,t.jsxs)("div",{className:"z-1090 d-flex flex-column justify-content-center align-items-center",style:{height:"100px"},children:[void 0!==e.children&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(r(),{className:"p2",statusCode:void 0!==e.code?e.code:500,title:e.children})}),(0,t.jsx)("div",{className:"p2",children:(0,t.jsx)(a.A,{})})]})}},2859:(e,n,s)=>{"use strict";s.d(n,{$d:()=>o});var t=s(5155);s(2115);var a=s(6180),l=s(6121),r=s(3667);let o=e=>(0,t.jsxs)(a.A.Group,{as:l.A,className:"mb-2",children:[(0,t.jsx)(a.A.Label,{column:!0,sm:2,children:e.label}),(0,t.jsx)(r.A,{sm:10,className:"d-flex align-items-center",children:(0,t.jsx)(a.A.Check,{className:"d-flex align-items-center",type:"switch",checked:e.checked,onChange:()=>e.onChange()})})]})},148:(e,n,s)=>{"use strict";s.d(n,{u:()=>o,y:()=>c});var t=s(5155),a=s(2115),l=s(1757),r=s(491);let o=(0,a.createContext)({Info:e=>{},Error:e=>{}}),c=e=>{let{children:n}=e,[s,c]=(0,a.useState)({value:{},index:0}),i=(e,n)=>c(s=>({value:{...s.value,[s.index]:{text:e,type:n}},index:s.index+1}));return(0,t.jsxs)(o.Provider,{value:{Info:e=>{console.log(e),i(e,"success")},Error:e=>{console.error(e),i(e,"danger")}},children:[(0,t.jsx)(l.A,{className:"p-3",position:"top-center",containerPosition:"fixed",style:{zIndex:999999},children:Object.entries(s.value).map(e=>{let[n,a]=e;return(0,t.jsxs)(r.A,{role:"alert","aria-live":"assertive",show:!0,bg:a.type,onClose:()=>{let e=s.value;delete e[n],c({...s,value:e})},"aria-atomic":"true",delay:4e3,autohide:!0,animation:!0,children:[(0,t.jsxs)(r.A.Header,{children:[(0,t.jsx)("strong",{className:"me-auto",children:"Notification"}),(0,t.jsx)("small",{className:"text-muted",children:"just now"})]}),(0,t.jsx)(r.A.Body,{className:"text-center",children:a.text})]},"toast"+n)})}),n]})}},1404:(e,n,s)=>{"use strict";s.r(n),s.d(n,{default:()=>$});var t=s(5155),a=s(4995),l=s(8927),r=s(6863),o=s(5554),c=s.n(o),i=s(9169),u=s(0),d=s(2963),h=s(2981),v=s(57),m=s(8003),b=s(6180),x=s(2115),p=s(7641),g=s(3577),j=s(950),C=s(2859),y=s(7204),A=s(6121),w=s(3667),f=s(2273);let Z=x.memo(e=>{let n=n=>{n(e.http),e.onChange(e.http)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.a9,{label:"Username",value:e.http.username,onChange:e=>n(n=>n.username=e)}),(0,t.jsx)(y.a9,{label:"Password",value:e.http.password,onChange:e=>n(n=>n.password=e)})]})}),N=x.memo(e=>{let n=n=>{n(e.reverse_http),e.onChange(e.reverse_http)};return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(y.a9,{label:"Url",value:e.reverse_http.url,onChange:e=>n(n=>n.url=e)})})}),k=x.memo(e=>{let n=n=>{n(e.reverse_tcp),e.onChange(e.reverse_tcp)};return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(y.a9,{label:"Host",value:e.reverse_tcp.host,onChange:e=>n(n=>n.host=e)})})}),F=x.memo(e=>{let n=n=>{n(e.redir),e.onChange(e.redir)};return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(y.a9,{label:"Host",value:e.redir.host,onChange:e=>n(n=>n.host=e)})})}),W=x.memo(e=>{let n=n=>{n(e.tproxy),e.onChange(e.tproxy)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.$d,{label:"DNS Hijacking",checked:e.tproxy.dnsHijacking,onChange:()=>n(e=>e.dnsHijacking=!e.dnsHijacking)}),(0,t.jsx)(C.$d,{label:"Force Fake IP",checked:e.tproxy.forceFakeip,onChange:()=>n(e=>e.forceFakeip=!e.forceFakeip)}),(0,t.jsx)(y.a9,{label:"Host",value:e.tproxy.host,onChange:e=>n(n=>n.host=e)})]})}),G=x.memo(e=>{let n=n=>{n(e.socks5),e.onChange(e.socks5)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.a9,{label:"Username",value:e.socks5.username,onChange:e=>n(n=>n.username=e)}),(0,t.jsx)(y.a9,{label:"Password",value:e.socks5.password,onChange:e=>n(n=>n.password=e)})]})}),S=x.memo(e=>{let n=n=>{n(e.mixed),e.onChange(e.mixed)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.a9,{label:"Username",value:e.mixed.username,onChange:e=>n(n=>n.username=e)}),(0,t.jsx)(y.a9,{label:"Password",value:e.mixed.password,onChange:e=>n(n=>n.password=e)})]})}),E=x.memo(e=>{var n,s;let a=n=>{n(e.tun),e.onChange(e.tun)},[l,r]=(0,x.useState)((0,f.fj)(e.tun.postUp)),[o,c]=(0,x.useState)((0,f.fj)(e.tun.postDown));return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.$d,{checked:e.tun.skipMulticast,onChange:()=>a(e=>e.skipMulticast=!e.skipMulticast),label:"Skip Multicast"}),(0,t.jsx)(y.a9,{label:"Name",value:e.tun.name,onChange:e=>a(n=>n.name=e)}),(0,t.jsx)(y.a9,{label:"MTU",value:e.tun.mtu,onChange:e=>a(n=>n.mtu=isNaN(Number(e))?n.mtu:Number(e))}),(0,t.jsx)(y.a9,{label:"IPv4",value:e.tun.portal,onChange:e=>a(n=>n.portal=e)}),(0,t.jsx)(y.a9,{label:"IPv6",value:e.tun.portalV6,onChange:e=>a(n=>n.portalV6=e)}),(0,t.jsx)(y.a9,{label:"Post Up",value:l,onChange:e=>{r(e);try{let n=(0,f.lD)(e);a(e=>e.postUp=n)}catch(e){console.log(e)}}}),(0,t.jsx)(y.a9,{label:"Post Down",value:o,onChange:e=>{c(e);try{let n=(0,f.lD)(e);a(e=>e.postDown=n)}catch(e){console.log(e)}}}),(0,t.jsx)(function(e){return(0,t.jsxs)(b.A.Group,{as:A.A,className:"mb-3",children:[(0,t.jsx)(b.A.Label,{column:!0,sm:2,children:e.label}),(0,t.jsx)(w.A,{sm:10,children:(0,t.jsxs)(b.A.Select,{value:p.xz[void 0===e.value||null===e.value?p.xz.fdbased:e.value],onChange:n=>e.onChange(p.xz[n.target.value]),children:[(0,t.jsx)("option",{value:p.xz[p.xz.fdbased],children:"Fdbased"}),(0,t.jsx)("option",{value:p.xz[p.xz.channel],children:"Channel"}),(0,t.jsx)("option",{value:p.xz[p.xz.system_gvisor],children:"System"})]})})]})},{label:"Stack",value:e.tun.driver,onChange:e=>a(n=>n.driver=e)}),(0,t.jsx)(y.e9,{title:"Routes",data:null!==(s=null===(n=e.tun.route)||void 0===n?void 0:n.routes)&&void 0!==s?s:[],onChange:e=>a(n=>{n.route||(n.route=(0,g.v)(p.l,{})),e||(e=[]),n.route&&(n.route.routes=e)})})]})}),Y=e=>null==e||void 0===e.certificates&&void 0===e.nextProtos&&void 0===e.serverNameCertificate,R=x.memo(e=>{let n=n=>{n(e.cert),e.onChange(e.cert)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.jU,{label:"Cert",value:new TextDecoder().decode(e.cert.cert),onChange:e=>n(n=>{n.cert=new TextEncoder().encode(e)})}),(0,t.jsx)(y.jU,{label:"Key",value:new TextDecoder().decode(e.cert.key),onChange:e=>n(n=>{n.key=new TextEncoder().encode(e)})}),(0,t.jsx)(y.a9,{label:"Cert File",value:e.cert.certFilePath,onChange:e=>n(n=>{n.certFilePath=e})}),(0,t.jsx)(y.a9,{label:"Key File",value:e.cert.keyFilePath,onChange:e=>n(n=>{n.keyFilePath=e})})]})}),B=x.memo(e=>{var n,s;let[a,l]=(0,x.useState)("www.example.com"),r=n=>{n(e.tls),e.onChange(e.tls)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.e9,{title:"Next Protos",data:null!==(s=null===(n=e.tls)||void 0===n?void 0:n.nextProtos)&&void 0!==s?s:[],onChange:e=>r(n=>{e&&(n.nextProtos=e)})}),e.tls&&e.tls.certificates.map((e,n)=>(0,t.jsx)(h.A,{className:"mb-2",children:(0,t.jsxs)(h.A.Body,{children:[(0,t.jsx)(h.A.Title,{className:"d-flex justify-content-end align-items-center",children:(0,t.jsx)(d.A,{variant:"outline-danger",onClick:()=>r(e=>{(null==e?void 0:e.certificates)!==void 0&&e.certificates.splice(n,1)}),children:(0,t.jsx)("i",{className:"bi bi-x-lg"})})}),(0,t.jsx)(R,{cert:(0,g.v)(p.f6,e),onChange:e=>r(s=>{(null==s?void 0:s.certificates)!==void 0&&(s.certificates[n]=e)})})]})},"tls_certificates"+n)),(0,t.jsx)(m.A,{className:"d-flex justify-content-end mb-2",children:(0,t.jsxs)(d.A,{variant:"outline-success",onClick:()=>r(e=>{e.certificates.push((0,g.v)(p.f6,{cert:new Uint8Array(0),key:new Uint8Array(0),certFilePath:"",keyFilePath:""}))}),children:[(0,t.jsx)("i",{className:"bi bi-plus-lg"}),"New Certificate"]})}),e.tls&&e.tls.serverNameCertificate&&Object.entries(e.tls.serverNameCertificate).map(e=>{let[n,s]=e;return(0,t.jsx)(h.A,{className:"mb-2",children:(0,t.jsxs)(h.A.Body,{children:[(0,t.jsxs)(h.A.Title,{className:"d-flex justify-content-between align-items-center",children:[n,(0,t.jsx)(d.A,{variant:"outline-danger",onClick:()=>r(e=>{null==e||delete e.serverNameCertificate[n]}),children:(0,t.jsx)("i",{className:"bi bi-x-lg"})})]}),(0,t.jsx)(R,{cert:(0,g.v)(p.f6,s),onChange:e=>r(s=>{s.serverNameCertificate[n]=e})})]})},"server_name_certificate"+n)}),(0,t.jsxs)(m.A,{className:"d-flex justify-content-end",children:[(0,t.jsx)(b.A.Control,{value:a,onChange:e=>l(e.target.value)}),(0,t.jsxs)(d.A,{variant:"outline-success",onClick:()=>r(e=>{""!==a&&(e.serverNameCertificate[a]=(0,g.v)(p.f6,{}))}),children:[(0,t.jsx)("i",{className:"bi bi-plus-lg"}),"New SNI Certificate"]})]})]})}),H=x.memo(e=>{let n=n=>{Y(e.quic.tls)&&(e.quic.tls=void 0),n(e.quic),e.onChange(e.quic)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.a9,{label:"Host",onChange:e=>n(n=>n.host=e),value:e.quic.host}),e.quic.tls&&(0,t.jsx)(B,{tls:(0,g.v)(p.Qi,null!==e.quic.tls?e.quic.tls:void 0),onChange:e=>n(n=>n.tls=e)})]})}),V=x.memo(e=>{let n=n=>{Y(e.tls.tls)&&(e.tls.tls=void 0),n(e.tls),e.onChange(e.tls)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.a9,{plaintext:!0,label:"Protocol",value:"TLS"}),e.tls.tls&&(0,t.jsx)(B,{tls:(0,g.v)(p.Qi,e.tls.tls),onChange:e=>n(n=>n.tls=e)})]})}),I=x.memo(e=>{let n=n=>{n(e.reality),e.onChange(e.reality)},[s,a]=(0,x.useState)({value:""}),[l,r]=(0,x.useState)({value:""});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.a9,{plaintext:!0,label:"Protocol",value:"Reality"}),(0,t.jsx)(y.a9,{label:"Dest",value:e.reality.dest,onChange:e=>n(n=>n.dest=e)}),(0,t.jsx)(y.a9,{label:"Private Key",value:e.reality.privateKey,onChange:e=>n(n=>n.privateKey=e)}),(0,t.jsxs)(b.A.Group,{as:A.A,className:"mb-3",children:[(0,t.jsx)(b.A.Label,{column:!0,sm:2,className:"nowrap",children:"Short ID"}),e.reality.shortId.map((e,s)=>(0,t.jsx)(w.A,{sm:{span:10,offset:0!==s?2:0},children:(0,t.jsxs)(m.A,{className:"mb-2",children:[(0,t.jsx)(b.A.Control,{value:e,onChange:e=>n(n=>{n.shortId[s]=e.target.value})}),(0,t.jsx)(d.A,{variant:"outline-danger",onClick:()=>n(e=>{e.shortId.splice(s,1)}),children:(0,t.jsx)("i",{className:"bi bi-x-lg"})})]})},s)),(0,t.jsx)(w.A,{sm:{span:10,offset:0!==e.reality.shortId.length?2:0},children:(0,t.jsxs)(m.A,{className:"mb-2",children:[(0,t.jsx)(b.A.Control,{value:s.value,onChange:e=>a({value:e.target.value})}),(0,t.jsx)(d.A,{variant:"outline-success",onClick:()=>n(e=>{e.shortId.push(s.value)}),children:(0,t.jsx)("i",{className:"bi bi-plus-lg"})})]})})]}),(0,t.jsxs)(b.A.Group,{as:A.A,className:"mb-3",children:[(0,t.jsx)(b.A.Label,{column:!0,sm:2,className:"nowrap",children:"Server Name"}),e.reality.serverName.map((e,s)=>(0,t.jsx)(w.A,{sm:{span:10,offset:0!==s?2:0},children:(0,t.jsxs)(m.A,{className:"mb-2",children:[(0,t.jsx)(b.A.Control,{value:e,onChange:e=>n(n=>{n.serverName[s]=e.target.value})}),(0,t.jsx)(d.A,{variant:"outline-danger",onClick:()=>n(e=>{e.serverName.splice(s,1)}),children:(0,t.jsx)("i",{className:"bi bi-x-lg"})})]})},s)),(0,t.jsx)(w.A,{sm:{span:10,offset:0!==e.reality.serverName.length?2:0},children:(0,t.jsxs)(m.A,{className:"mb-2",children:[(0,t.jsx)(b.A.Control,{value:l.value,onChange:e=>r({value:e.target.value})}),(0,t.jsx)(d.A,{variant:"outline-success",onClick:()=>n(e=>{e.serverName.push(l.value)}),children:(0,t.jsx)("i",{className:"bi bi-plus-lg"})})]})})]})]})});function L(e,n,s){return s?function(e){e(n),s(n)}:function(e){}}let U=e=>{let n=L(p.Zq,e.inbound,e.onChange),s=(s,t)=>{e.inbound.transport.length<=1||s&&0===t||!s&&t===e.inbound.transport.length-1||n(e=>{let n=e.transport[t];e.transport[t]=e.transport[t+(s?-1:1)],e.transport[t+(s?-1:1)]=n})},[a,l]=(0,x.useState)({value:"normal"});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.$d,{label:"Enabled",checked:e.inbound.enabled,onChange:()=>{n(e=>e.enabled=!e.enabled)}}),(0,t.jsx)(y.a9,{label:"Name",value:e.inbound.name,onChange:e=>{n(n=>n.name=e)}}),(0,t.jsx)(y.mc,{title:"Network",hideClose:!0,children:(0,t.jsx)(z,{inbound:e.inbound,onChange:e=>{n(n=>e)}})}),(0,t.jsx)(y.mc,{title:"Transport",hideClose:!0,children:(0,t.jsxs)(t.Fragment,{children:[e.inbound.transport.map((a,l)=>{var r,o;return(0,t.jsx)(y.mc,{title:null!==(o=null===(r=a.transport.case)||void 0===r?void 0:r.toString())&&void 0!==o?o:"",onClose:()=>{n(e=>e.transport.splice(l,1))},moveUpDown:new y.fH(e.inbound.transport.length,l,e=>s(e,l)),children:(0,t.jsx)(X,{transport:a,onChange:e=>{n(n=>n.transport[l]=e)}},l)},l)}),(0,t.jsx)(v.A,{variant:"flush",children:(0,t.jsx)(v.A.Item,{children:(0,t.jsxs)(m.A,{children:[(0,t.jsx)(b.A.Select,{value:a.value,onChange:e=>l({value:e.target.value}),children:["normal","tls","mux","http2","websocket","grpc","reality"].map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsxs)(d.A,{variant:"outline-success",onClick:()=>n(e=>{switch(a.value){case"normal":e.transport.push((0,g.v)(p.ls,{transport:{case:"normal",value:(0,g.v)(p.Rc,{})}}));break;case"tls":e.transport.push((0,g.v)(p.ls,{transport:{case:"tls",value:(0,g.v)(p.fx,{tls:(0,g.v)(p.Qi,{})})}}));break;case"mux":e.transport.push((0,g.v)(p.ls,{transport:{case:"mux",value:(0,g.v)(p.gE,{})}}));break;case"http2":e.transport.push((0,g.v)(p.ls,{transport:{case:"http2",value:(0,g.v)(p.ql,{})}}));break;case"websocket":e.transport.push((0,g.v)(p.ls,{transport:{case:"websocket",value:(0,g.v)(p.BP,{})}}));break;case"grpc":e.transport.push((0,g.v)(p.ls,{transport:{case:"grpc",value:(0,g.v)(p.E_,{})}}));break;case"reality":e.transport.push((0,g.v)(p.ls,{transport:{case:"reality",value:(0,g.v)(p.K0,{})}}))}}),children:[(0,t.jsx)("i",{className:"bi bi-plus-lg"}),"Add"]})]})})})]})}),(0,t.jsx)(y.mc,{title:"Protocol",hideClose:!0,children:(0,t.jsx)(P,{inbound:e.inbound,onChange:e=>{n(n=>e)}})})]})},z=e=>{var n,s;let a=L(p.Zq,e.inbound,e.onChange),[l,r]=(0,x.useState)({value:null!==(s=null===(n=e.inbound.network.case)||void 0===n?void 0:n.toString())&&void 0!==s?s:"tcpudp"});return(0,x.useEffect)(()=>{r({value:e.inbound.network.case?e.inbound.network.case.toString():"tcpudp"})},[e.inbound]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.A,{variant:"flush",children:(0,t.jsx)(v.A.Item,{children:(0,t.jsxs)(m.A,{children:[(0,t.jsx)(b.A.Select,{value:l.value,onChange:e=>r({value:e.target.value}),children:["empty","tcpudp","quic"].map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsx)(d.A,{variant:"outline-success",onClick:()=>a(e=>{switch(l.value){case"tcpudp":e.network={case:"tcpudp",value:(0,g.v)(p.as,{})};break;case"quic":e.network={case:"quic",value:(0,g.v)(p.sn,{})};break;case"empty":e.network={case:"empty",value:(0,g.v)(p.bN,{})}}}),children:"Use"})]})})}),(0,t.jsx)("br",{}),(0,t.jsx)(J,{inbound:e.inbound,onChange:e.onChange})]})},J=e=>{let n=L(p.Zq,e.inbound,e.onChange);switch(e.inbound.network.case){case"tcpudp":return(0,t.jsx)(Q,{protocol:e.inbound.network.value,onChange:e=>{n(n=>n.network.value=e)}});case"quic":return(0,t.jsx)(H,{quic:e.inbound.network.value,onChange:e=>{n(n=>n.network.value=e)}});case"empty":return(0,t.jsx)(t.Fragment,{})}},X=e=>{let n=L(p.ls,e.transport,e.onChange);switch(e.transport.transport.case){case"normal":return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"text-center",style:{opacity:"0.4"},children:"Normal"})});case"tls":return(0,t.jsx)(V,{tls:e.transport.transport.value,onChange:e=>{n(n=>n.transport.value=e)}});case"mux":return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"text-center",style:{opacity:"0.4"},children:"Mux"})});case"http2":return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"text-center",style:{opacity:"0.4"},children:"HTTP2"})});case"websocket":return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"text-center",style:{opacity:"0.4"},children:"Websocket"})});case"grpc":return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"text-center",style:{opacity:"0.4"},children:"Grpc"})});case"reality":return(0,t.jsx)(I,{reality:e.transport.transport.value,onChange:e=>{n(n=>n.transport.value=e)}})}},D=e=>{let n=L(p.Zq,e.inbound,e.onChange);switch(e.inbound.protocol.case){case"http":return(0,t.jsx)(Z,{http:e.inbound.protocol.value,onChange:e=>{n(n=>n.protocol.value=e)}});case"reverseHttp":return(0,t.jsx)(N,{reverse_http:e.inbound.protocol.value,onChange:e=>{n(n=>n.protocol.value=e)}});case"reverseTcp":return(0,t.jsx)(k,{reverse_tcp:e.inbound.protocol.value,onChange:e=>{n(n=>n.protocol.value=e)}});case"socks5":return(0,t.jsx)(G,{socks5:e.inbound.protocol.value,onChange:e=>{n(n=>n.protocol.value=e)}});case"socks4a":return(0,t.jsx)(t.Fragment,{});case"mix":return(0,t.jsx)(S,{mixed:e.inbound.protocol.value,onChange:e=>{n(n=>n.protocol.value=e)}});case"redir":return(0,t.jsx)(F,{redir:e.inbound.protocol.value,onChange:e=>{n(n=>n.protocol.value=e)}});case"tun":return(0,t.jsx)(E,{tun:e.inbound.protocol.value,onChange:e=>{n(n=>n.protocol.value=e)}});case"yuubinsya":return(0,t.jsx)(K,{yuubinsya:e.inbound.protocol.value,onChange:e=>{n(n=>n.protocol.value=e)}});case"tproxy":return(0,t.jsx)(W,{tproxy:e.inbound.protocol.value,onChange:e=>{n(n=>n.protocol.value=e)}})}},P=e=>{let n=L(p.Zq,e.inbound,e.onChange),[s,a]=(0,x.useState)({value:e.inbound.protocol.case?e.inbound.protocol.case.toString():"yuubinsya"});return(0,x.useEffect)(()=>{a({value:e.inbound.protocol.case?e.inbound.protocol.case.toString():"yuubinsya"})},[e.inbound]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.A,{variant:"flush",children:(0,t.jsx)(v.A.Item,{children:(0,t.jsxs)(m.A,{children:[(0,t.jsx)(b.A.Select,{value:s.value,onChange:e=>a({value:e.target.value}),children:["http","reverseHttp","reverseTcp","socks5","mix","redir","tun","yuubinsya","tproxy"].map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsx)(d.A,{variant:"outline-success",onClick:()=>n(e=>{switch(s.value){case"http":e.protocol={case:"http",value:(0,g.v)(p.UM,{})};break;case"reverseHttp":e.protocol={case:"reverseHttp",value:(0,g.v)(p.l0,{})};break;case"reverseTcp":e.protocol={case:"reverseTcp",value:(0,g.v)(p.A0,{})};break;case"socks5":e.protocol={case:"socks5",value:(0,g.v)(p.AK,{})};break;case"mix":e.protocol={case:"mix",value:(0,g.v)(p.JX,{})};break;case"redir":e.protocol={case:"redir",value:(0,g.v)(p.Q9,{})};break;case"tun":e.protocol={case:"tun",value:(0,g.v)(p.vC,{})};break;case"yuubinsya":e.protocol={case:"yuubinsya",value:(0,g.v)(p.lA,{})};break;case"tproxy":e.protocol={case:"tproxy",value:(0,g.v)(p.SL,{})}}}),children:"Use"})]})})}),(0,t.jsx)("br",{}),(0,t.jsx)(D,{inbound:e.inbound,onChange:e=>{n(n=>e)}})]})},K=e=>{let n=L(p.lA,e.yuubinsya,e.onChange);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.$d,{label:"TCP Encrypt",checked:e.yuubinsya.tcpEncrypt,onChange:()=>{n(e=>e.tcpEncrypt=!e.tcpEncrypt)}}),(0,t.jsx)(C.$d,{label:"UDP Encrypt",checked:e.yuubinsya.udpEncrypt,onChange:()=>{n(e=>e.udpEncrypt=!e.udpEncrypt)}}),(0,t.jsx)(y.a9,{label:"Password",value:e.yuubinsya.password,onChange:e=>{n(n=>n.password=e)}})]})},Q=e=>{let n=L(p.as,e.protocol,e.onChange);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.a9,{label:"Host",value:e.protocol.host,onChange:e=>{n(n=>n.host=e)}}),(0,t.jsx)(M,{label:"Control",type:p.JM,value:e.protocol.control,onChange:e=>{n(n=>{n.control=e})}})]})};function M(e){var n;return(0,t.jsxs)(b.A.Group,{as:A.A,className:"mb-3",children:[(0,t.jsx)(b.A.Label,{column:!0,sm:2,children:e.label}),(0,t.jsx)(w.A,{sm:10,children:(0,t.jsx)(b.A.Select,{value:e.value,onChange:n=>e.onChange(Number(n.target.value)),children:e.type.values.filter(null!==(n=e.filter)&&void 0!==n?n:()=>!0).map(e=>(0,t.jsx)("option",{value:e.number,children:e.name},e.number))})})]})}var q=s(1936),T=s(148);let _=e=>{let n=(0,x.useContext)(T.u),{data:s,error:o,isLoading:c,isValidating:h,mutate:v}=(0,a.Ay)(""===e.name?void 0:"/inbound",(0,l.L1)(r.mz.method.get,"POST",(0,g.v)(q.g8,{value:e.name}),e.isNew?(0,g.v)(p.Zq,{name:e.name,enabled:!1}):void 0),{shouldRetryOnError:!1,keepPreviousData:!1,revalidateOnFocus:!1});return(0,x.useEffect)(()=>{v()},[e.name,e.isNew]),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(u.A,{show:e.show,scrollable:!0,"aria-labelledby":"contained-modal-title-vcenter",size:"xl",onHide:()=>{e.onHide()},centered:!0,children:[(0,t.jsx)(u.A.Header,{children:(0,t.jsx)(u.A.Title,{id:"contained-modal-title-vcenter",children:e.name})}),(0,t.jsx)(u.A.Body,{children:o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("h4",{className:"text-center my-2",children:[o.code," - ",o.msg]}),(0,t.jsx)("pre",{className:"text-center my-2 text-danger lead",children:o.raw})]}):h||c||!s?(0,t.jsx)(i.A,{}):(0,t.jsx)(U,{inbound:s,onChange:e=>{v((0,j.o)(p.Zq,e),!1)}})}),(0,t.jsxs)(u.A.Footer,{children:[(0,t.jsx)(d.A,{variant:"outline-secondary",onClick:()=>{e.onHide()},children:"Close"}),(0,t.jsx)(d.A,{variant:"outline-primary",onClick:()=>{(0,l.kP)(r.mz.method.save,"/inbound","PATCH",s).then(async s=>{let{error:t}=s;if(void 0===t)n.Info("save successful"),e.onHide(!0);else{let e=await t.msg;n.Error(e),console.error(t.code,e)}})},children:"Save"})]})]})})},$=function(){let e=(0,x.useContext)(T.u),{data:n,error:s,isLoading:o,mutate:u}=(0,a.Ay)("/inbounds",(0,l.L1)(r.mz.method.list)),[p,j]=(0,x.useState)({show:!1,name:"",new:!1}),[C,y]=(0,x.useState)({value:""});if(void 0!==s)return(0,t.jsx)(c(),{statusCode:s.code,title:s.msg});if(o||void 0===n)return(0,t.jsx)(i.A,{});let A=n=>{(0,l.kP)(r.mz.method.remove,"/inbound","DELETE",(0,g.v)(q.g8,{value:n})).then(async n=>{let{error:s}=n;if(void 0===s)e.Info("remove successful"),u();else{let n=await s.msg;e.Error(n),console.error(s.code,n)}})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_,{show:p.show,name:p.name,onHide:e=>{e&&u(),j({...p,show:!1})},isNew:p.new}),(0,t.jsxs)(h.A,{children:[0===n.names.length&&(0,t.jsxs)(h.A.Body,{children:[(0,t.jsx)("div",{className:"text-center my-2",style:{opacity:"0.4"},children:"No Inbounds"}),"  "]}),0!==n.names.length&&(0,t.jsx)(v.A,{variant:"flush",children:n.names.sort((e,n)=>e<=n?-1:1).map((e,n)=>(0,t.jsx)(x.Fragment,{children:(0,t.jsxs)(v.A.Item,{action:!0,className:"d-flex justify-content-between align-items-center",style:{border:"0ch",borderBottom:"1px solid #dee2e6"},onClick:n=>{n.stopPropagation(),j({show:!0,name:e,new:!1})},children:[e,(0,t.jsx)(d.A,{variant:"outline-danger",size:"sm",as:"span",onClick:n=>{n.stopPropagation(),A(e)},children:(0,t.jsx)("i",{className:"bi bi-x-lg"})},n+"span-button")]})},"inbounds-"+n))}),(0,t.jsx)(h.A.Footer,{children:(0,t.jsxs)(m.A,{className:"d-flex justify-content-end",children:[(0,t.jsx)(b.A.Control,{value:C.value,onChange:e=>y({value:e.target.value})}),(0,t.jsxs)(d.A,{variant:"outline-success",onClick:()=>{!C.value||n.names.includes(C.value)||(p.name===C.value&&p.new?j(e=>({...e,show:!0})):j({show:!0,name:C.value,new:!0}))},children:[(0,t.jsx)("i",{className:"bi bi-plus-lg"}),"New "]})]})})]})]})}},6863:(e,n,s)=>{"use strict";s.d(n,{C$:()=>v,LH:()=>m,mz:()=>b});var t=s(6788),a=s(8123),l=s(4395),r=s(878),o=s(4805),c=s(7641),i=s(9297),u=s(1936),d=s(9678);let h=(0,t.w)("Chhjb25maWcvZ3JwYy9jb25maWcucHJvdG8SHXl1aGFpaW4ucHJvdG9zLmNvbmZpZy5zZXJ2aWNlImoKDXRlc3RfcmVzcG9uc2USKQoEbW9kZRgBIAEoCzIbLnl1aGFpaW4uYnlwYXNzLm1vZGVfY29uZmlnEg4KBnJlYXNvbhgCIAEoCRIeCgphZnRlcl9hZGRyGAMgASgJUgphZnRlcl9hZGRyIowBCg1ibG9ja19oaXN0b3J5EhAKCHByb3RvY29sGAEgASgJEgwKBGhvc3QYAiABKAkSKAoEdGltZRgDIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASDwoHcHJvY2VzcxgEIAEoCRIgCgtibG9ja19jb3VudBgFIAEoBFILYmxvY2tfY291bnQihwEKEmJsb2NrX2hpc3RvcnlfbGlzdBI9CgdvYmplY3RzGAEgAygLMiwueXVoYWlpbi5wcm90b3MuY29uZmlnLnNlcnZpY2UuYmxvY2tfaGlzdG9yeRIyChRkdW1wX3Byb2Nlc3NfZW5hYmxlZBgCIAEoCFIUZHVtcF9wcm9jZXNzX2VuYWJsZWQiIgoRaW5ib3VuZHNfcmVzcG9uc2USDQoFbmFtZXMYASADKAkyuAEKDmNvbmZpZ19zZXJ2aWNlEjcKBGxvYWQSFi5nb29nbGUucHJvdG9idWYuRW1wdHkaFy55dWhhaWluLmNvbmZpZy5zZXR0aW5nEjcKBHNhdmUSFy55dWhhaWluLmNvbmZpZy5zZXR0aW5nGhYuZ29vZ2xlLnByb3RvYnVmLkVtcHR5EjQKBGluZm8SFi5nb29nbGUucHJvdG9idWYuRW1wdHkaFC55dWhhaWluLmNvbmZpZy5pbmZvMuICCgZieXBhc3MSNgoEbG9hZBIWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRoWLnl1aGFpaW4uYnlwYXNzLmNvbmZpZxI2CgRzYXZlEhYueXVoYWlpbi5ieXBhc3MuY29uZmlnGhYuZ29vZ2xlLnByb3RvYnVmLkVtcHR5EjgKBnJlbG9hZBIWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRoWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRJSCgR0ZXN0EhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlGiwueXVoYWlpbi5wcm90b3MuY29uZmlnLnNlcnZpY2UudGVzdF9yZXNwb25zZRJaCg1ibG9ja19oaXN0b3J5EhYuZ29vZ2xlLnByb3RvYnVmLkVtcHR5GjEueXVoYWlpbi5wcm90b3MuY29uZmlnLnNlcnZpY2UuYmxvY2tfaGlzdG9yeV9saXN0MpkCCgdpbmJvdW5kElAKBGxpc3QSFi5nb29nbGUucHJvdG9idWYuRW1wdHkaMC55dWhhaWluLnByb3Rvcy5jb25maWcuc2VydmljZS5pbmJvdW5kc19yZXNwb25zZRI+CgNnZXQSHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUaGS55dWhhaWluLmxpc3RlbmVyLmluYm91bmQSPAoEc2F2ZRIZLnl1aGFpaW4ubGlzdGVuZXIuaW5ib3VuZBoZLnl1aGFpaW4ubGlzdGVuZXIuaW5ib3VuZBI+CgZyZW1vdmUSHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUaFi5nb29nbGUucHJvdG9idWYuRW1wdHlCOFo2Z2l0aHViLmNvbS9Bc3V0b3J1ZmEveXVoYWlpbi9wa2cvcHJvdG9zL2NvbmZpZy9zZXJ2aWNlYgZwcm90bzM",[r.Pr,o.qc,c._6,i.t,u.Ax,d.i]),v=(0,a.Z)(h,0),m=(0,a.Z)(h,2),b=(0,l.Z)(h,2)},2273:(e,n)=>{"use strict";class s{constructor(e){this.i=0,this.string=e,this.whitespace=" 	\r\n",this.quotes="'\"",this.escapes="\\",this.escapedQuotes='"',this.ansiCQuotes=!0,this.localeQuotes=!0,this.debug=!1}readChar(){return this.string.charAt(this.i++)}processEscapes(e,n,s){if(!s&&!this.escapedQuotes.includes(n))return e;let t="["+this.escapes.replace(/(.)/g,"\\$1")+"]";if(!s&&this.escapedQuotes.includes(n)){let s=RegExp(t+"("+t+"|\\"+n+")","g");return e.replace(s,"$1")}if(s){let n={"([\\\\'\"?])":e=>e,a:()=>"\x07",b:()=>"\b","e|E":()=>"\x1b",f:()=>"\f",n:()=>"\n",r:()=>"\r",t:()=>"	",v:()=>"\v","([0-7]{1,3})":e=>String.fromCharCode(parseInt(e,8)),"x([0-9a-fA-F]{1,2})":e=>String.fromCharCode(parseInt(e,16)),"u([0-9a-fA-F]{1,4})":e=>String.fromCharCode(parseInt(e,16)),"U([0-9a-fA-F]{1,8})":e=>String.fromCharCode(parseInt(e,16)),"c(.)":e=>"?"===e?"\x7f":"@"===e?"\0":String.fromCharCode(31&e.charCodeAt(0))},s=RegExp(t+"("+Object.keys(n).join("|")+")","g");return e.replace(s,function(e,s){for(let e in n){let t=RegExp("^"+e+"$").exec(s);if(null!==t)return n[e].apply(null,t.slice(1))}})}}*[Symbol.iterator](){let e,n=!1,s=!1,t=!1,a=-2;for(this.debug&&console.log("full input:",">"+this.string+"<");;){let l=this.i,r=this.readChar();if(this.debug&&console.log("position:",l,"input:",">"+r+"<","accumulated:",e,"inQuote:",n,"inDollarQuote:",s,"lastDollar:",a,"escaped:",t),""===r){if(n)throw Error("Got EOF while in a quoted string");if(t)throw Error("Got EOF while in an escape sequence");void 0!==e&&(yield e);return}if(t){"\n"===r||(e=n?(e||"")+t+r:(e||"")+r),t=!1;continue}if(this.escapes.includes(r)&&(!n||!1!==s||this.escapedQuotes.includes(n))){t=r;continue}if(!1!==n){if(r===n){e=this.processEscapes(e,n,"'"===s),n=!1,s=!1;continue}e=(e||"")+r;continue}if(this.quotes.includes(r)){n=r,a===l-1&&("'"!==r||this.ansiCQuotes)&&('"'!==r||this.localeQuotes)&&(s=r),e=e||"",!1!==s&&(e=e.slice(0,-1));continue}if(!1===n&&"$"===r&&(a=l),this.whitespace.includes(r)){void 0!==e&&(yield e),e=void 0;continue}e=(e||"")+r}}}n.lD=function(e){return Array.from(new s(e))},n.hD=function(e){return""===e?"''":/[^\w@%\-+=:,./]/.test(e)?("'"+e.replace(/('+)/g,"'\"$1\"'")+"'").replace(/^''|''$/g,""):e},n.fj=function(e){if(!Array.isArray(e))throw TypeError("args should be an array");return e.map(n.hD).join(" ")}},9537:(e,n,s)=>{"use strict";function t(e,n,...s){if(0==s.length)return e.enums[n];let a=s.pop();return s.reduce((e,n)=>e.nestedMessages[n],e.messages[n]).nestedEnums[a]}s.d(n,{R:()=>t})},4395:(e,n,s)=>{"use strict";function t(e,n,...s){if(s.length>0)throw Error();return e.services[n]}s.d(n,{Z:()=>t})},9297:(e,n,s)=>{"use strict";s.d(n,{t:()=>l,v:()=>r});var t=s(6788),a=s(8123);let l=(0,t.w)("Chtnb29nbGUvcHJvdG9idWYvZW1wdHkucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIHCgVFbXB0eUJ9ChNjb20uZ29vZ2xlLnByb3RvYnVmQgpFbXB0eVByb3RvUAFaLmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2VtcHR5cGL4AQGiAgNHUEKqAh5Hb29nbGUuUHJvdG9idWYuV2VsbEtub3duVHlwZXNiBnByb3RvMw"),r=(0,a.Z)(l,0)},9678:(e,n,s)=>{"use strict";s.d(n,{i:()=>l,w:()=>r});var t=s(6788),a=s(8123);let l=(0,t.w)("Ch9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvEg9nb29nbGUucHJvdG9idWYiKwoJVGltZXN0YW1wEg8KB3NlY29uZHMYASABKAMSDQoFbmFub3MYAiABKAVChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),r=(0,a.Z)(l,0)},1936:(e,n,s)=>{"use strict";s.d(n,{Ax:()=>l,g8:()=>r});var t=s(6788),a=s(8123);let l=(0,t.w)("Ch5nb29nbGUvcHJvdG9idWYvd3JhcHBlcnMucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIcCgtEb3VibGVWYWx1ZRINCgV2YWx1ZRgBIAEoASIbCgpGbG9hdFZhbHVlEg0KBXZhbHVlGAEgASgCIhsKCkludDY0VmFsdWUSDQoFdmFsdWUYASABKAMiHAoLVUludDY0VmFsdWUSDQoFdmFsdWUYASABKAQiGwoKSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoBSIcCgtVSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoDSIaCglCb29sVmFsdWUSDQoFdmFsdWUYASABKAgiHAoLU3RyaW5nVmFsdWUSDQoFdmFsdWUYASABKAkiGwoKQnl0ZXNWYWx1ZRINCgV2YWx1ZRgBIAEoDEKDAQoTY29tLmdvb2dsZS5wcm90b2J1ZkINV3JhcHBlcnNQcm90b1ABWjFnb29nbGUuZ29sYW5nLm9yZy9wcm90b2J1Zi90eXBlcy9rbm93bi93cmFwcGVyc3Bi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),r=(0,a.Z)(l,7)}},e=>{var n=n=>e(e.s=n);e.O(0,[488,995,515,920,637,354,734,306,878,441,517,358],()=>n(4784)),_N_E=e.O()}]);