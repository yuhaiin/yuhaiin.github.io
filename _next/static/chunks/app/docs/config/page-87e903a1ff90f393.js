(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8779],{2347:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>A});var n=l(95155),s=l(47319),r=l(12115),t=l(41531),o=l(22452),i=l(98649),c=l(62340),u=l(88030),d=l(45811),m=l(36947),v=l(80312),b=l(29769),h=l(50379),x=l(46057),g=l(30281),f=l(94226),p=l(41528),C=l(17077),j=l(66453),y=l(91602);let A=function(){var e,a,l,A,S,k,N,I,R,z,E,Z,G,W,F,L;let B=(0,r.useContext)(f.u),{data:w,error:V,isLoading:M,mutate:Y}=(0,x.mp)(C.hF.method.load,{revalidateOnFocus:!1,use:[]}),D=(0,b.R)(),H=(0,r.useCallback)(()=>{Y(e=>({...e,ipv6:!e.ipv6}),!1)},[Y]),P=(0,r.useCallback)(e=>{var a,l;if(!e)return[];(null==e?void 0:e.systemProxy)||Y(e=>({...e,systemProxy:(0,s.v)(p.Oe,{http:!1,socks5:!1})}),!1);let n=[];return(null==(a=e.systemProxy)?void 0:a.http)&&n.push(1),(null==(l=e.systemProxy)?void 0:l.socks5)&&n.push(2),n},[Y]),X=(0,r.useMemo)(()=>P(w),[w,P]),T=(0,r.useCallback)(e=>{let a=!1,l=!1;for(let n of e)1===n&&(a=!0),2===n&&(l=!0);Y(e=>({...e,systemProxy:(0,s.v)(p.Oe,{http:a,socks5:l})}),!1)},[Y]),K=(0,r.useCallback)(()=>{Y(e=>({...e,useDefaultInterface:!e.useDefaultInterface}),!1)},[Y]),O=(0,r.useMemo)(()=>D.map(e=>{var a;if(e.name)return{label:e.name,value:e.name,label_children:null==(a=e.addresses)?void 0:a.map(e=>e||"")}}).filter(e=>!!e),[D]),U=(0,r.useCallback)(e=>{Y(a=>({...a,netInterface:e}),!1)},[Y]),J=(0,r.useCallback)(e=>{Y(a=>({...a,logcat:e(a.logcat)}),!1)},[Y]),_=(0,r.useCallback)(e=>{J(a=>({...a,save:e}))},[J]),$=(0,r.useCallback)(e=>{J(a=>({...a,level:e}))},[J]),q=(0,r.useCallback)(e=>e.number!==j.cP.verbose&&e.number!==j.cP.fatal,[]),Q=(0,r.useCallback)(e=>{J(a=>({...a,ignoreTimeoutError:e}))},[J]),ee=(0,r.useCallback)(e=>{J(a=>({...a,ignoreDnsError:e}))},[J]);(0,r.useEffect)(()=>{w&&(w.advancedConfig||Y(e=>({...e,advancedConfig:(0,s.v)(p.vx,{relayBufferSize:4096,udpRingbufferSize:250,udpBufferSize:2048})}),!1))},[w,Y]);let ea=(0,r.useCallback)(e=>{Y(a=>({...a,advancedConfig:{...a.advancedConfig,relayBufferSize:Number(e.target.value)}}),!1)},[Y]),el=(0,r.useCallback)(e=>{Y(a=>({...a,advancedConfig:{...a.advancedConfig,udpRingbufferSize:Number(e.target.value)}}),!1)},[Y]),en=(0,r.useCallback)(e=>{Y(a=>({...a,advancedConfig:{...a.advancedConfig,udpBufferSize:Number(e.target.value)}}),!1)},[Y]),es=(0,r.useCallback)(e=>{Y(a=>({...a,advancedConfig:{...a.advancedConfig,happyeyeballsSemaphore:Number(e.target.value)}}),!1)},[Y]),[er,et]=(0,r.useState)(!1),eo=(0,r.useCallback)(()=>{et(!0),(0,x.kP)(C.hF.method.save,w).then(async e=>{let{error:a}=e;void 0!==a?B.Error("save config failed, ".concat(a.code,"| ").concat(a.msg)):(B.Info("Save Config Successfully"),Y())}).finally(()=>et(!1))},[w,Y,B]);return void 0!==V?(0,n.jsx)(h.$,{statusCode:V.code,title:V.msg}):M||void 0===w?(0,n.jsx)(h.A,{}):(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(t.A,{className:"mb-3",children:[(0,n.jsxs)(t.A.Body,{children:[(0,n.jsx)(g.$d,{label:"IPv6",checked:w.ipv6,onChange:H}),(0,n.jsx)(g.$d,{label:"Use Default Interface",checked:w.useDefaultInterface,onChange:K}),w.useDefaultInterface?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)(y.a9,{label:"Network Interface",value:w.netInterface,onChange:U,reminds:O}),(0,n.jsxs)(o.A.Group,{as:i.A,className:"mb-2",children:[(0,n.jsx)(o.A.Label,{column:!0,sm:2,className:"nowrap",children:"System Proxy"}),(0,n.jsx)(c.A,{sm:10,children:(0,n.jsxs)(u.A,{type:"checkbox",className:"d-flex",defaultValue:X,value:X,onChange:T,children:[(0,n.jsx)(d.A,{variant:"outline-primary",className:"w-100",id:"system-proxy-tbg-btn-1",value:1,children:"HTTP"}),(0,n.jsx)(d.A,{variant:"outline-primary",className:"w-100",id:"system-proxy-tbg-btn-2",value:2,children:"SOCKS5"})]})})]}),(0,n.jsx)("hr",{}),(0,n.jsx)(t.A.Title,{className:"mb-2",children:"Logcat"}),(0,n.jsx)(g.$d,{label:"Save",checked:w.logcat.save,onChange:_}),(0,n.jsx)(g.Vx,{label:"Level",type:j.LM,value:w.logcat.level,filter:q,onChange:$}),(0,n.jsx)(g.$d,{label:"Ignore Timeout Error",checked:w.logcat.ignoreTimeoutError,onChange:Q}),(0,n.jsx)(g.$d,{label:"Ignore DNS Error",checked:w.logcat.ignoreDnsError,onChange:ee}),(0,n.jsx)("hr",{}),(0,n.jsx)(t.A.Title,{className:"mb-2",children:"Advanced"}),(0,n.jsxs)(o.A.Label,{children:["UDP Buffer Size (",null!=(E=null==(e=w.advancedConfig)?void 0:e.udpBufferSize)?E:2048," Bytes)"]}),(0,n.jsx)(o.A.Range,{value:null!=(Z=null==(a=w.advancedConfig)?void 0:a.udpBufferSize)?Z:2048,min:2048,max:65536,step:1024,onChange:en}),(0,n.jsxs)(o.A.Label,{children:["UDP Ring Buffer Size (",null!=(G=null==(l=w.advancedConfig)?void 0:l.udpRingbufferSize)?G:250,")"]}),(0,n.jsx)(o.A.Range,{value:null!=(W=null==(A=w.advancedConfig)?void 0:A.udpRingbufferSize)?W:250,min:100,max:2e3,step:10,onChange:el}),(0,n.jsxs)(o.A.Label,{children:["Relay Buffer Size (",null!=(F=null==(S=w.advancedConfig)?void 0:S.relayBufferSize)?F:4096," Bytes)"]}),(0,n.jsx)(o.A.Range,{value:null!=(L=null==(k=w.advancedConfig)?void 0:k.relayBufferSize)?L:4096,min:2048,max:65536,step:1024,onChange:ea}),(0,n.jsxs)(o.A.Label,{children:["Happy Eyeballs Semaphore (",(null==(N=w.advancedConfig)?void 0:N.happyeyeballsSemaphore)?null==(I=w.advancedConfig)?void 0:I.happyeyeballsSemaphore:0,")"]}),(0,n.jsx)(o.A.Range,{value:(null==(R=w.advancedConfig)?void 0:R.happyeyeballsSemaphore)?null==(z=w.advancedConfig)?void 0:z.happyeyeballsSemaphore:0,min:0,step:10,max:1e4,onChange:es})]}),(0,n.jsx)(t.A.Footer,{className:"d-flex justify-content-md-end",children:(0,n.jsxs)(m.A,{variant:"outline-primary",onClick:eo,disabled:er,children:[(0,n.jsx)("i",{className:"bi bi-floppy"})," Save",er&&(0,n.jsxs)(n.Fragment,{children:["\xa0",(0,n.jsx)(v.A,{size:"sm",animation:"border",variant:"primary"})]})]})})]})})}},9330:(e,a,l)=>{"use strict";l.d(a,{Yl:()=>i});var n=l(21863),s=l(8824),r=l(89995),t=l(20868);let o=(0,n.w)("ChF0b29scy90b29scy5wcm90bxINeXVoYWlpbi50b29scyI6CgpJbnRlcmZhY2VzEiwKCmludGVyZmFjZXMYASADKAsyGC55dWhhaWluLnRvb2xzLkludGVyZmFjZSIsCglJbnRlcmZhY2USDAoEbmFtZRgBIAEoCRIRCglhZGRyZXNzZXMYAiADKAkiXAoITGljZW5zZXMSJwoHeXVoYWlpbhgBIAMoCzIWLnl1aGFpaW4udG9vbHMuTGljZW5zZRInCgdhbmRyb2lkGAIgAygLMhYueXVoYWlpbi50b29scy5MaWNlbnNlIlcKB0xpY2Vuc2USDAoEbmFtZRgBIAEoCRILCgN1cmwYAiABKAkSDwoHbGljZW5zZRgDIAEoCRIgCgtsaWNlbnNlX3VybBgEIAEoCVILbGljZW5zZV91cmwiEgoDTG9nEgsKA2xvZxgBIAEoCSIUCgVMb2d2MhILCgNsb2cYASADKAky9gEKBXRvb2xzEkIKDWdldF9pbnRlcmZhY2USFi5nb29nbGUucHJvdG9idWYuRW1wdHkaGS55dWhhaWluLnRvb2xzLkludGVyZmFjZXMSOwoIbGljZW5zZXMSFi5nb29nbGUucHJvdG9idWYuRW1wdHkaFy55dWhhaWluLnRvb2xzLkxpY2Vuc2VzEjMKA2xvZxIWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRoSLnl1aGFpaW4udG9vbHMuTG9nMAESNwoFbG9ndjISFi5nb29nbGUucHJvdG9idWYuRW1wdHkaFC55dWhhaWluLnRvb2xzLkxvZ3YyMAFCN1otZ2l0aHViLmNvbS9Bc3V0b3J1ZmEveXVoYWlpbi9wa2cvcHJvdG9zL3Rvb2xzkgMF0j4CEANiCGVkaXRpb25zcOgH",[r.t,t.AT]),i=(0,s.Z)(o,0)},29769:(e,a,l)=>{"use strict";l.d(a,{O:()=>t,R:()=>o});var n=l(12115),s=l(9330),r=l(46057);let t=(0,n.createContext)([]);function o(){let{data:e}=(0,r.mp)(s.Yl.method.get_interface,{revalidateOnFocus:!1});return e?e.interfaces:[]}},30281:(e,a,l)=>{"use strict";l.d(a,{$d:()=>i,FX:()=>d,Vx:()=>c,no:()=>u});var n=l(95155),s=l(12115),r=l(22452),t=l(98649),o=l(62340);let i=s.memo(e=>{let{label:a,checked:l,onChange:s,className:i}=e;return(0,n.jsxs)(r.A.Group,{as:t.A,className:i,children:[(0,n.jsx)(r.A.Label,{column:!0,sm:2,children:a}),(0,n.jsx)(o.A,{sm:10,className:"d-flex align-items-center",children:(0,n.jsx)(r.A.Check,{className:"d-flex align-items-center",type:"switch",checked:l,onChange:e=>s(e.target.checked)})})]})}),c=s.memo(e=>{let{...a}=e,l=(0,s.useCallback)(e=>a.onChange(Number(e.target.value)),[a]),i=(0,s.useMemo)(()=>{var e;return a.type.values.filter(null!=(e=a.filter)?e:()=>!0)},[a.type,a.filter]);return(0,n.jsxs)(r.A.Group,{as:t.A,className:a.lastElem?"":"mb-2",children:[a.label&&(0,n.jsx)(r.A.Label,{column:!0,sm:2,children:a.label}),(0,n.jsx)(o.A,{sm:10,children:(0,n.jsxs)(r.A.Select,{value:a.value,onChange:l,children:[(0,n.jsx)(()=>a.emptyChoose?(0,n.jsx)("option",{value:"",children:"Choose..."}):(0,n.jsx)(n.Fragment,{}),{}),i.map(e=>(0,n.jsx)("option",{value:e.number,children:a.format?a.format(e.number):e.name},e.number))]})})]})}),u=s.memo(e=>{let{label:a,values:l,onChange:s,value:i,emptyChoose:c,emptyChooseName:u,lastElem:d}=e;return(0,n.jsxs)(r.A.Group,{as:t.A,className:d?"":"mb-2",children:[(0,n.jsx)(r.A.Label,{column:!0,sm:2,children:a}),(0,n.jsx)(o.A,{sm:10,children:(0,n.jsxs)(r.A.Select,{value:i,onChange:e=>s(e.target.value),children:[c&&(0,n.jsx)("option",{value:"",children:null!=u?u:"Choose..."}),l.map(e=>(0,n.jsx)("option",{value:e,children:e},e))]})})]})}),d=s.memo(e=>{let{values:a,onChange:l,value:s,emptyChoose:t,format:o,emptyChooseName:i}=e;return(0,n.jsxs)(r.A.Select,{value:s,onChange:e=>l(e.target.value),children:[t&&(0,n.jsx)("option",{value:"",children:null!=i?i:"Choose..."}),a.map(e=>{let a="string"==typeof e?e:e[0],l="string"==typeof e?e:e[1];return(0,n.jsx)("option",{value:l,children:o?o(a):a},a)})]})})},94226:(e,a,l)=>{"use strict";l.d(a,{u:()=>o,y:()=>i});var n=l(95155),s=l(12115),r=l(52141),t=l(88618);let o=(0,s.createContext)({Info:e=>{console.log(e)},Error:e=>{console.error(e)}}),i=e=>{let{children:a}=e,[l,i]=(0,s.useState)({value:{},index:0}),c=(e,a)=>i(l=>({value:{...l.value,[l.index]:{text:e,type:a}},index:l.index+1}));return(0,n.jsxs)(o.Provider,{value:{Info:e=>{console.log(e),c(e,"success")},Error:e=>{console.error(e),c(e,"danger")}},children:[(0,n.jsx)(r.A,{className:"p-3",position:"top-center",containerPosition:"fixed",style:{zIndex:999999},children:Object.entries(l.value).map(e=>{let[a,l]=e;return(0,n.jsxs)(t.A,{role:"alert","aria-live":"assertive",show:!0,bg:l.type,onClose:()=>{i(e=>{let l={...e.value};return delete l[a],{...e,value:l}})},"aria-atomic":"true",delay:4e3,autohide:!0,animation:!0,children:[(0,n.jsxs)(t.A.Header,{children:[(0,n.jsx)("strong",{className:"me-auto",children:"Notification"}),(0,n.jsx)("small",{className:"text-muted",children:"just now"})]}),(0,n.jsx)(t.A.Body,{className:"text-center",children:l.text})]},"toast"+a)})}),a]})}},96381:(e,a,l)=>{Promise.resolve().then(l.bind(l,2347))}},e=>{e.O(0,[6970,962,2141,449,5771,4539,6164,1112,7077,8441,1255,7358],()=>e(e.s=96381)),_N_E=e.O()}]);