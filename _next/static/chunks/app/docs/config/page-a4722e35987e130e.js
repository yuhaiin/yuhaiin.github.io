(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[779],{6381:(e,a,l)=>{Promise.resolve().then(l.bind(l,493))},7294:(e,a,l)=>{"use strict";l.d(a,{R:()=>h,O:()=>v});var n=l(2115),s=l(7021),t=l(6788),r=l(4395),o=l(9297);let i=(0,t.w)("ChF0b29scy90b29scy5wcm90bxINeXVoYWlpbi50b29scyI6CgpJbnRlcmZhY2VzEiwKCmludGVyZmFjZXMYASADKAsyGC55dWhhaWluLnRvb2xzLkludGVyZmFjZSIsCglJbnRlcmZhY2USDAoEbmFtZRgBIAEoCRIRCglhZGRyZXNzZXMYAiADKAkySwoFdG9vbHMSQgoNZ2V0X2ludGVyZmFjZRIWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRoZLnl1aGFpaW4udG9vbHMuSW50ZXJmYWNlc0IvWi1naXRodWIuY29tL0FzdXRvcnVmYS95dWhhaWluL3BrZy9wcm90b3MvdG9vbHNiBnByb3RvMw",[o.t]),c=(0,r.Z)(i,0);var d=l(8927);let v=(0,n.createContext)([]);function h(){let{data:e}=(0,s.Ay)("/interfaces",(0,d.AD)(c.method.get_interface),{revalidateOnFocus:!1});return e?e.interfaces:[]}},2859:(e,a,l)=>{"use strict";l.d(a,{$d:()=>o});var n=l(5155),s=l(6180),t=l(6121),r=l(3667);let o=e=>{let{label:a,checked:l,onChange:o}=e;return(0,n.jsxs)(s.A.Group,{as:t.A,className:"mb-2",children:[(0,n.jsx)(s.A.Label,{column:!0,sm:2,children:a}),(0,n.jsx)(r.A,{sm:10,className:"d-flex align-items-center",children:(0,n.jsx)(s.A.Check,{className:"d-flex align-items-center",type:"switch",checked:l,onChange:e=>o(e.target.checked)})})]})}},148:(e,a,l)=>{"use strict";l.d(a,{u:()=>o,y:()=>i});var n=l(5155),s=l(2115),t=l(1757),r=l(491);let o=(0,s.createContext)({Info:e=>{console.log(e)},Error:e=>{console.error(e)}}),i=e=>{let{children:a}=e,[l,i]=(0,s.useState)([]),c=(e,a)=>i(l=>[...l,{text:e,type:a}]);return(0,n.jsxs)(o.Provider,{value:{Info:e=>{console.log(e),c(e,"success")},Error:e=>{console.error(e),c(e,"danger")}},children:[(0,n.jsx)(t.A,{className:"p-3",position:"top-center",containerPosition:"fixed",style:{zIndex:999999},children:l.map((e,a)=>(0,n.jsxs)(r.A,{role:"alert","aria-live":"assertive",show:!0,bg:e.type,onClose:()=>{i(e=>[...e.slice(0,a),...e.slice(a+1)])},"aria-atomic":"true",delay:4e3,autohide:!0,animation:!0,children:[(0,n.jsxs)(r.A.Header,{children:[(0,n.jsx)("strong",{className:"me-auto",children:"Notification"}),(0,n.jsx)("small",{className:"text-muted",children:"just now"})]}),(0,n.jsx)(r.A.Body,{className:"text-center",children:e.text})]},"toast"+a))}),a]})}},493:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>W});var n=l(5155),s=l(3577),t=l(5554),r=l.n(t),o=l(2115),i=l(7471),c=l(2981),d=l(3360),v=l(6180),h=l(6121),u=l(3667),x=l(5166),m=l(8627),j=l(2963),g=l(7021),b=l(7294),A=l(9169),C=l(8927),p=l(2859),f=l(148),y=l(878),k=l(1463),N=l(6863),S=l(4431),R=l(7204),I=l(8003);let F=e=>{let{title:a,value:l,onChange:s}=e;return(0,n.jsx)(R.mc,{title:a,hideClose:!0,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(R.a9,{label:"Host",value:l.host,onChange:e=>s({...l,host:e})}),(0,n.jsx)(P,{label:"Type",value:l.type,onChange:e=>s({...l,type:e})}),(0,n.jsx)(R.a9,{label:"Subnet",value:l.subnet,onChange:e=>s({...l,subnet:e})}),(0,n.jsx)(R.a9,{mb:"",label:"SNI",value:l.tlsServername,onChange:e=>s({...l,tlsServername:e})})]})})};function P(e){var a;return(0,n.jsxs)(v.A.Group,{as:h.A,className:"mb-3",children:[(0,n.jsx)(v.A.Label,{column:!0,sm:2,children:e.label}),(0,n.jsx)(u.A,{sm:10,children:(0,n.jsx)(v.A.Select,{value:k.NW[null!==(a=e.value)&&void 0!==a?a:k.NW.udp],onChange:a=>e.onChange(k.NW[a.target.value]),children:k.m9.values.filter(e=>0!==e.number).map(e=>(0,n.jsx)("option",{value:k.NW[e.number],children:e.name},e.number))})})]})}let w=e=>{var a,l,t;let[r,i]=(0,o.useState)({key:"",value:""});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(R.a9,{label:"Server",value:e.value.server,onChange:a=>e.onChange({...e.value,server:a})}),(0,n.jsx)(R.mc,{title:"FakeDNS",hideClose:!0,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.$d,{label:"Enabled",checked:e.value.fakedns,onChange:()=>e.onChange({...e.value,fakedns:!e.value.fakedns})}),(0,n.jsx)(R.a9,{label:"IPv4 Range",value:e.value.fakednsIpRange,onChange:a=>e.onChange({...e.value,fakednsIpRange:a})}),(0,n.jsx)(R.a9,{label:"IPv6 Range",value:e.value.fakednsIpv6Range,onChange:a=>e.onChange({...e.value,fakednsIpv6Range:a})}),(0,n.jsx)(R.e9,{title:"Whitelist",data:e.value.fakednsWhitelist,onChange:a=>e.onChange({...e.value,fakednsWhitelist:a})})]})}),(0,n.jsx)(F,{title:"Local DNS",value:null!==(a=e.value.local)&&void 0!==a?a:(0,s.v)(k.Rx,{}),onChange:a=>e.onChange({...e.value,local:a})}),(0,n.jsx)(F,{title:"Remote DNS",value:null!==(l=e.value.remote)&&void 0!==l?l:(0,s.v)(k.Rx,{}),onChange:a=>e.onChange({...e.value,remote:a})}),(0,n.jsx)(F,{title:"Bootstrap DNS",value:null!==(t=e.value.bootstrap)&&void 0!==t?t:(0,s.v)(k.Rx,{}),onChange:a=>e.onChange({...e.value,bootstrap:a})}),(0,n.jsx)(R.mc,{title:"Hosts",hideClose:!0,children:(0,n.jsxs)(n.Fragment,{children:[Object.entries(e.value.hosts).sort((e,a)=>{let[l]=e,[n]=a;return l>n?-1:1}).map(a=>{let[l,s]=a;return(0,n.jsxs)(I.A,{className:"mb-2",children:[(0,n.jsx)(v.A.Control,{readOnly:!0,value:l}),(0,n.jsx)(I.A.Text,{children:(0,n.jsx)("i",{className:"bi bi-arrow-right"})}),(0,n.jsx)(v.A.Control,{value:s,onChange:a=>e.onChange({...e.value,hosts:{...e.value.hosts,[l]:a.target.value}})}),(0,n.jsx)(j.A,{variant:"outline-danger",onClick:()=>{let a={...e.value.hosts};delete a[l],e.onChange({...e.value,hosts:a})},children:(0,n.jsx)("i",{className:"bi bi-x-lg"})})]},"hosts"+l)}),(0,n.jsxs)(I.A,{children:[(0,n.jsx)(v.A.Control,{value:r.key,onChange:e=>i({...r,key:e.target.value})}),(0,n.jsx)(I.A.Text,{children:(0,n.jsx)("i",{className:"bi bi-arrow-right"})}),(0,n.jsx)(v.A.Control,{value:r.value,onChange:e=>i({...r,value:e.target.value})}),(0,n.jsx)(j.A,{variant:"outline-success",onClick:()=>{""!==r.key&&void 0===e.value.hosts[r.key]&&e.onChange({...e.value,hosts:{...e.value.hosts,[r.key]:r.value}})},children:(0,n.jsx)("i",{className:"bi bi-plus-lg"})})]})]})})]})},W=function(){var e,a,l,t,S,I,F;let P=(0,o.useContext)(f.u),{data:W,error:Z,isLoading:L,mutate:G}=(0,g.Ay)("/config",(0,C.AD)(N.hF.method.load),{revalidateOnFocus:!1}),E=(0,b.R)();if(void 0!==Z)return(0,n.jsx)(r(),{statusCode:Z.code,title:Z.msg});if(L||void 0===W)return(0,n.jsx)(A.A,{});let O=e=>{var a,l;let n=[];return(null===(a=e.systemProxy)||void 0===a?void 0:a.http)&&n.push(1),(null===(l=e.systemProxy)||void 0===l?void 0:l.socks5)&&n.push(2),n};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(i.A.Container,{defaultActiveKey:"home",children:(0,n.jsxs)(c.A,{className:"mb-3",children:[(0,n.jsx)(c.A.Header,{children:(0,n.jsxs)(d.A,{variant:"tabs",style:{flexWrap:"nowrap",overflow:"auto hidden"},children:[(0,n.jsx)(d.A.Item,{children:(0,n.jsx)(d.A.Link,{eventKey:"home",children:"Setting"})}),(0,n.jsx)(d.A.Item,{children:(0,n.jsx)(d.A.Link,{eventKey:"dns",children:"DNS"})})]})}),(0,n.jsx)(c.A.Body,{children:(0,n.jsxs)(i.A.Content,{children:[(0,n.jsx)(i.A.Pane,{eventKey:"home",children:(0,n.jsxs)("fieldset",{disabled:null===(e=W.platform)||void 0===e?void 0:e.androidApp,children:[(0,n.jsx)(p.$d,{label:"IPv6",checked:W.ipv6,onChange:()=>G({...W,ipv6:!W.ipv6},!1)}),(0,n.jsx)(R.a9,{label:"Network Interface",value:W.netInterface,onChange:e=>G({...W,netInterface:e},!1),reminds:E.map(e=>{var a;if(e.name)return{label:e.name,value:e.name,label_children:null===(a=e.addresses)||void 0===a?void 0:a.map(e=>e||"")}}).filter(e=>!!e)}),(0,n.jsxs)(v.A.Group,{as:h.A,className:"mb-2",children:[(0,n.jsx)(v.A.Label,{column:!0,sm:2,className:"nowrap",children:"System Proxy"}),(0,n.jsx)(u.A,{sm:10,children:(0,n.jsxs)(x.A,{type:"checkbox",className:"d-flex",defaultValue:O(W),value:O(W),onChange:e=>{let a=!1,l=!1;for(let n of e)1===n&&(a=!0),2===n&&(l=!0);G({...W,systemProxy:(0,s.v)(y.Oe,{http:a,socks5:l})},!1)},children:[(0,n.jsx)(m.A,{variant:"outline-primary",className:"w-100",id:"system-proxy-tbg-btn-1",value:1,children:"HTTP"}),(0,n.jsx)(m.A,{variant:"outline-primary",className:"w-100",id:"system-proxy-tbg-btn-2",value:2,children:"SOCKS5"})]})})]}),(0,n.jsx)("hr",{}),(0,n.jsx)(c.A.Title,{className:"mb-2",children:"Inbound"}),(0,n.jsx)(p.$d,{label:"DNS Hijack",checked:null!==(a=W.server)&&void 0!==a&&!!a.hijackDns,onChange:()=>G({...W,server:{...W.server,hijackDns:!W.server.hijackDns}},!1)}),(0,n.jsx)(p.$d,{label:"Fakedns",checked:null!==(l=W.server)&&void 0!==l&&!!l.hijackDnsFakeip,onChange:()=>G({...W,server:{...W.server,hijackDnsFakeip:!W.server.hijackDnsFakeip}},!1)}),(0,n.jsx)(p.$d,{label:"Sniff",checked:null!==(S=W.server)&&void 0!==S&&null!==(t=S.sniff)&&void 0!==t&&!!t.enabled,onChange:()=>G({...W,server:{...W.server,sniff:{...W.server.sniff,enabled:!W.server.sniff.enabled}}},!1)}),(0,n.jsx)("hr",{}),(0,n.jsx)(c.A.Title,{className:"mb-2",children:"Logcat"}),(0,n.jsx)(p.$d,{label:"Save",checked:W.logcat.save,onChange:e=>G({...W,logcat:{...W.logcat,save:e}},!1)}),(0,n.jsx)(D,{label:"Level",value:W.logcat.level,onChange:e=>G({...W,logcat:{...W.logcat,level:e}},!1)})]})}),(0,n.jsx)(i.A.Pane,{eventKey:"dns",title:"DNS",children:(0,n.jsx)("fieldset",{disabled:null===(I=W.platform)||void 0===I?void 0:I.androidApp,children:(0,n.jsx)(w,{value:(0,s.v)(k.ct,W.dns),onChange:e=>G({...W,dns:e},!1)})})})]})}),!(null===(F=W.platform)||void 0===F?void 0:F.androidApp)&&(0,n.jsx)(c.A.Footer,{className:"d-flex justify-content-md-end",children:(0,n.jsx)(j.A,{variant:"outline-primary",onClick:()=>{(0,C.kP)(N.hF.method.save,"/config","POST",W).then(async e=>{let{error:a}=e;void 0!==a?P.Error("save config failed, ".concat(a.code,"| ").concat(await a.msg)):(P.Info("Save Config Successfully"),G())})},children:"Save"})})]})})})};function D(e){return(0,n.jsxs)(v.A.Group,{as:h.A,className:"mb-3",children:[(0,n.jsx)(v.A.Label,{column:!0,sm:2,children:e.label}),(0,n.jsx)(u.A,{sm:10,children:(0,n.jsxs)(v.A.Select,{value:S.cP[e.value],onChange:a=>e.onChange(S.cP[a.target.value]),children:[(0,n.jsx)("option",{value:S.cP[S.cP.debug],children:"DEBUG"}),(0,n.jsx)("option",{value:S.cP[S.cP.info],children:"INFO"}),(0,n.jsx)("option",{value:S.cP[S.cP.warning],children:"WARN"}),(0,n.jsx)("option",{value:S.cP[S.cP.error],children:"ERROR"})]})})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[295,110,306,920,818,637,735,266,922,863,441,517,358],()=>a(6381)),_N_E=e.O()}]);