(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[347],{2280:function(e,l,n){Promise.resolve().then(n.bind(n,3677))},3677:function(e,l,n){"use strict";n.r(l),n.d(l,{default:function(){return eT}});var a,s,o,t,i,c,r,d,u=n(7437),h=n(2265),b=n(550),g=n(7185),m=n(5014),v=n(7420),A=n(358),x=n(6712),p=n(8977),Z=n(844),C=n(2808),j=n(2312),y=n(8727),G=n(6601),V=n(200),I=n(9320),W=n(8933);let X=(0,V.l)("ChRjb25maWcvZG5zL2Rucy5wcm90bxILeXVoYWlpbi5kbnMibAoDZG5zEgwKBGhvc3QYASABKAkSHwoEdHlwZRgFIAEoDjIRLnl1aGFpaW4uZG5zLnR5cGUSDgoGc3VibmV0GAQgASgJEiYKDnRsc19zZXJ2ZXJuYW1lGAIgASgJUg50bHNfc2VydmVybmFtZSK2BAoKZG5zX2NvbmZpZxIOCgZzZXJ2ZXIYBCABKAkSDwoHZmFrZWRucxgFIAEoCBIqChBmYWtlZG5zX2lwX3JhbmdlGAYgASgJUhBmYWtlZG5zX2lwX3JhbmdlEi4KEmZha2VkbnNfaXB2Nl9yYW5nZRgNIAEoCVISZmFrZWRuc19pcHY2X3JhbmdlEiwKEWZha2VkbnNfd2hpdGVsaXN0GAkgAygJUhFmYWtlZG5zX3doaXRlbGlzdBI4ChVyZXNvbHZlX3JlbW90ZV9kb21haW4YByABKAhCAhgBUhVyZXNvbHZlX3JlbW90ZV9kb21haW4SIAoGcmVtb3RlGAEgASgLMhAueXVoYWlpbi5kbnMuZG5zEh8KBWxvY2FsGAIgASgLMhAueXVoYWlpbi5kbnMuZG5zEiMKCWJvb3RzdHJhcBgDIAEoCzIQLnl1aGFpaW4uZG5zLmRucxIxCgVob3N0cxgIIAMoCzIiLnl1aGFpaW4uZG5zLmRuc19jb25maWcuSG9zdHNFbnRyeRI3CghyZXNvbHZlchgKIAMoCzIlLnl1aGFpaW4uZG5zLmRuc19jb25maWcuUmVzb2x2ZXJFbnRyeRosCgpIb3N0c0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEaQQoNUmVzb2x2ZXJFbnRyeRILCgNrZXkYASABKAkSHwoFdmFsdWUYAiABKAsyEC55dWhhaWluLmRucy5kbnM6AjgBKkoKBHR5cGUSCwoHcmVzZXJ2ZRAAEgcKA3VkcBABEgcKA3RjcBACEgcKA2RvaBADEgcKA2RvdBAEEgcKA2RvcRAFEggKBGRvaDMQBkI0WjJnaXRodWIuY29tL0FzdXRvcnVmYS95dWhhaWluL3BrZy9wcm90b3MvY29uZmlnL2Ruc2IGcHJvdG8z"),B=(0,I.L)(X,1);(a=i||(i={}))[a.reserve=0]="reserve",a[a.udp=1]="udp",a[a.tcp=2]="tcp",a[a.doh=3]="doh",a[a.dot=4]="dot",a[a.doq=5]="doq",a[a.doh3=6]="doh3";let f=(0,W.i)(X,0),N=h.memo(e=>{var l,n,a,s,o,t,i,c,r,d,b,g,m,A,x,p,Z,V,I,W,X;let[B,f]=(0,h.useState)({key:"",value:""}),N=l=>{l(e.data),e.onChange(e.data)};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(y.Vf,{label:"Server",value:e.data.server,onChange:e=>N(l=>l.server=e)}),(0,u.jsx)(y.W2,{title:"FakeDNS",hideClose:!0,children:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(G.Jg,{label:"Enabled",checked:e.data.fakedns,onChange:()=>N(e=>e.fakedns=!e.fakedns)}),(0,u.jsx)(y.Vf,{label:"IPv4 Range",value:e.data.fakednsIpRange,onChange:e=>N(l=>l.fakednsIpRange=e)}),(0,u.jsx)(y.Vf,{label:"IPv6 Range",value:e.data.fakednsIpv6Range,onChange:e=>N(l=>l.fakednsIpv6Range=e)}),(0,u.jsx)(y.yh,{title:"Whitelist",data:e.data.fakednsWhitelist,onChange:e=>N(l=>{e&&(l.fakednsWhitelist=e)})})]})}),(0,u.jsx)(y.W2,{title:"Local DNS",hideClose:!0,children:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(y.Vf,{label:"Host",value:null!==(m=null===(l=e.data.local)||void 0===l?void 0:l.host)&&void 0!==m?m:"",onChange:e=>N(l=>{void 0!==l.local&&(l.local.host=e)})}),(0,u.jsx)(Y,{label:"Type",value:null===(n=e.data.local)||void 0===n?void 0:n.type,onChange:e=>N(l=>{void 0!==l.local&&(l.local.type=e)})}),(0,u.jsx)(y.Vf,{label:"Subnet",value:null!==(A=null===(a=e.data.local)||void 0===a?void 0:a.subnet)&&void 0!==A?A:"",onChange:e=>N(l=>{void 0!==l.local&&(l.local.subnet=e)})}),(0,u.jsx)(y.Vf,{label:"SNI",value:null!==(x=null===(s=e.data.local)||void 0===s?void 0:s.tlsServername)&&void 0!==x?x:"",onChange:e=>N(l=>{void 0!==l.local&&(l.local.tlsServername=e)})})]})}),(0,u.jsx)(y.W2,{title:"Remote DNS",hideClose:!0,children:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(G.Jg,{label:"Use IP",checked:e.data.resolveRemoteDomain,onChange:()=>N(e=>e.resolveRemoteDomain=!e.resolveRemoteDomain)}),(0,u.jsx)(y.Vf,{label:"Host",value:null!==(p=null===(o=e.data.remote)||void 0===o?void 0:o.host)&&void 0!==p?p:"",onChange:e=>N(l=>{void 0!==l.remote&&(l.remote.host=e)})}),(0,u.jsx)(Y,{label:"Type",value:null===(t=e.data.remote)||void 0===t?void 0:t.type,onChange:e=>N(l=>{void 0!==l.remote&&(l.remote.type=e)})}),(0,u.jsx)(y.Vf,{label:"Subnet",value:null!==(Z=null===(i=e.data.remote)||void 0===i?void 0:i.subnet)&&void 0!==Z?Z:"",onChange:e=>N(l=>{void 0!==l.remote&&(l.remote.subnet=e)})}),(0,u.jsx)(y.Vf,{label:"SNI",value:null!==(V=null===(c=e.data.remote)||void 0===c?void 0:c.tlsServername)&&void 0!==V?V:"",onChange:e=>N(l=>{void 0!==l.remote&&(l.remote.tlsServername=e)})})]})}),(0,u.jsx)(y.W2,{title:"Remote DNS",hideClose:!0,children:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(y.Vf,{label:"Host",value:null!==(I=null===(r=e.data.bootstrap)||void 0===r?void 0:r.host)&&void 0!==I?I:"",onChange:e=>N(l=>{void 0!==l.bootstrap&&(l.bootstrap.host=e)})}),(0,u.jsx)(Y,{label:"Type",value:null===(d=e.data.bootstrap)||void 0===d?void 0:d.type,onChange:e=>N(l=>{void 0!==l.bootstrap&&(l.bootstrap.type=e)})}),(0,u.jsx)(y.Vf,{label:"Subnet",value:null!==(W=null===(b=e.data.bootstrap)||void 0===b?void 0:b.subnet)&&void 0!==W?W:"",onChange:e=>N(l=>{void 0!==l.bootstrap&&(l.bootstrap.subnet=e)})}),(0,u.jsx)(y.Vf,{label:"SNI",value:null!==(X=null===(g=e.data.bootstrap)||void 0===g?void 0:g.tlsServername)&&void 0!==X?X:"",onChange:e=>N(l=>{void 0!==l.bootstrap&&(l.bootstrap.tlsServername=e)})})]})}),(0,u.jsx)(y.W2,{title:"Hosts",hideClose:!0,children:(0,u.jsxs)(u.Fragment,{children:[Object.entries(e.data.hosts).sort((e,l)=>{let[n]=e,[a]=l;return n>a?-1:1}).map(e=>{let[l,n]=e;return(0,u.jsxs)(j.Z,{className:"mb-2",children:[(0,u.jsx)(v.Z.Control,{readOnly:!0,value:l}),(0,u.jsx)(j.Z.Text,{children:(0,u.jsx)("i",{className:"bi bi-arrow-right"})}),(0,u.jsx)(v.Z.Control,{value:n,onChange:e=>N(n=>n.hosts[l]=e.target.value)}),(0,u.jsx)(C.Z,{variant:"outline-danger",onClick:()=>N(e=>delete e.hosts[l]),children:(0,u.jsx)("i",{className:"bi bi-x-lg"})})]},"hosts"+l)}),(0,u.jsxs)(j.Z,{className:"mb-2",children:[(0,u.jsx)(v.Z.Control,{value:B.key,onChange:e=>f({...B,key:e.target.value})}),(0,u.jsx)(j.Z.Text,{children:(0,u.jsx)("i",{className:"bi bi-arrow-right"})}),(0,u.jsx)(v.Z.Control,{value:B.value,onChange:e=>f({...B,value:e.target.value})}),(0,u.jsx)(C.Z,{variant:"outline-success",onClick:()=>{""!==B.key&&void 0===e.data.hosts[B.key]&&N(e=>e.hosts[B.key]=B.value)},children:(0,u.jsx)("i",{className:"bi bi-plus-lg"})})]})]})})]})});function Y(e){var l;return(0,u.jsxs)(v.Z.Group,{as:A.Z,className:"mb-3",children:[(0,u.jsx)(v.Z.Label,{column:!0,sm:2,children:e.label}),(0,u.jsx)(x.Z,{sm:10,children:(0,u.jsx)(v.Z.Select,{value:i[null!==(l=e.value)&&void 0!==l?l:i.udp],onChange:l=>e.onChange(i[l.target.value]),children:f.values.filter(e=>0!==e.number).map(e=>(0,u.jsx)("option",{value:i[e.number],children:e.name},e.number))})})]})}var R=n(716),k=n(1159),E=n(1617),S=n(879),F=n(6264),J=n.n(F);let K=(0,V.l)("ChRjb25maWcvbG9nL2xvZy5wcm90bxILeXVoYWlpbi5sb2ciPQoGbG9nY2F0EiUKBWxldmVsGAEgASgOMhYueXVoYWlpbi5sb2cubG9nX2xldmVsEgwKBHNhdmUYAiABKAgqUAoJbG9nX2xldmVsEgsKB3ZlcmJvc2UQABIJCgVkZWJ1ZxABEggKBGluZm8QAhILCgd3YXJuaW5nEAMSCQoFZXJyb3IQBBIJCgVmYXRhbBAFQjRaMmdpdGh1Yi5jb20vQXN1dG9ydWZhL3l1aGFpaW4vcGtnL3Byb3Rvcy9jb25maWcvbG9nYgZwcm90bzM");(s=c||(c={}))[s.verbose=0]="verbose",s[s.debug=1]="debug",s[s.info=2]="info",s[s.warning=3]="warning",s[s.error=4]="error",s[s.fatal=5]="fatal";var L=n(1170);let w=(0,V.l)("Ch5jb25maWcvbGlzdGVuZXIvbGlzdGVuZXIucHJvdG8SEHl1aGFpaW4ubGlzdGVuZXIiowIKDmluYm91bmRfY29uZmlnEh4KCmhpamFja19kbnMYAiABKAhSCmhpamFja19kbnMSLAoRaGlqYWNrX2Ruc19mYWtlaXAYAyABKAhSEWhpamFja19kbnNfZmFrZWlwEkAKCGluYm91bmRzGAEgAygLMi4ueXVoYWlpbi5saXN0ZW5lci5pbmJvdW5kX2NvbmZpZy5JbmJvdW5kc0VudHJ5EiYKBXNuaWZmGAQgASgLMhcueXVoYWlpbi5saXN0ZW5lci5zbmlmZhpKCg1JbmJvdW5kc0VudHJ5EgsKA2tleRgBIAEoCRIoCgV2YWx1ZRgCIAEoCzIZLnl1aGFpaW4ubGlzdGVuZXIuaW5ib3VuZDoCOAFKBAgFEAZSB3NlcnZlcnMi2AQKB2luYm91bmQSDAoEbmFtZRgNIAEoCRIPCgdlbmFibGVkGA4gASgIEigKBWVtcHR5GBUgASgLMhcueXVoYWlpbi5saXN0ZW5lci5lbXB0eUgAEioKBnRjcHVkcBgPIAEoCzIYLnl1aGFpaW4ubGlzdGVuZXIudGNwdWRwSAASJgoEcXVpYxgQIAEoCzIWLnl1aGFpaW4ubGlzdGVuZXIucXVpY0gAEi4KCXRyYW5zcG9ydBgCIAMoCzIbLnl1aGFpaW4ubGlzdGVuZXIudHJhbnNwb3J0EiYKBGh0dHAYAyABKAsyFi55dWhhaWluLmxpc3RlbmVyLmh0dHBIARIqCgZzb2NrczUYBCABKAsyGC55dWhhaWluLmxpc3RlbmVyLnNvY2tzNUgBEjAKCXl1dWJpbnN5YRgHIAEoCzIbLnl1aGFpaW4ubGlzdGVuZXIueXV1Ymluc3lhSAESLQoDbWl4GAggASgLMhcueXVoYWlpbi5saXN0ZW5lci5taXhlZEgBUgVtaXhlZBIsCgdzb2NrczRhGAkgASgLMhkueXVoYWlpbi5saXN0ZW5lci5zb2NrczRhSAESKgoGdHByb3h5GBQgASgLMhgueXVoYWlpbi5saXN0ZW5lci50cHJveHlIARIoCgVyZWRpchgSIAEoCzIXLnl1aGFpaW4ubGlzdGVuZXIucmVkaXJIARIkCgN0dW4YEyABKAsyFS55dWhhaWluLmxpc3RlbmVyLnR1bkgBQgkKB25ldHdvcmtCCgoIcHJvdG9jb2xKBAgREBJSBElQdjYiwgIKCXRyYW5zcG9ydBIqCgZub3JtYWwYDCABKAsyGC55dWhhaWluLmxpc3RlbmVyLm5vcm1hbEgAEiQKA3RscxgBIAEoCzIVLnl1aGFpaW4ubGlzdGVuZXIudGxzSAASJAoDbXV4GAIgASgLMhUueXVoYWlpbi5saXN0ZW5lci5tdXhIABIoCgVodHRwMhgFIAEoCzIXLnl1aGFpaW4ubGlzdGVuZXIuaHR0cDJIABIwCgl3ZWJzb2NrZXQYBiABKAsyGy55dWhhaWluLmxpc3RlbmVyLndlYnNvY2tldEgAEiYKBGdycGMYCyABKAsyFi55dWhhaWluLmxpc3RlbmVyLmdycGNIABIsCgdyZWFsaXR5GAogASgLMhkueXVoYWlpbi5saXN0ZW5lci5yZWFsaXR5SABCCwoJdHJhbnNwb3J0IpQDCghwcm90b2NvbBIMCgRuYW1lGAEgASgJEg8KB2VuYWJsZWQYAiABKAgSJgoEaHR0cBgDIAEoCzIWLnl1aGFpaW4ubGlzdGVuZXIuaHR0cEgAEioKBnNvY2tzNRgEIAEoCzIYLnl1aGFpaW4ubGlzdGVuZXIuc29ja3M1SAASKAoFcmVkaXIYBSABKAsyFy55dWhhaWluLmxpc3RlbmVyLnJlZGlySAASJAoDdHVuGAYgASgLMhUueXVoYWlpbi5saXN0ZW5lci50dW5IABIwCgl5dXViaW5zeWEYByABKAsyGy55dWhhaWluLmxpc3RlbmVyLnl1dWJpbnN5YUgAEi0KA21peBgIIAEoCzIXLnl1aGFpaW4ubGlzdGVuZXIubWl4ZWRIAFIFbWl4ZWQSLAoHc29ja3M0YRgJIAEoCzIZLnl1aGFpaW4ubGlzdGVuZXIuc29ja3M0YUgAEioKBnRwcm94eRgKIAEoCzIYLnl1aGFpaW4ubGlzdGVuZXIudHByb3h5SABCCgoIcHJvdG9jb2wiBwoFZW1wdHkiBQoDbXV4IkoKBnRjcHVkcBIMCgRob3N0GAEgASgJEjIKB2NvbnRyb2wYAiABKA4yIS55dWhhaWluLmxpc3RlbmVyLnRjcF91ZHBfY29udHJvbCI/CgRxdWljEgwKBGhvc3QYASABKAkSKQoDdGxzGAMgASgLMhwueXVoYWlpbi5saXN0ZW5lci50bHNfY29uZmlnIjYKBGh0dHASEAoIdXNlcm5hbWUYAyABKAkSEAoIcGFzc3dvcmQYBCABKAlKBAgBEAJSBGhvc3QiRQoGc29ja3M1EhAKCHVzZXJuYW1lGAMgASgJEhAKCHBhc3N3b3JkGAQgASgJEgsKA3VkcBgFIAEoCEoECAEQAlIEaG9zdCInCgdzb2NrczRhEhAKCHVzZXJuYW1lGAIgASgJSgQIARACUgRob3N0IjcKBW1peGVkEhAKCHVzZXJuYW1lGAMgASgJEhAKCHBhc3N3b3JkGAQgASgJSgQIARACUgRob3N0IhUKBXJlZGlyEgwKBGhvc3QYASABKAkiYAoGdHByb3h5EgwKBGhvc3QYASABKAkSJAoNZG5zX2hpamFja2luZxgCIAEoCFINZG5zX2hpamFja2luZxIiCgxmb3JjZV9mYWtlaXAYAyABKAhSDGZvcmNlX2Zha2VpcCKVAwoDdHVuEgwKBG5hbWUYASABKAkSCwoDbXR1GAIgASgFEiIKDGZvcmNlX2Zha2VpcBgJIAEoCFIMZm9yY2VfZmFrZWlwEiYKDnNraXBfbXVsdGljYXN0GAYgASgIUg5za2lwX211bHRpY2FzdBI1CgZkcml2ZXIYByABKA4yJS55dWhhaWluLmxpc3RlbmVyLnR1bi5lbmRwb2ludF9kcml2ZXISDgoGcG9ydGFsGAggASgJEhwKCXBvcnRhbF92NhgLIAEoCVIJcG9ydGFsX3Y2EiYKBXJvdXRlGAogASgLMhcueXVoYWlpbi5saXN0ZW5lci5yb3V0ZRIYCgdwb3N0X3VwGAwgAygJUgdwb3N0X3VwEhwKCXBvc3RfZG93bhgNIAMoCVIJcG9zdF9kb3duIj4KD2VuZHBvaW50X2RyaXZlchILCgdmZGJhc2VkEAASCwoHY2hhbm5lbBABEhEKDXN5c3RlbV9ndmlzb3IQAkoECAMQBEoECAQQBVIHZ2F0ZXdheVINZG5zX2hpamFja2luZyIpCgVyb3V0ZRIOCgZyb3V0ZXMYASADKAkSEAoIZXhjbHVkZXMYAiADKAki9QEKCXl1dWJpbnN5YRIQCghwYXNzd29yZBgCIAEoCRIgCgt0Y3BfZW5jcnlwdBgMIAEoCFILdGNwX2VuY3J5cHQSIAoLdWRwX2VuY3J5cHQYDSABKAhSC3VkcF9lbmNyeXB0EgsKA211eBgLIAEoCEoECAEQAkoECAMQBEoECAQQBUoECAUQBkoECAYQB0oECAcQCEoECAgQCUoECAkQCkoECAoQC1IEaG9zdFIVZm9yY2VfZGlzYWJsZV9lbmNyeXB0UgZub3JtYWxSA3Rsc1IEcXVpY1IJd2Vic29ja2V0UgRncnBjUgVodHRwMlIHcmVhbGl0eSIICgZub3JtYWwiFgoJd2Vic29ja2V0SgQIARACUgN0bHMiMAoDdGxzEikKA3RscxgBIAEoCzIcLnl1aGFpaW4ubGlzdGVuZXIudGxzX2NvbmZpZyIRCgRncnBjSgQIARACUgN0bHMiEgoFaHR0cDJKBAgBEAJSA3RscyKGAQoHcmVhbGl0eRIaCghzaG9ydF9pZBgBIAMoCVIIc2hvcnRfaWQSIAoLc2VydmVyX25hbWUYAiADKAlSC3NlcnZlcl9uYW1lEgwKBGRlc3QYAyABKAkSIAoLcHJpdmF0ZV9rZXkYBCABKAlSC3ByaXZhdGVfa2V5Eg0KBWRlYnVnGAUgASgIIrMCCgp0bHNfY29uZmlnEjMKDGNlcnRpZmljYXRlcxgBIAMoCzIdLnl1aGFpaW4ubGlzdGVuZXIuY2VydGlmaWNhdGUSIAoLbmV4dF9wcm90b3MYAyADKAlSC25leHRfcHJvdG9zEnEKF3NlcnZlcl9uYW1lX2NlcnRpZmljYXRlGAQgAygLMjcueXVoYWlpbi5saXN0ZW5lci50bHNfY29uZmlnLlNlcnZlck5hbWVDZXJ0aWZpY2F0ZUVudHJ5UhdzZXJ2ZXJfbmFtZV9jZXJ0aWZpY2F0ZRpbChpTZXJ2ZXJOYW1lQ2VydGlmaWNhdGVFbnRyeRILCgNrZXkYASABKAkSLAoFdmFsdWUYAiABKAsyHS55dWhhaWluLmxpc3RlbmVyLmNlcnRpZmljYXRlOgI4ASJ2CgtjZXJ0aWZpY2F0ZRIMCgRjZXJ0GAEgASgMEgsKA2tleRgCIAEoDBImCg5jZXJ0X2ZpbGVfcGF0aBgDIAEoCVIOY2VydF9maWxlX3BhdGgSJAoNa2V5X2ZpbGVfcGF0aBgEIAEoCVINa2V5X2ZpbGVfcGF0aCIYCgVzbmlmZhIPCgdlbmFibGVkGAEgASgIKkwKD3RjcF91ZHBfY29udHJvbBIXChN0Y3BfdWRwX2NvbnRyb2xfYWxsEAASDwoLZGlzYWJsZV90Y3AQARIPCgtkaXNhYmxlX3VkcBACQjlaN2dpdGh1Yi5jb20vQXN1dG9ydWZhL3l1aGFpaW4vcGtnL3Byb3Rvcy9jb25maWcvbGlzdGVuZXJiBnByb3RvMw"),z=(0,I.L)(w,0),H=(0,I.L)(w,1),U=(0,I.L)(w,2),M=(0,I.L)(w,4),Q=(0,I.L)(w,5),D=(0,I.L)(w,6),P=(0,I.L)(w,7),_=(0,I.L)(w,8),O=(0,I.L)(w,9),T=(0,I.L)(w,11),q=(0,I.L)(w,12),$=(0,I.L)(w,13),ee=(0,I.L)(w,14);(o=r||(r={}))[o.fdbased=0]="fdbased",o[o.channel=1]="channel",o[o.system_gvisor=2]="system_gvisor";let el=(0,I.L)(w,15),en=(0,I.L)(w,16),ea=(0,I.L)(w,17),es=(0,I.L)(w,18),eo=(0,I.L)(w,19),et=(0,I.L)(w,20),ei=(0,I.L)(w,21),ec=(0,I.L)(w,22),er=(0,I.L)(w,23),ed=(0,I.L)(w,24),eu=(0,I.L)(w,25);(t=d||(d={}))[t.tcp_udp_control_all=0]="tcp_udp_control_all",t[t.disable_tcp=1]="disable_tcp",t[t.disable_udp=2]="disable_udp";let eh=(0,W.i)(w,0),eb=(0,V.l)("ChNjb25maWcvY29uZmlnLnByb3RvEg55dWhhaWluLmNvbmZpZyLsAgoHc2V0dGluZxIMCgRpcHY2GAcgASgIEiQKDW5ldF9pbnRlcmZhY2UYBiABKAlSDW5ldF9pbnRlcmZhY2USQAoMc3lzdGVtX3Byb3h5GAEgASgLMhwueXVoYWlpbi5jb25maWcuc3lzdGVtX3Byb3h5UgxzeXN0ZW1fcHJveHkSJgoGYnlwYXNzGAIgASgLMhYueXVoYWlpbi5ieXBhc3MuY29uZmlnEiQKA2RucxgEIAEoCzIXLnl1aGFpaW4uZG5zLmRuc19jb25maWcSMAoGc2VydmVyGAUgASgLMiAueXVoYWlpbi5saXN0ZW5lci5pbmJvdW5kX2NvbmZpZxIjCgZsb2djYXQYCCABKAsyEy55dWhhaWluLmxvZy5sb2djYXQSRgoOY29uZmlnX3ZlcnNpb24YCSABKAsyHi55dWhhaWluLmNvbmZpZy5jb25maWdfdmVyc2lvblIOY29uZmlnX3ZlcnNpb24iLAoMc3lzdGVtX3Byb3h5EgwKBGh0dHAYAiABKAgSDgoGc29ja3M1GAMgASgIIrQBCgRpbmZvEg8KB3ZlcnNpb24YASABKAkSDgoGY29tbWl0GAIgASgJEh4KCmJ1aWxkX3RpbWUYAyABKAlSCmJ1aWxkX3RpbWUSHgoKZ29fdmVyc2lvbhgEIAEoCVIKZ29fdmVyc2lvbhIMCgRhcmNoGAUgASgJEhAKCHBsYXRmb3JtGAYgASgJEgoKAm9zGAcgASgJEhAKCGNvbXBpbGVyGAggASgJEg0KBWJ1aWxkGAkgAygJIiEKDmNvbmZpZ192ZXJzaW9uEg8KB3ZlcnNpb24YASABKARCMFouZ2l0aHViLmNvbS9Bc3V0b3J1ZmEveXVoYWlpbi9wa2cvcHJvdG9zL2NvbmZpZ2IGcHJvdG8z",[K,L.GZ,X,w]),eg=(0,I.L)(eb,0),em=(0,I.L)(eb,1),ev=(0,I.L)(eb,2);var eA=n(8516),ex=n(3168);let ep=(0,V.l)("ChF0b29scy90b29scy5wcm90bxINeXVoYWlpbi50b29scyI6CgpJbnRlcmZhY2VzEiwKCmludGVyZmFjZXMYASADKAsyGC55dWhhaWluLnRvb2xzLkludGVyZmFjZSIsCglJbnRlcmZhY2USDAoEbmFtZRgBIAEoCRIRCglhZGRyZXNzZXMYAiADKAkynAEKBXRvb2xzEk8KF3NhdmVfcmVtb3RlX2J5cGFzc19maWxlEhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlGhYuZ29vZ2xlLnByb3RvYnVmLkVtcHR5EkIKDWdldF9pbnRlcmZhY2USFi5nb29nbGUucHJvdG9idWYuRW1wdHkaGS55dWhhaWluLnRvb2xzLkludGVyZmFjZXNCL1otZ2l0aHViLmNvbS9Bc3V0b3J1ZmEveXVoYWlpbi9wa2cvcHJvdG9zL3Rvb2xzYgZwcm90bzM",[eA.r,ex.hD]),eZ=(0,I.L)(ep,0);var eC=n(4050),ej=n(8537),ey=n(9882),eG=n(4694),eV=n(9912);let eI=h.memo(e=>{let l=l=>{l(e.http),e.onChange(e.http)};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(y.Vf,{label:"Username",value:e.http.username,onChange:e=>l(l=>l.username=e)}),(0,u.jsx)(y.Vf,{label:"Password",value:e.http.password,onChange:e=>l(l=>l.password=e)})]})}),eW=h.memo(e=>{let l=l=>{l(e.redir),e.onChange(e.redir)};return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(y.Vf,{label:"Host",value:e.redir.host,onChange:e=>l(l=>l.host=e)})})}),eX=h.memo(e=>{let l=l=>{l(e.tproxy),e.onChange(e.tproxy)};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(G.Jg,{label:"DNS Hijacking",checked:e.tproxy.dnsHijacking,onChange:()=>l(e=>e.dnsHijacking=!e.dnsHijacking)}),(0,u.jsx)(G.Jg,{label:"Force Fake IP",checked:e.tproxy.forceFakeip,onChange:()=>l(e=>e.forceFakeip=!e.forceFakeip)}),(0,u.jsx)(y.Vf,{label:"Host",value:e.tproxy.host,onChange:e=>l(l=>l.host=e)})]})}),eB=h.memo(e=>{let l=l=>{l(e.socks5),e.onChange(e.socks5)};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(y.Vf,{label:"Username",value:e.socks5.username,onChange:e=>l(l=>l.username=e)}),(0,u.jsx)(y.Vf,{label:"Password",value:e.socks5.password,onChange:e=>l(l=>l.password=e)})]})}),ef=h.memo(e=>{let l=l=>{l(e.mixed),e.onChange(e.mixed)};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(y.Vf,{label:"Username",value:e.mixed.username,onChange:e=>l(l=>l.username=e)}),(0,u.jsx)(y.Vf,{label:"Password",value:e.mixed.password,onChange:e=>l(l=>l.password=e)})]})}),eN=h.memo(e=>{var l,n;let a=l=>{l(e.tun),e.onChange(e.tun)},[s,o]=(0,h.useState)((0,eV.v_)(e.tun.postUp)),[t,i]=(0,h.useState)((0,eV.v_)(e.tun.postDown));return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(G.Jg,{checked:e.tun.skipMulticast,onChange:()=>a(e=>e.skipMulticast=!e.skipMulticast),label:"Skip Multicast"}),(0,u.jsx)(y.Vf,{label:"Name",value:e.tun.name,onChange:e=>a(l=>l.name=e)}),(0,u.jsx)(y.Vf,{label:"MTU",value:e.tun.mtu,onChange:e=>a(l=>l.mtu=isNaN(Number(e))?l.mtu:Number(e))}),(0,u.jsx)(y.Vf,{label:"IPv4",value:e.tun.portal,onChange:e=>a(l=>l.portal=e)}),(0,u.jsx)(y.Vf,{label:"IPv6",value:e.tun.portalV6,onChange:e=>a(l=>l.portalV6=e)}),(0,u.jsx)(y.Vf,{label:"Post Up",value:s,onChange:e=>{o(e);try{let l=(0,eV.Vl)(e);a(e=>e.postUp=l)}catch(e){console.log(e)}}}),(0,u.jsx)(y.Vf,{label:"Post Down",value:t,onChange:e=>{i(e);try{let l=(0,eV.Vl)(e);a(e=>e.postDown=l)}catch(e){console.log(e)}}}),(0,u.jsx)(function(e){return(0,u.jsxs)(v.Z.Group,{as:A.Z,className:"mb-3",children:[(0,u.jsx)(v.Z.Label,{column:!0,sm:2,children:e.label}),(0,u.jsx)(x.Z,{sm:10,children:(0,u.jsxs)(v.Z.Select,{value:r[void 0===e.value||null===e.value?r.fdbased:e.value],onChange:l=>e.onChange(r[l.target.value]),children:[(0,u.jsx)("option",{value:r[r.fdbased],children:"Fdbased"}),(0,u.jsx)("option",{value:r[r.channel],children:"Channel"}),(0,u.jsx)("option",{value:r[r.system_gvisor],children:"System"})]})})]})},{label:"Stack",value:e.tun.driver,onChange:e=>a(l=>l.driver=e)}),(0,u.jsx)(y.yh,{title:"Routes",data:null!==(n=null===(l=e.tun.route)||void 0===l?void 0:l.routes)&&void 0!==n?n:[],onChange:e=>a(l=>{l.route||(l.route=(0,ej.U)(el,{})),e||(e=[]),l.route&&(l.route.routes=e)})})]})}),eY=e=>null==e||void 0===e.certificates&&void 0===e.nextProtos&&void 0===e.serverNameCertificate,eR=h.memo(e=>{let l=l=>{l(e.cert),e.onChange(e.cert)};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(y.NZ,{label:"Cert",value:new TextDecoder().decode(e.cert.cert),onChange:e=>l(l=>{l.cert=new TextEncoder().encode(e)})}),(0,u.jsx)(y.NZ,{label:"Key",value:new TextDecoder().decode(e.cert.key),onChange:e=>l(l=>{l.key=new TextEncoder().encode(e)})}),(0,u.jsx)(y.Vf,{label:"Cert File",value:e.cert.certFilePath,onChange:e=>l(l=>{l.certFilePath=e})}),(0,u.jsx)(y.Vf,{label:"Key File",value:e.cert.keyFilePath,onChange:e=>l(l=>{l.keyFilePath=e})})]})}),ek=h.memo(e=>{var l,n;let[a,s]=(0,h.useState)("www.example.com"),o=l=>{l(e.tls),e.onChange(e.tls)};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(y.yh,{title:"Next Protos",data:null!==(n=null===(l=e.tls)||void 0===l?void 0:l.nextProtos)&&void 0!==n?n:[],onChange:e=>o(l=>{e&&(l.nextProtos=e)})}),e.tls&&e.tls.certificates.map((e,l)=>(0,u.jsx)(g.Z,{className:"mb-2",children:(0,u.jsxs)(g.Z.Body,{children:[(0,u.jsx)(g.Z.Title,{className:"d-flex justify-content-end align-items-center",children:(0,u.jsx)(C.Z,{variant:"outline-danger",onClick:()=>o(e=>{(null==e?void 0:e.certificates)!==void 0&&e.certificates.splice(l,1)}),children:(0,u.jsx)("i",{className:"bi bi-x-lg"})})}),(0,u.jsx)(eR,{cert:(0,ej.U)(ed,e),onChange:e=>o(n=>{(null==n?void 0:n.certificates)!==void 0&&(n.certificates[l]=e)})})]})},"tls_certificates"+l)),(0,u.jsx)(j.Z,{className:"d-flex justify-content-end mb-2",children:(0,u.jsxs)(C.Z,{variant:"outline-success",onClick:()=>o(e=>{e.certificates.push((0,ej.U)(ed,{cert:new Uint8Array(0),key:new Uint8Array(0),certFilePath:"",keyFilePath:""}))}),children:[(0,u.jsx)("i",{className:"bi bi-plus-lg"}),"New Certificate"]})}),e.tls&&e.tls.serverNameCertificate&&Object.entries(e.tls.serverNameCertificate).map(e=>{let[l,n]=e;return(0,u.jsx)(g.Z,{className:"mb-2",children:(0,u.jsxs)(g.Z.Body,{children:[(0,u.jsxs)(g.Z.Title,{className:"d-flex justify-content-between align-items-center",children:[l,(0,u.jsx)(C.Z,{variant:"outline-danger",onClick:()=>o(e=>{null==e||delete e.serverNameCertificate[l]}),children:(0,u.jsx)("i",{className:"bi bi-x-lg"})})]}),(0,u.jsx)(eR,{cert:(0,ej.U)(ed,n),onChange:e=>o(n=>{n.serverNameCertificate[l]=e})})]})},"server_name_certificate"+l)}),(0,u.jsxs)(j.Z,{className:"d-flex justify-content-end",children:[(0,u.jsx)(v.Z.Control,{value:a,onChange:e=>s(e.target.value)}),(0,u.jsxs)(C.Z,{variant:"outline-success",onClick:()=>o(e=>{""!==a&&(e.serverNameCertificate[a]=(0,ej.U)(ed,{}))}),children:[(0,u.jsx)("i",{className:"bi bi-plus-lg"}),"New SNI Certificate"]})]})]})}),eE=h.memo(e=>{let l=l=>{eY(e.quic.tls)&&(e.quic.tls=void 0),l(e.quic),e.onChange(e.quic)};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(y.Vf,{label:"Host",onChange:e=>l(l=>l.host=e),value:e.quic.host}),e.quic.tls&&(0,u.jsx)(ek,{tls:(0,ej.U)(er,null!==e.quic.tls?e.quic.tls:void 0),onChange:e=>l(l=>l.tls=e)})]})}),eS=h.memo(e=>{let l=l=>{eY(e.tls.tls)&&(e.tls.tls=void 0),l(e.tls),e.onChange(e.tls)};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(y.Vf,{plaintext:!0,label:"Protocol",value:"TLS"}),e.tls.tls&&(0,u.jsx)(ek,{tls:(0,ej.U)(er,e.tls.tls),onChange:e=>l(l=>l.tls=e)})]})}),eF=h.memo(e=>{let l=l=>{l(e.reality),e.onChange(e.reality)},[n,a]=(0,h.useState)({value:""}),[s,o]=(0,h.useState)({value:""});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(y.Vf,{plaintext:!0,label:"Protocol",value:"Reality"}),(0,u.jsx)(y.Vf,{label:"Dest",value:e.reality.dest,onChange:e=>l(l=>l.dest=e)}),(0,u.jsx)(y.Vf,{label:"Private Key",value:e.reality.privateKey,onChange:e=>l(l=>l.privateKey=e)}),(0,u.jsxs)(v.Z.Group,{as:A.Z,className:"mb-3",children:[(0,u.jsx)(v.Z.Label,{column:!0,sm:2,className:"nowrap",children:"Short ID"}),e.reality.shortId.map((e,n)=>(0,u.jsx)(x.Z,{sm:{span:10,offset:0!==n?2:0},children:(0,u.jsxs)(j.Z,{className:"mb-2",children:[(0,u.jsx)(v.Z.Control,{value:e,onChange:e=>l(l=>{l.shortId[n]=e.target.value})}),(0,u.jsx)(C.Z,{variant:"outline-danger",onClick:()=>l(e=>{e.shortId.splice(n,1)}),children:(0,u.jsx)("i",{className:"bi bi-x-lg"})})]})},n)),(0,u.jsx)(x.Z,{sm:{span:10,offset:0!==e.reality.shortId.length?2:0},children:(0,u.jsxs)(j.Z,{className:"mb-2",children:[(0,u.jsx)(v.Z.Control,{value:n.value,onChange:e=>a({value:e.target.value})}),(0,u.jsx)(C.Z,{variant:"outline-success",onClick:()=>l(e=>{e.shortId.push(n.value)}),children:(0,u.jsx)("i",{className:"bi bi-plus-lg"})})]})})]}),(0,u.jsxs)(v.Z.Group,{as:A.Z,className:"mb-3",children:[(0,u.jsx)(v.Z.Label,{column:!0,sm:2,className:"nowrap",children:"Server Name"}),e.reality.serverName.map((e,n)=>(0,u.jsx)(x.Z,{sm:{span:10,offset:0!==n?2:0},children:(0,u.jsxs)(j.Z,{className:"mb-2",children:[(0,u.jsx)(v.Z.Control,{value:e,onChange:e=>l(l=>{l.serverName[n]=e.target.value})}),(0,u.jsx)(C.Z,{variant:"outline-danger",onClick:()=>l(e=>{e.serverName.splice(n,1)}),children:(0,u.jsx)("i",{className:"bi bi-x-lg"})})]})},n)),(0,u.jsx)(x.Z,{sm:{span:10,offset:0!==e.reality.serverName.length?2:0},children:(0,u.jsxs)(j.Z,{className:"mb-2",children:[(0,u.jsx)(v.Z.Control,{value:s.value,onChange:e=>o({value:e.target.value})}),(0,u.jsx)(C.Z,{variant:"outline-success",onClick:()=>l(e=>{e.serverName.push(s.value)}),children:(0,u.jsx)("i",{className:"bi bi-plus-lg"})})]})})]})]})});function eJ(e,l,n){return n?function(e){e(l),n(l)}:function(e){}}let eK=e=>{let[l,n]=(0,h.useState)((0,eC.d)(H,e.value));return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(ey.Z,{show:e.show,scrollable:!0,"aria-labelledby":"contained-modal-title-vcenter",size:"xl",onHide:()=>{e.onHide()},onShow:()=>{n((0,eC.d)(H,e.value))},centered:!0,children:[(0,u.jsx)(ey.Z.Header,{children:(0,u.jsx)(ey.Z.Title,{id:"contained-modal-title-vcenter",children:e.value.name})}),(0,u.jsx)(ey.Z.Body,{children:(0,u.jsx)(ew,{inbound:l,onChange:e=>{n((0,eC.d)(H,e))}})}),(0,u.jsxs)(ey.Z.Footer,{children:[(0,u.jsx)(C.Z,{variant:"outline-secondary",onClick:()=>{e.onHide()},children:"Close"}),(0,u.jsx)(C.Z,{variant:"outline-primary",onClick:()=>{e.onChange(l),e.onHide()},children:"Save"})]})]})})},eL=h.memo(e=>{var l;let n=eJ(z,e.inbounds,e.onChange),[a,s]=(0,h.useState)({show:!1,inbound:(0,ej.U)(H,{}),onChange:e=>{}}),[o,t]=(0,h.useState)({value:""});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(eK,{show:a.show,value:a.inbound,onHide:()=>{s({...a,show:!1})},onChange:a.onChange}),(0,u.jsx)(G.Jg,{label:"DNS Hijack",checked:!!e.inbounds.hijackDns,onChange:()=>n(e=>e.hijackDns=!e.hijackDns)}),(0,u.jsx)(G.Jg,{label:"Fakedns",checked:!!e.inbounds.hijackDnsFakeip,onChange:()=>n(e=>e.hijackDnsFakeip=!e.hijackDnsFakeip)}),(0,u.jsx)(G.Jg,{label:"Sniff",checked:null!==(l=e.inbounds.sniff)&&void 0!==l&&!!l.enabled,onChange:()=>n(e=>{var l;return e.sniff=(0,ej.U)(eu,{enabled:!(null===(l=e.sniff)||void 0===l?void 0:l.enabled)})})}),(0,u.jsx)("hr",{}),(0,u.jsxs)(g.Z,{children:[(0,u.jsx)(g.Z.Header,{children:"Inbounds"}),0===Object.keys(e.inbounds.inbounds).length?(0,u.jsx)(g.Z.Body,{children:(0,u.jsx)("div",{className:"text-center my-2",style:{opacity:"0.4"},children:"No Inbounds"})}):(0,u.jsx)(eG.Z,{variant:"flush",children:Object.entries(e.inbounds.inbounds).sort((e,l)=>e[0]<=l[0]?-1:1).map(e=>{let[l,a]=e;return(0,u.jsx)(h.Fragment,{children:(0,u.jsxs)(eG.Z.Item,{action:!0,className:"d-flex justify-content-between align-items-center",style:{border:"0ch",borderBottom:"1px solid #dee2e6"},onClick:e=>{e.stopPropagation(),s({show:!0,inbound:a,onChange:e=>{n(n=>{n.inbounds[l]=e})}})},children:[l,(0,u.jsx)(C.Z,{variant:"outline-danger",size:"sm",as:"span",onClick:e=>{e.stopPropagation(),n(e=>{delete e.inbounds[l]})},children:(0,u.jsx)("i",{className:"bi bi-x-lg"})},l+"span-button")]})},"inbounds-"+l)})}),(0,u.jsx)(g.Z.Footer,{children:(0,u.jsxs)(j.Z,{className:"d-flex justify-content-end",children:[(0,u.jsx)(v.Z.Control,{value:o.value,onChange:e=>t({value:e.target.value})}),(0,u.jsxs)(C.Z,{variant:"outline-success",onClick:()=>{""!==o.value&&void 0===e.inbounds.inbounds[o.value]&&n(e=>e.inbounds[o.value]=(0,ej.U)(H,{name:o.value}))},children:[(0,u.jsx)("i",{className:"bi bi-plus-lg"}),"New "]})]})})]})]})}),ew=e=>{let l=eJ(H,e.inbound,e.onChange),n=(n,a)=>{e.inbound.transport.length<=1||n&&0===a||!n&&a===e.inbound.transport.length-1||l(e=>{let l=e.transport[a];e.transport[a]=e.transport[a+(n?-1:1)],e.transport[a+(n?-1:1)]=l})},[a,s]=(0,h.useState)({value:"normal"});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(G.Jg,{label:"Enabled",checked:e.inbound.enabled,onChange:()=>{l(e=>e.enabled=!e.enabled)}}),(0,u.jsx)(y.Vf,{label:"Name",value:e.inbound.name,onChange:e=>{l(l=>l.name=e)}}),(0,u.jsx)(y.W2,{title:"Network",hideClose:!0,children:(0,u.jsx)(ez,{inbound:e.inbound,onChange:e=>{l(l=>e)}})}),(0,u.jsx)(y.W2,{title:"Transport",hideClose:!0,children:(0,u.jsxs)(u.Fragment,{children:[e.inbound.transport.map((a,s)=>{var o,t;return(0,u.jsx)(y.W2,{title:null!==(t=null===(o=a.transport.case)||void 0===o?void 0:o.toString())&&void 0!==t?t:"",onClose:()=>{l(e=>e.transport.splice(s,1))},moveUpDown:new y.kx(e.inbound.transport.length,s,e=>n(e,s)),children:(0,u.jsx)(eU,{transport:a,onChange:e=>{l(l=>l.transport[s]=e)}},s)},s)}),(0,u.jsx)(eG.Z,{variant:"flush",children:(0,u.jsx)(eG.Z.Item,{children:(0,u.jsxs)(j.Z,{children:[(0,u.jsx)(v.Z.Select,{value:a.value,onChange:e=>s({value:e.target.value}),children:["normal","tls","mux","http2","websocket","grpc","reality"].map(e=>(0,u.jsx)("option",{value:e,children:e},e))}),(0,u.jsxs)(C.Z,{variant:"outline-success",onClick:()=>l(e=>{switch(a.value){case"normal":e.transport.push((0,ej.U)(U,{transport:{case:"normal",value:(0,ej.U)(ea,{})}}));break;case"tls":e.transport.push((0,ej.U)(U,{transport:{case:"tls",value:(0,ej.U)(eo,{tls:(0,ej.U)(er,{})})}}));break;case"mux":e.transport.push((0,ej.U)(U,{transport:{case:"mux",value:(0,ej.U)(Q,{})}}));break;case"http2":e.transport.push((0,ej.U)(U,{transport:{case:"http2",value:(0,ej.U)(ei,{})}}));break;case"websocket":e.transport.push((0,ej.U)(U,{transport:{case:"websocket",value:(0,ej.U)(es,{})}}));break;case"grpc":e.transport.push((0,ej.U)(U,{transport:{case:"grpc",value:(0,ej.U)(et,{})}}));break;case"reality":e.transport.push((0,ej.U)(U,{transport:{case:"reality",value:(0,ej.U)(ec,{})}}))}}),children:[(0,u.jsx)("i",{className:"bi bi-plus-lg"}),"Add"]})]})})})]})}),(0,u.jsx)(y.W2,{title:"Protocol",hideClose:!0,children:(0,u.jsx)(eQ,{inbound:e.inbound,onChange:e=>{l(l=>e)}})})]})},ez=e=>{var l,n;let a=eJ(H,e.inbound,e.onChange),[s,o]=(0,h.useState)({value:null!==(n=null===(l=e.inbound.network.case)||void 0===l?void 0:l.toString())&&void 0!==n?n:"tcpudp"});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(eG.Z,{variant:"flush",children:(0,u.jsx)(eG.Z.Item,{children:(0,u.jsxs)(j.Z,{children:[(0,u.jsx)(v.Z.Select,{value:s.value,onChange:e=>o({value:e.target.value}),children:["empty","tcpudp","quic"].map(e=>(0,u.jsx)("option",{value:e,children:e},e))}),(0,u.jsx)(C.Z,{variant:"outline-success",onClick:()=>a(e=>{switch(s.value){case"tcpudp":e.network={case:"tcpudp",value:(0,ej.U)(D,{})};break;case"quic":e.network={case:"quic",value:(0,ej.U)(P,{})};break;case"empty":e.network={case:"empty",value:(0,ej.U)(M,{})}}}),children:"Use"})]})})}),(0,u.jsx)("br",{}),(0,u.jsx)(eH,{inbound:e.inbound,onChange:e.onChange})]})},eH=e=>{let l=eJ(H,e.inbound,e.onChange);switch(e.inbound.network.case){case"tcpudp":return(0,u.jsx)(eP,{protocol:e.inbound.network.value,onChange:e=>{l(l=>l.network.value=e)}});case"quic":return(0,u.jsx)(eE,{quic:e.inbound.network.value,onChange:e=>{l(l=>l.network.value=e)}});case"empty":return(0,u.jsx)(u.Fragment,{})}},eU=e=>{let l=eJ(U,e.transport,e.onChange);switch(e.transport.transport.case){case"normal":return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{className:"text-center",style:{opacity:"0.4"},children:"Normal"})});case"tls":return(0,u.jsx)(eS,{tls:e.transport.transport.value,onChange:e=>{l(l=>l.transport.value=e)}});case"mux":return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{className:"text-center",style:{opacity:"0.4"},children:"Mux"})});case"http2":return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{className:"text-center",style:{opacity:"0.4"},children:"HTTP2"})});case"websocket":return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{className:"text-center",style:{opacity:"0.4"},children:"Websocket"})});case"grpc":return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{className:"text-center",style:{opacity:"0.4"},children:"Grpc"})});case"reality":return(0,u.jsx)(eF,{reality:e.transport.transport.value,onChange:e=>{l(l=>l.transport.value=e)}})}},eM=e=>{let l=eJ(H,e.inbound,e.onChange);switch(e.inbound.protocol.case){case"http":return(0,u.jsx)(eI,{http:e.inbound.protocol.value,onChange:e=>{l(l=>l.protocol.value=e)}});case"socks5":return(0,u.jsx)(eB,{socks5:e.inbound.protocol.value,onChange:e=>{l(l=>l.protocol.value=e)}});case"socks4a":return(0,u.jsx)(u.Fragment,{});case"mix":return(0,u.jsx)(ef,{mixed:e.inbound.protocol.value,onChange:e=>{l(l=>l.protocol.value=e)}});case"redir":return(0,u.jsx)(eW,{redir:e.inbound.protocol.value,onChange:e=>{l(l=>l.protocol.value=e)}});case"tun":return(0,u.jsx)(eN,{tun:e.inbound.protocol.value,onChange:e=>{l(l=>l.protocol.value=e)}});case"yuubinsya":return(0,u.jsx)(eD,{yuubinsya:e.inbound.protocol.value,onChange:e=>{l(l=>l.protocol.value=e)}});case"tproxy":return(0,u.jsx)(eX,{tproxy:e.inbound.protocol.value,onChange:e=>{l(l=>l.protocol.value=e)}})}},eQ=e=>{var l,n;let a=eJ(H,e.inbound,e.onChange),[s,o]=(0,h.useState)({value:null!==(n=null===(l=e.inbound.protocol.case)||void 0===l?void 0:l.toString())&&void 0!==n?n:"yuubinsya"});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(eG.Z,{variant:"flush",children:(0,u.jsx)(eG.Z.Item,{children:(0,u.jsxs)(j.Z,{children:[(0,u.jsx)(v.Z.Select,{value:s.value,onChange:e=>o({value:e.target.value}),children:["http","socks5","mix","redir","tun","yuubinsya","tproxy"].map(e=>(0,u.jsx)("option",{value:e,children:e},e))}),(0,u.jsx)(C.Z,{variant:"outline-success",onClick:()=>a(e=>{switch(s.value){case"http":e.protocol={case:"http",value:(0,ej.U)(_,{})};break;case"socks5":e.protocol={case:"socks5",value:(0,ej.U)(O,{})};break;case"mix":e.protocol={case:"mix",value:(0,ej.U)(T,{})};break;case"redir":e.protocol={case:"redir",value:(0,ej.U)(q,{})};break;case"tun":e.protocol={case:"tun",value:(0,ej.U)(ee,{})};break;case"yuubinsya":e.protocol={case:"yuubinsya",value:(0,ej.U)(en,{})};break;case"tproxy":e.protocol={case:"tproxy",value:(0,ej.U)($,{})}}}),children:"Use"})]})})}),(0,u.jsx)("br",{}),(0,u.jsx)(eM,{inbound:e.inbound,onChange:e=>{a(l=>e)}})]})},eD=e=>{let l=eJ(en,e.yuubinsya,e.onChange);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(G.Jg,{label:"TCP Encrypt",checked:e.yuubinsya.tcpEncrypt,onChange:()=>{l(e=>e.tcpEncrypt=!e.tcpEncrypt)}}),(0,u.jsx)(G.Jg,{label:"UDP Encrypt",checked:e.yuubinsya.udpEncrypt,onChange:()=>{l(e=>e.udpEncrypt=!e.udpEncrypt)}}),(0,u.jsx)(y.Vf,{label:"Password",value:e.yuubinsya.password,onChange:e=>{l(l=>l.password=e)}})]})},eP=e=>{let l=eJ(D,e.protocol,e.onChange);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(y.Vf,{label:"Host",value:e.protocol.host,onChange:e=>{l(l=>l.host=e)}}),(0,u.jsx)(e_,{label:"Control",type:eh,value:e.protocol.control,onChange:e=>{l(l=>{l.control=e})}})]})};function e_(e){var l;return(0,u.jsxs)(v.Z.Group,{as:A.Z,className:"mb-3",children:[(0,u.jsx)(v.Z.Label,{column:!0,sm:2,children:e.label}),(0,u.jsx)(x.Z,{sm:10,children:(0,u.jsx)(v.Z.Select,{value:e.value,onChange:l=>e.onChange(Number(l.target.value)),children:e.type.values.filter(null!==(l=e.filter)&&void 0!==l?l:()=>!0).map(e=>(0,u.jsx)("option",{value:e.number,children:e.name},e.number))})})]})}var eO=n(6878),eT=function(){var e,l,n,a,s,o,t,i;let c=(0,h.useContext)(k.P),{data:r,error:d,isLoading:j,mutate:V}=(0,E.ZP)("/config",(0,S.D4)(eg),{revalidateOnFocus:!1}),{data:I}=(0,E.ZP)("/info",(0,S.D4)(ev),{}),{data:W}=(0,E.ZP)("/interfaces",(0,S.D4)(eZ),{revalidateOnFocus:!0});if(void 0!==d)return(0,u.jsx)(J(),{statusCode:d.code,title:d.msg});if(j||void 0===r)return(0,u.jsx)(R.Z,{});let X=e=>{V(l=>{let n=(0,eC.d)(eg,l);return e(n),n},!1)},f=e=>{var l,n,a=[];return(null===(l=e.systemProxy)||void 0===l?void 0:l.http)&&a.push(1),(null===(n=e.systemProxy)||void 0===n?void 0:n.socks5)&&a.push(2),a};return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(b.Z.Container,{defaultActiveKey:"home",children:(0,u.jsxs)(g.Z,{className:"mb-3",children:[(0,u.jsx)(g.Z.Header,{children:(0,u.jsxs)(m.Z,{variant:"tabs",style:{flexWrap:"nowrap",overflow:"auto hidden"},children:[(0,u.jsx)(m.Z.Item,{children:(0,u.jsx)(m.Z.Link,{eventKey:"home",children:"Setting"})}),(0,u.jsx)(m.Z.Item,{children:(0,u.jsx)(m.Z.Link,{eventKey:"dns",children:"DNS"})}),(0,u.jsx)(m.Z.Item,{children:(0,u.jsx)(m.Z.Link,{eventKey:"inbound",children:"Inbound"})}),(0,u.jsx)(m.Z.Item,{children:(0,u.jsx)(m.Z.Link,{eventKey:"info",children:"Info"})})]})}),(0,u.jsx)(g.Z.Body,{children:(0,u.jsxs)(b.Z.Content,{children:[(0,u.jsx)(b.Z.Pane,{eventKey:"home",children:(0,u.jsxs)("fieldset",{disabled:(null==I?void 0:I.os)==="android",children:[(0,u.jsx)(G.Jg,{label:"IPv6",checked:r.ipv6,onChange:()=>V((0,ej.U)(eg,{...r,ipv6:!r.ipv6}),!1)}),(0,u.jsx)(y.Vf,{label:"Network Interface",value:r.netInterface,onChange:e=>X(l=>l.netInterface=e),reminds:null==W?void 0:W.interfaces.map(e=>{if(e.name){var l;return{label:e.name,value:e.name,label_children:null===(l=e.addresses)||void 0===l?void 0:l.map(e=>e||"")}}}).filter(e=>!!e)}),(0,u.jsxs)(v.Z.Group,{as:A.Z,className:"mb-2",children:[(0,u.jsx)(v.Z.Label,{column:!0,sm:2,className:"nowrap",children:"System Proxy"}),(0,u.jsx)(x.Z,{sm:10,children:(0,u.jsxs)(p.Z,{type:"checkbox",className:"d-flex",defaultValue:f(r),value:f(r),onChange:e=>{let l=!1,n=!1;for(var a of e)1===a&&(l=!0),2===a&&(n=!0);X(e=>{e.systemProxy=(0,ej.U)(em,{http:l,socks5:n})})},children:[(0,u.jsx)(Z.Z,{variant:"outline-primary",className:"w-100",id:"system-proxy-tbg-btn-1",value:1,children:"HTTP"}),(0,u.jsx)(Z.Z,{variant:"outline-primary",className:"w-100",id:"system-proxy-tbg-btn-2",value:2,children:"SOCKS5"})]})})]}),(0,u.jsx)("hr",{}),(0,u.jsx)(g.Z.Title,{className:"mb-2",children:"Logcat"}),(0,u.jsx)(G.Jg,{label:"Save",checked:r.logcat.save,onChange:()=>X(e=>e.logcat.save=!e.logcat.save)}),(0,u.jsx)(eq,{label:"Level",value:r.logcat.level,onChange:e=>X(l=>{l.logcat.level=e})})]})}),(0,u.jsx)(b.Z.Pane,{eventKey:"dns",title:"DNS",children:(0,u.jsx)("fieldset",{disabled:(null==I?void 0:I.os)==="android",children:(0,u.jsx)(N,{data:(0,ej.U)(B,r.dns),onChange:e=>X(l=>l.dns=(0,eC.d)(B,e))})})}),(0,u.jsx)(b.Z.Pane,{eventKey:"inbound",title:"Inbound",children:(0,u.jsx)("fieldset",{disabled:(null==I?void 0:I.os)==="android",children:(0,u.jsx)(eL,{inbounds:(0,ej.U)(z,r.server),onChange:e=>X(l=>l.server=(0,eC.d)(z,e))})})}),(0,u.jsxs)(b.Z.Pane,{eventKey:"info",children:[(0,u.jsx)(y.Vf,{plaintext:!0,mb:"mb-0",label:"Version",value:null!==(e=null==I?void 0:I.version)&&void 0!==e?e:""}),(0,u.jsx)(y.Vf,{url:"https://github.com/yuhaiin/yuhaiin/commit/"+(null==I?void 0:I.commit),plaintext:!0,mb:"mb-0",label:"Commit",value:null!==(l=null==I?void 0:I.commit)&&void 0!==l?l:""}),(0,u.jsx)(y.Vf,{plaintext:!0,mb:"mb-0",label:"Build Time",value:null!==(n=null==I?void 0:I.buildTime)&&void 0!==n?n:""}),(0,u.jsx)(y.Vf,{plaintext:!0,mb:"mb-0",label:"Go Version",value:null!==(a=null==I?void 0:I.goVersion)&&void 0!==a?a:""}),(0,u.jsx)(y.Vf,{url:"https://github.com/yuhaiin/yuhaiin",plaintext:!0,mb:"mb-0",label:"Github",value:"yuhaiin/yuhaiin"}),(0,u.jsx)(y.Vf,{plaintext:!0,mb:"mb-0",label:"OS",value:null!==(s=null==I?void 0:I.os)&&void 0!==s?s:""}),(0,u.jsx)(y.Vf,{plaintext:!0,mb:"mb-0",label:"Arch",value:null!==(o=null==I?void 0:I.arch)&&void 0!==o?o:""}),(0,u.jsx)(y.Vf,{plaintext:!0,mb:"mb-0",label:"Compiler",value:null!==(t=null==I?void 0:I.compiler)&&void 0!==t?t:""}),(0,u.jsx)(y.Vf,{plaintext:!0,mb:"mb-0",label:"Platform",value:null!==(i=null==I?void 0:I.platform)&&void 0!==i?i:""}),(0,u.jsx)(y.sr,{title:"Build",data:null==I?void 0:I.build,mb:"mb-0"})]})]})}),(null==I?void 0:I.os)!="android"&&(0,u.jsx)(g.Z.Footer,{className:"d-flex justify-content-md-end",children:(0,u.jsx)(C.Z,{variant:"outline-primary",onClick:()=>{(0,S.Uo)("/config",{body:(0,eO.O)(eg,r)}).then(async e=>{let{error:l}=e;void 0!==l?c.Error("save config failed, ".concat(l.code,"| ").concat(await l.msg)):(c.Info("Save Config Successfully"),V())})},children:"Save"})})]})})})};function eq(e){return(0,u.jsxs)(v.Z.Group,{as:A.Z,className:"mb-3",children:[(0,u.jsx)(v.Z.Label,{column:!0,sm:2,children:e.label}),(0,u.jsx)(x.Z,{sm:10,children:(0,u.jsxs)(v.Z.Select,{value:c[e.value],onChange:l=>e.onChange(c[l.target.value]),children:[(0,u.jsx)("option",{value:c[c.debug],children:"DEBUG"}),(0,u.jsx)("option",{value:c[c.info],children:"INFO"}),(0,u.jsx)("option",{value:c[c.warning],children:"WARN"}),(0,u.jsx)("option",{value:c[c.error],children:"ERROR"})]})})]})}},1170:function(e,l,n){"use strict";n.d(l,{AQ:function(){return i},GZ:function(){return u},R3:function(){return g},aq:function(){return m},c0:function(){return v},jS:function(){return h},q6:function(){return c},sj:function(){return b},xJ:function(){return t}});var a,s,o,t,i,c,r=n(200),d=n(9320);let u=(0,r.l)("Chpjb25maWcvYnlwYXNzL2J5cGFzcy5wcm90bxIOeXVoYWlpbi5ieXBhc3Mi9QIKBmNvbmZpZxIhCgN0Y3AYAyABKA4yFC55dWhhaWluLmJ5cGFzcy5tb2RlEiEKA3VkcBgEIAEoDjIULnl1aGFpaW4uYnlwYXNzLm1vZGUSJAoLYnlwYXNzX2ZpbGUYAiABKAlCAhgBUgtieXBhc3NfZmlsZRJPCg51ZHBfcHJveHlfZnFkbhgGIAEoDjInLnl1aGFpaW4uYnlwYXNzLnVkcF9wcm94eV9mcWRuX3N0cmF0ZWd5Ug51ZHBfcHJveHlfZnFkbhJDCg5jdXN0b21fcnVsZV92MxgHIAMoCzIbLnl1aGFpaW4uYnlwYXNzLm1vZGVfY29uZmlnUg5jdXN0b21fcnVsZV92MxI/CgxyZW1vdGVfcnVsZXMYCCADKAsyGy55dWhhaWluLmJ5cGFzcy5yZW1vdGVfcnVsZVIMcmVtb3RlX3J1bGVzEigKD3Jlc29sdmVfbG9jYWxseRgJIAEoCFIPcmVzb2x2ZV9sb2NhbGx5IpQDCgttb2RlX2NvbmZpZxIiCgRtb2RlGAEgASgOMhQueXVoYWlpbi5ieXBhc3MubW9kZRILCgN0YWcYAiABKAkSEAoIaG9zdG5hbWUYAyADKAkSTAoQcmVzb2x2ZV9zdHJhdGVneRgEIAEoDjIgLnl1aGFpaW4uYnlwYXNzLnJlc29sdmVfc3RyYXRlZ3lSEHJlc29sdmVfc3RyYXRlZ3kSYQoXdWRwX3Byb3h5X2ZxZG5fc3RyYXRlZ3kYBiABKA4yJy55dWhhaWluLmJ5cGFzcy51ZHBfcHJveHlfZnFkbl9zdHJhdGVneVIXdWRwX3Byb3h5X2ZxZG5fc3RyYXRlZ3kSSQoKZXJyb3JfbXNncxgHIAMoCzIqLnl1aGFpaW4uYnlwYXNzLm1vZGVfY29uZmlnLkVycm9yTXNnc0VudHJ5UgllcnJvcl9tc2caMAoORXJyb3JNc2dzRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4AUoECAUQBlIOdWRwX3Byb3h5X2ZxZG4i+QEKC3JlbW90ZV9ydWxlEg8KB2VuYWJsZWQYASABKAgSDAoEbmFtZRgCIAEoCRIwCgRmaWxlGAMgASgLMiAueXVoYWlpbi5ieXBhc3MucmVtb3RlX3J1bGVfZmlsZUgAEjAKBGh0dHAYBCABKAsyIC55dWhhaWluLmJ5cGFzcy5yZW1vdGVfcnVsZV9odHRwSAASHAoJZXJyb3JfbXNnGAUgASgJUgllcnJvcl9tc2cSPwoMZGVmYXVsdF9tb2RlGAYgASgLMhsueXVoYWlpbi5ieXBhc3MubW9kZV9jb25maWdSDGRlZmF1bHRfbW9kZUIICgZvYmplY3QiIAoQcmVtb3RlX3J1bGVfZmlsZRIMCgRwYXRoGAEgASgJIi8KEHJlbW90ZV9ydWxlX2h0dHASCwoDdXJsGAEgASgJEg4KBm1ldGhvZBgCIAEoCSo0CgRtb2RlEgoKBmJ5cGFzcxAAEgoKBmRpcmVjdBABEgkKBXByb3h5EAISCQoFYmxvY2sQAypfChByZXNvbHZlX3N0cmF0ZWd5EgsKB2RlZmF1bHQQABIPCgtwcmVmZXJfaXB2NBABEg0KCW9ubHlfaXB2NBACEg8KC3ByZWZlcl9pcHY2EAMSDQoJb25seV9pcHY2EAQqXQoXdWRwX3Byb3h5X2ZxZG5fc3RyYXRlZ3kSIwofdWRwX3Byb3h5X2ZxZG5fc3RyYXRlZ3lfZGVmYXVsdBAAEgsKB3Jlc29sdmUQARIQCgxza2lwX3Jlc29sdmUQAkI3WjVnaXRodWIuY29tL0FzdXRvcnVmYS95dWhhaWluL3BrZy9wcm90b3MvY29uZmlnL2J5cGFzc2IGcHJvdG8z"),h=(0,d.L)(u,0),b=(0,d.L)(u,1),g=(0,d.L)(u,2),m=(0,d.L)(u,3),v=(0,d.L)(u,4);(a=t||(t={}))[a.bypass=0]="bypass",a[a.direct=1]="direct",a[a.proxy=2]="proxy",a[a.block=3]="block",(s=i||(i={}))[s.default=0]="default",s[s.prefer_ipv4=1]="prefer_ipv4",s[s.only_ipv4=2]="only_ipv4",s[s.prefer_ipv6=3]="prefer_ipv6",s[s.only_ipv6=4]="only_ipv6",(o=c||(c={}))[o.udp_proxy_fqdn_strategy_default=0]="udp_proxy_fqdn_strategy_default",o[o.resolve=1]="resolve",o[o.skip_resolve=2]="skip_resolve"}},function(e){e.O(0,[986,256,466,262,364,210,484,100,971,23,744],function(){return e(e.s=2280)}),_N_E=e.O()}]);