(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[518],{1754:(e,s,a)=>{"use strict";a.d(s,{u:()=>r});var l=a(95155),n=a(28468),t=a(60902);let r=e=>{let{onOk:s,content:a,show:r,onHide:o}=e;return(0,l.jsxs)(n.A,{show:r,onHide:o,centered:!0,children:[(0,l.jsx)(n.A.Body,{children:a}),(0,l.jsxs)(n.A.Footer,{children:[(0,l.jsx)(t.A,{variant:"outline-secondary",onClick:()=>{o()},children:"Cancel"}),(0,l.jsx)(t.A,{variant:"outline-danger",onClick:()=>{s(),o()},children:"OK"})]})]})}},24951:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>b});var l=a(95155),n=a(20960),t=a(71464),r=a(12115),o=a(76355),c=a(60902),i=a(91867),d=a(1754),u=a(74086),m=a(98508),h=a(92358),x=a(66835),j=a(61453),v=a(13697);let b=function(){let e=(0,r.useContext)(x.u),[s,a]=(0,r.useState)(!1),{data:b,error:g,isLoading:C,mutate:p}=(0,m.mp)(j.RR.method.get,{revalidateOnFocus:!1}),y=(0,r.useCallback)(e=>{p(s=>({...s,instanceName:e}),!1)},[p]),f=(0,r.useCallback)(e=>{p(s=>({...s,s3:{...s.s3,endpointUrl:e}}),!1)},[p]),k=(0,r.useCallback)(e=>{p(s=>({...s,s3:{...s.s3,accessKey:e}}),!1)},[p]),A=(0,r.useCallback)(e=>{p(s=>({...s,s3:{...s.s3,secretKey:e}}),!1)},[p]),N=(0,r.useCallback)(e=>{p(s=>({...s,s3:{...s.s3,region:e}}),!1)},[p]),S=(0,r.useCallback)(e=>{p(s=>({...s,s3:{...s.s3,bucket:e}}),!1)},[p]),w=(0,r.useCallback)(()=>{p(e=>({...e,s3:{...e.s3,usePathStyle:!e.s3.usePathStyle}}),!1)},[p]),E=(0,r.useCallback)(()=>{p(e=>({...e,s3:{...e.s3,enabled:!e.s3.enabled}}),!1)},[p]),R=(0,r.useCallback)(()=>{a(!0),(0,m.kP)(j.RR.method.save,b).then(async s=>{let{error:a}=s;void 0!==a?e.Error("save config failed, ".concat(a.code,"| ").concat(a.msg)):(e.Info("Save Config Successfully"),p())}).finally(()=>a(!1))},[b,p,e,a]),F=(0,r.useCallback)(()=>{a(!0),(0,m.kP)(j.RR.method.backup,(0,n.v)(t.v,{})).then(async s=>{let{error:a}=s;void 0!==a?e.Error("backup config failed, ".concat(a.code,"| ").concat(a.msg)):e.Info("Backup Config Successfully")}).finally(()=>a(!1))},[e,a]),P=(0,r.useCallback)(()=>{a(!0),(0,m.kP)(j.RR.method.restore,(0,n.v)(j.EB,{all:!0})).then(async s=>{let{error:a}=s;void 0!==a?e.Error("restore config failed, ".concat(a.code,"| ").concat(a.msg)):e.Info("Restore Config Successfully")}).finally(()=>a(!1))},[e,a]),[B,I]=(0,r.useState)(!1),K=(0,r.useCallback)(()=>{I(e=>!e)},[I]);return void 0!==g?(0,l.jsx)(u.$,{statusCode:g.code,title:g.msg}):C||!b?(0,l.jsx)(u.A,{}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.u,{show:B,content:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("p",{children:"Are you sure you want to restore, this will override all config?"})}),onOk:P,onHide:K}),(0,l.jsxs)(o.A,{children:[(0,l.jsxs)(o.A.Body,{children:[(0,l.jsx)(v.a9,{label:"Instance Name",value:b.instanceName,onChange:y}),(0,l.jsx)("hr",{}),(0,l.jsx)(o.A.Title,{children:"S3"}),(0,l.jsx)(h.$d,{label:"Enabled",checked:b.s3.enabled,onChange:E}),(0,l.jsx)(v.a9,{label:"Endpoint Url",value:b.s3.endpointUrl,onChange:f}),(0,l.jsx)(h.$d,{label:"Use Path Style",checked:b.s3.usePathStyle,onChange:w}),(0,l.jsx)(v.a9,{label:"Bucket",value:b.s3.bucket,onChange:S}),(0,l.jsx)(v.a9,{label:"Region",value:b.s3.region,onChange:N}),(0,l.jsx)(v.a9,{label:"Access Key",password:!0,value:b.s3.accessKey,onChange:k}),(0,l.jsx)(v.a9,{label:"Secret Key",password:!0,value:b.s3.secretKey,onChange:A})]}),(0,l.jsxs)(o.A.Footer,{className:"d-flex justify-content-md-end",children:[(0,l.jsxs)(c.A,{variant:"outline-success",onClick:F,disabled:s,children:[(0,l.jsx)("i",{className:"bi bi-save"})," Backup Now",s&&(0,l.jsxs)(l.Fragment,{children:["\xa0",(0,l.jsx)(i.A,{size:"sm",animation:"border",variant:"primary"})]})]}),(0,l.jsxs)(c.A,{className:"ms-2",variant:"outline-info",onClick:K,disabled:s,children:[(0,l.jsx)("i",{className:"bi bi-arrow-clockwise"})," Restore Now",s&&(0,l.jsxs)(l.Fragment,{children:["\xa0",(0,l.jsx)(i.A,{size:"sm",animation:"border",variant:"primary"})]})]}),(0,l.jsxs)(c.A,{className:"ms-2",variant:"outline-primary",onClick:R,disabled:s,children:[(0,l.jsx)("i",{className:"bi bi-floppy"})," Save",s&&(0,l.jsxs)(l.Fragment,{children:["\xa0",(0,l.jsx)(i.A,{size:"sm",animation:"border",variant:"primary"})]})]})]})]})]})}},28700:(e,s,a)=>{Promise.resolve().then(a.bind(a,24951))},66835:(e,s,a)=>{"use strict";a.d(s,{u:()=>o,y:()=>c});var l=a(95155),n=a(12115),t=a(99376),r=a(66215);let o=(0,n.createContext)({Info:e=>{console.log(e)},Error:e=>{console.error(e)}}),c=e=>{let{children:s}=e,[a,c]=(0,n.useState)({value:{},index:0}),i=(e,s)=>c(a=>({value:{...a.value,[a.index]:{text:e,type:s}},index:a.index+1}));return(0,l.jsxs)(o.Provider,{value:{Info:e=>{console.log(e),i(e,"success")},Error:e=>{console.error(e),i(e,"danger")}},children:[(0,l.jsx)(t.A,{className:"p-3",position:"top-center",containerPosition:"fixed",style:{zIndex:999999},children:Object.entries(a.value).map(e=>{let[s,a]=e;return(0,l.jsxs)(r.A,{role:"alert","aria-live":"assertive",show:!0,bg:a.type,onClose:()=>{c(e=>{let a={...e.value};return delete a[s],{...e,value:a}})},"aria-atomic":"true",delay:4e3,autohide:!0,animation:!0,children:[(0,l.jsxs)(r.A.Header,{children:[(0,l.jsx)("strong",{className:"me-auto",children:"Notification"}),(0,l.jsx)("small",{className:"text-muted",children:"just now"})]}),(0,l.jsx)(r.A.Body,{className:"text-center",children:a.text})]},"toast"+s)})}),s]})}},92358:(e,s,a)=>{"use strict";a.d(s,{$d:()=>c,FX:()=>u,Vx:()=>i,no:()=>d});var l=a(95155),n=a(12115),t=a(98054),r=a(11846),o=a(68136);let c=n.memo(e=>{let{label:s,checked:a,onChange:n,className:c}=e;return(0,l.jsxs)(t.A.Group,{as:r.A,className:c,children:[(0,l.jsx)(t.A.Label,{column:!0,sm:2,children:s}),(0,l.jsx)(o.A,{sm:10,className:"d-flex align-items-center",children:(0,l.jsx)(t.A.Check,{className:"d-flex align-items-center",type:"switch",checked:a,onChange:e=>n(e.target.checked)})})]})}),i=n.memo(e=>{let{...s}=e,a=(0,n.useCallback)(e=>s.onChange(Number(e.target.value)),[s]),c=(0,n.useMemo)(()=>{var e;return s.type.values.filter(null!=(e=s.filter)?e:()=>!0)},[s.type,s.filter]);return(0,l.jsxs)(t.A.Group,{as:r.A,className:s.lastElem?"":"mb-2",children:[(0,l.jsx)(t.A.Label,{column:!0,sm:2,children:s.label}),(0,l.jsx)(o.A,{sm:10,children:(0,l.jsxs)(t.A.Select,{value:s.value,onChange:a,children:[(0,l.jsx)(()=>s.emptyChoose?(0,l.jsx)("option",{value:"",children:"Choose..."}):(0,l.jsx)(l.Fragment,{}),{}),c.map(e=>(0,l.jsx)("option",{value:e.number,children:s.format?s.format(e.number):e.name},e.number))]})})]})}),d=n.memo(e=>{let{label:s,values:a,onChange:n,value:c,emptyChoose:i,lastElem:d}=e;return(0,l.jsxs)(t.A.Group,{as:r.A,className:d?"":"mb-2",children:[(0,l.jsx)(t.A.Label,{column:!0,sm:2,children:s}),(0,l.jsx)(o.A,{sm:10,children:(0,l.jsxs)(t.A.Select,{value:c,onChange:e=>n(e.target.value),children:[i&&(0,l.jsx)("option",{value:"",children:"Choose..."}),a.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})})]})}),u=n.memo(e=>{let{values:s,onChange:a,value:n,emptyChoose:r,format:o}=e;return(0,l.jsxs)(t.A.Select,{value:n,onChange:e=>a(e.target.value),children:[r&&(0,l.jsx)("option",{value:"",children:"Choose..."}),s.map(e=>{let s="string"==typeof e?e:e[0],a="string"==typeof e?e:e[1];return(0,l.jsx)("option",{value:a,children:o?o(s):s},s)})]})})}},e=>{var s=s=>e(e.s=s);e.O(0,[3528,11,601,3779,5453,1085,6077,2702,5309,626,1453,8441,1684,7358],()=>s(28700)),_N_E=e.O()}]);