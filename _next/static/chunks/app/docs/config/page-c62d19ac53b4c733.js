(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[347],{2280:function(e,n,t){Promise.resolve().then(t.bind(t,401))},4971:function(e,n,t){"use strict";t.d(n,{$f:function(){return d},XE:function(){return m},YO:function(){return i},fG:function(){return s},gU:function(){return o},gW:function(){return h},qQ:function(){return a},r:function(){return u},rQ:function(){return r},zP:function(){return c}});var s="",a="https://raw.githubusercontent.com/yuhaiin/kitte/main/yuhaiin/remote.conf",r="https://clients3.google.com/generate_204",o="dns.nextdns.io:853",i=!0;let l=()=>{let e=localStorage.getItem("api_url");s=null!==e?e:"",null!==(e=localStorage.getItem("remote_bypass"))&&(a=e),null!==(e=localStorage.getItem("latency_http_url"))&&(r=e),null!==(e=localStorage.getItem("latency_dns_url"))&&(o=e),null!==(e=localStorage.getItem("latency_ipv6"))&&(i="true"===e)},u=e=>{p("api_url",e)},c=e=>{p("remote_bypass",e)},d=e=>{p("latency_dns_url",e)},m=e=>{p("latency_http_url",e)},h=e=>{p("latency_ipv6",e.toString())},p=(e,n)=>{""===n?localStorage.removeItem(e):localStorage.setItem(e,n),l()};l()},716:function(e,n,t){"use strict";var s=t(7437),a=t(2514),r=t(6264),o=t.n(r);n.Z=function(e){return(0,s.jsxs)("div",{className:"z-1090 d-flex flex-column justify-content-center align-items-center",style:{height:"100px"},children:[void 0!==e.children&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(o(),{className:"p2",statusCode:void 0!==e.code?e.code:500,title:e.children})}),(0,s.jsx)("div",{className:"p2",children:(0,s.jsx)(a.Z,{})})]})}},879:function(e,n,t){"use strict";t.d(n,{D:function(){return a},U:function(){return r}});var s=t(4971);function a(e,n,t){return a=>fetch("".concat(s.fG).concat(a),{method:n,body:t}).then(async n=>{if(!n.ok)throw{code:n.status,msg:n.statusText,raw:n.text()};return e.fromBinary(new Uint8Array(await n.arrayBuffer()))})}let r=async(e,n)=>{let t=await fetch("".concat(s.fG).concat(e),{method:void 0!==n.method?n.method:"POST",body:n.body});return t.ok?void 0===n.process?{}:{data:n.process(t)}:{error:{code:t.status,msg:t.text()}}}},401:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ne}});var s,a,r,o,i,l,u,c,d,m,h,p,v,f,g=t(7437),x=t(2265),y=t(550),w=t(7185),j=t(5014),b=t(7420),k=t(358),C=t(6712),T=t(8977),_=t(844),N=t(2808),J=t(2312),S=t(8727),Z=t(6601),F=t(3256),q=t(1859);(s=c||(c={}))[s.reserve=0]="reserve",s[s.udp=1]="udp",s[s.tcp=2]="tcp",s[s.doh=3]="doh",s[s.dot=4]="dot",s[s.doq=5]="doq",s[s.doh3=6]="doh3",F.w.util.setEnumType(c,"yuhaiin.dns.type",[{no:0,name:"reserve"},{no:1,name:"udp"},{no:2,name:"tcp"},{no:3,name:"doh"},{no:4,name:"dot"},{no:5,name:"doq"},{no:6,name:"doh3"}]);class P extends q.v{static fromBinary(e,n){return new P().fromBinary(e,n)}static fromJson(e,n){return new P().fromJson(e,n)}static fromJsonString(e,n){return new P().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(P,e,n)}constructor(e){super(),this.host="",this.type=0,this.subnet="",this.tlsServername="",F.w.util.initPartial(e,this)}}P.runtime=F.w,P.typeName="yuhaiin.dns.dns",P.fields=F.w.util.newFieldList(()=>[{no:1,name:"host",kind:"scalar",T:9},{no:5,name:"type",kind:"enum",T:F.w.getEnumType(c)},{no:4,name:"subnet",kind:"scalar",T:9},{no:2,name:"tls_servername",jsonName:"tls_servername",kind:"scalar",T:9}]);class B extends q.v{static fromBinary(e,n){return new B().fromBinary(e,n)}static fromJson(e,n){return new B().fromJson(e,n)}static fromJsonString(e,n){return new B().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(B,e,n)}constructor(e){super(),this.server="",this.fakedns=!1,this.fakednsIpRange="",this.fakednsIpv6Range="",this.fakednsWhitelist=[],this.resolveRemoteDomain=!1,this.hosts={},this.resolver={},F.w.util.initPartial(e,this)}}B.runtime=F.w,B.typeName="yuhaiin.dns.dns_config",B.fields=F.w.util.newFieldList(()=>[{no:4,name:"server",kind:"scalar",T:9},{no:5,name:"fakedns",kind:"scalar",T:8},{no:6,name:"fakedns_ip_range",jsonName:"fakedns_ip_range",kind:"scalar",T:9},{no:13,name:"fakedns_ipv6_range",jsonName:"fakedns_ipv6_range",kind:"scalar",T:9},{no:9,name:"fakedns_whitelist",jsonName:"fakedns_whitelist",kind:"scalar",T:9,repeated:!0},{no:7,name:"resolve_remote_domain",jsonName:"resolve_remote_domain",kind:"scalar",T:8},{no:1,name:"remote",kind:"message",T:P},{no:2,name:"local",kind:"message",T:P},{no:3,name:"bootstrap",kind:"message",T:P},{no:8,name:"hosts",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:10,name:"resolver",kind:"map",K:9,V:{kind:"message",T:P}}]);let V=x.memo(e=>{var n,t,s,a,r,o,i,l,u,c,d,m,h,p,v,f,y,w,j,k,C;let[T,_]=(0,x.useState)({key:"",value:""}),F=n=>{n(e.data),e.onChange(e.data)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(S.Vf,{label:"Server",value:e.data.server,onChange:e=>F(n=>n.server=e)}),(0,g.jsx)(S.W2,{title:"FakeDNS",hideClose:!0,children:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Z.J,{label:"Enabled",checked:e.data.fakedns,onChange:()=>F(e=>e.fakedns=!e.fakedns)}),(0,g.jsx)(S.Vf,{label:"IPv4 Range",value:e.data.fakednsIpRange,onChange:e=>F(n=>n.fakednsIpRange=e)}),(0,g.jsx)(S.Vf,{label:"IPv6 Range",value:e.data.fakednsIpv6Range,onChange:e=>F(n=>n.fakednsIpv6Range=e)}),(0,g.jsx)(S.yh,{title:"Whitelist",data:e.data.fakednsWhitelist,onChange:e=>F(n=>{e&&(n.fakednsWhitelist=e)})})]})}),(0,g.jsx)(S.W2,{title:"Local DNS",hideClose:!0,children:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(S.Vf,{label:"Host",value:null!==(h=null===(n=e.data.local)||void 0===n?void 0:n.host)&&void 0!==h?h:"",onChange:e=>F(n=>{void 0!==n.local&&(n.local.host=e)})}),(0,g.jsx)(I,{label:"Type",value:null===(t=e.data.local)||void 0===t?void 0:t.type,onChange:e=>F(n=>{void 0!==n.local&&(n.local.type=e)})}),(0,g.jsx)(S.Vf,{label:"Subnet",value:null!==(p=null===(s=e.data.local)||void 0===s?void 0:s.subnet)&&void 0!==p?p:"",onChange:e=>F(n=>{void 0!==n.local&&(n.local.subnet=e)})}),(0,g.jsx)(S.Vf,{label:"SNI",value:null!==(v=null===(a=e.data.local)||void 0===a?void 0:a.tlsServername)&&void 0!==v?v:"",onChange:e=>F(n=>{void 0!==n.local&&(n.local.tlsServername=e)})})]})}),(0,g.jsx)(S.W2,{title:"Remote DNS",hideClose:!0,children:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Z.J,{label:"Use IP",checked:e.data.resolveRemoteDomain,onChange:()=>F(e=>e.resolveRemoteDomain=!e.resolveRemoteDomain)}),(0,g.jsx)(S.Vf,{label:"Host",value:null!==(f=null===(r=e.data.remote)||void 0===r?void 0:r.host)&&void 0!==f?f:"",onChange:e=>F(n=>{void 0!==n.remote&&(n.remote.host=e)})}),(0,g.jsx)(I,{label:"Type",value:null===(o=e.data.remote)||void 0===o?void 0:o.type,onChange:e=>F(n=>{void 0!==n.remote&&(n.remote.type=e)})}),(0,g.jsx)(S.Vf,{label:"Subnet",value:null!==(y=null===(i=e.data.remote)||void 0===i?void 0:i.subnet)&&void 0!==y?y:"",onChange:e=>F(n=>{void 0!==n.remote&&(n.remote.subnet=e)})}),(0,g.jsx)(S.Vf,{label:"SNI",value:null!==(w=null===(l=e.data.remote)||void 0===l?void 0:l.tlsServername)&&void 0!==w?w:"",onChange:e=>F(n=>{void 0!==n.remote&&(n.remote.tlsServername=e)})})]})}),(0,g.jsx)(S.W2,{title:"Remote DNS",hideClose:!0,children:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(S.Vf,{label:"Host",value:null!==(j=null===(u=e.data.bootstrap)||void 0===u?void 0:u.host)&&void 0!==j?j:"",onChange:e=>F(n=>{void 0!==n.bootstrap&&(n.bootstrap.host=e)})}),(0,g.jsx)(I,{label:"Type",value:null===(c=e.data.bootstrap)||void 0===c?void 0:c.type,onChange:e=>F(n=>{void 0!==n.bootstrap&&(n.bootstrap.type=e)})}),(0,g.jsx)(S.Vf,{label:"Subnet",value:null!==(k=null===(d=e.data.bootstrap)||void 0===d?void 0:d.subnet)&&void 0!==k?k:"",onChange:e=>F(n=>{void 0!==n.bootstrap&&(n.bootstrap.subnet=e)})}),(0,g.jsx)(S.Vf,{label:"SNI",value:null!==(C=null===(m=e.data.bootstrap)||void 0===m?void 0:m.tlsServername)&&void 0!==C?C:"",onChange:e=>F(n=>{void 0!==n.bootstrap&&(n.bootstrap.tlsServername=e)})})]})}),(0,g.jsx)(S.W2,{title:"Hosts",hideClose:!0,children:(0,g.jsxs)(g.Fragment,{children:[Object.entries(e.data.hosts).sort((e,n)=>{let[t]=e,[s]=n;return t>s?-1:1}).map(e=>{let[n,t]=e;return(0,g.jsxs)(J.Z,{className:"mb-2",children:[(0,g.jsx)(b.Z.Control,{readOnly:!0,value:n}),(0,g.jsx)(J.Z.Text,{children:(0,g.jsx)("i",{className:"bi bi-arrow-right"})}),(0,g.jsx)(b.Z.Control,{value:t,onChange:e=>F(t=>t.hosts[n]=e.target.value)}),(0,g.jsx)(N.Z,{variant:"outline-danger",onClick:()=>F(e=>delete e.hosts[n]),children:(0,g.jsx)("i",{className:"bi bi-x-lg"})})]},"hosts"+n)}),(0,g.jsxs)(J.Z,{className:"mb-2",children:[(0,g.jsx)(b.Z.Control,{value:T.key,onChange:e=>_({...T,key:e.target.value})}),(0,g.jsx)(J.Z.Text,{children:(0,g.jsx)("i",{className:"bi bi-arrow-right"})}),(0,g.jsx)(b.Z.Control,{value:T.value,onChange:e=>_({...T,value:e.target.value})}),(0,g.jsx)(N.Z,{variant:"outline-success",onClick:()=>{""!==T.key&&void 0===e.data.hosts[T.key]&&F(e=>e.hosts[T.key]=T.value)},children:(0,g.jsx)("i",{className:"bi bi-plus-lg"})})]})]})})]})});function I(e){var n;return(0,g.jsxs)(b.Z.Group,{as:k.Z,className:"mb-3",children:[(0,g.jsx)(b.Z.Label,{column:!0,sm:2,children:e.label}),(0,g.jsx)(C.Z,{sm:10,children:(0,g.jsx)(b.Z.Select,{value:c[null!==(n=e.value)&&void 0!==n?n:c.udp],onChange:n=>e.onChange(c[n.target.value]),children:F.w.getEnumType(c).values.filter(e=>0!==e.no).map(e=>(0,g.jsx)("option",{value:c[e.no],children:e.name},e.no))})})]})}(a=d||(d={}))[a.bypass=0]="bypass",a[a.direct=1]="direct",a[a.proxy=2]="proxy",a[a.block=3]="block",F.w.util.setEnumType(d,"yuhaiin.bypass.mode",[{no:0,name:"bypass"},{no:1,name:"direct"},{no:2,name:"proxy"},{no:3,name:"block"}]),(r=m||(m={}))[r.default=0]="default",r[r.prefer_ipv4=1]="prefer_ipv4",r[r.only_ipv4=2]="only_ipv4",r[r.prefer_ipv6=3]="prefer_ipv6",r[r.only_ipv6=4]="only_ipv6",F.w.util.setEnumType(m,"yuhaiin.bypass.resolve_strategy",[{no:0,name:"default"},{no:1,name:"prefer_ipv4"},{no:2,name:"only_ipv4"},{no:3,name:"prefer_ipv6"},{no:4,name:"only_ipv6"}]),(o=h||(h={}))[o.udp_proxy_fqdn_strategy_default=0]="udp_proxy_fqdn_strategy_default",o[o.resolve=1]="resolve",o[o.skip_resolve=2]="skip_resolve",F.w.util.setEnumType(h,"yuhaiin.bypass.udp_proxy_fqdn_strategy",[{no:0,name:"udp_proxy_fqdn_strategy_default"},{no:1,name:"resolve"},{no:2,name:"skip_resolve"}]);class L extends q.v{static fromBinary(e,n){return new L().fromBinary(e,n)}static fromJson(e,n){return new L().fromJson(e,n)}static fromJsonString(e,n){return new L().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(L,e,n)}constructor(e){super(),this.tcp=0,this.udp=0,this.bypassFile="",this.udpProxyFqdn=0,this.customRuleV3=[],F.w.util.initPartial(e,this)}}L.runtime=F.w,L.typeName="yuhaiin.bypass.bypass_config",L.fields=F.w.util.newFieldList(()=>[{no:3,name:"tcp",kind:"enum",T:F.w.getEnumType(d)},{no:4,name:"udp",kind:"enum",T:F.w.getEnumType(d)},{no:2,name:"bypass_file",jsonName:"bypass_file",kind:"scalar",T:9},{no:6,name:"udp_proxy_fqdn",jsonName:"udp_proxy_fqdn",kind:"enum",T:F.w.getEnumType(h)},{no:7,name:"custom_rule_v3",jsonName:"custom_rule_v3",kind:"message",T:E,repeated:!0}]);class E extends q.v{static fromBinary(e,n){return new E().fromBinary(e,n)}static fromJson(e,n){return new E().fromJson(e,n)}static fromJsonString(e,n){return new E().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(E,e,n)}constructor(e){super(),this.mode=0,this.tag="",this.hostname=[],this.resolveStrategy=0,this.udpProxyFqdnStrategy=0,F.w.util.initPartial(e,this)}}E.runtime=F.w,E.typeName="yuhaiin.bypass.mode_config",E.fields=F.w.util.newFieldList(()=>[{no:1,name:"mode",kind:"enum",T:F.w.getEnumType(d)},{no:2,name:"tag",kind:"scalar",T:9},{no:3,name:"hostname",kind:"scalar",T:9,repeated:!0},{no:4,name:"resolve_strategy",jsonName:"resolve_strategy",kind:"enum",T:F.w.getEnumType(m)},{no:6,name:"udp_proxy_fqdn_strategy",jsonName:"udp_proxy_fqdn_strategy",kind:"enum",T:F.w.getEnumType(h)}]),new L({tcp:d.bypass,udp:d.bypass,bypassFile:"yuhaiin.conf",customRuleV3:[]});let D=x.memo(e=>{let n=new E({hostname:["www.example.com"],mode:d.proxy,tag:"",resolveStrategy:m.default}),t=n=>{n(e.bypass),e.onChange(e.bypass)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(H,{label:"TCP",network:!0,value:e.bypass.tcp,onChange:e=>t(n=>n.tcp=e)}),(0,g.jsx)(H,{label:"UDP",network:!0,value:e.bypass.udp,onChange:e=>t(n=>n.udp=e)}),(0,g.jsx)(S.Vf,{label:"Bypass File",value:e.bypass.bypassFile,onChange:e=>t(n=>n.bypassFile=e)}),(0,g.jsx)(Z.J,{label:"Udp proxy Fqdn",checked:e.bypass.udpProxyFqdn===h.skip_resolve,onChange:()=>t(e=>e.udpProxyFqdn=e.udpProxyFqdn===h.skip_resolve?h.resolve:h.skip_resolve)}),(0,g.jsx)("hr",{}),e.bypass.customRuleV3.map((e,n)=>(0,g.jsx)(S.W2,{title:""!==e.tag?e.tag:d[e.mode],onClose:()=>t(e=>e.customRuleV3.splice(n,1)),children:(0,g.jsx)(R,{config:e,onChange:e=>t(t=>t.customRuleV3[n]=e)})},"rule"+n)),(0,g.jsx)("div",{className:"d-flex mb-2",children:(0,g.jsxs)(N.Z,{className:"flex-grow-1",variant:"outline-success",onClick:()=>t(e=>e.customRuleV3.push(n)),children:[(0,g.jsx)("i",{className:"bi bi-plus-lg mb-2"}),"New Rule"]})})]})}),R=e=>{let n=n=>{n(e.config),e.onChange(e.config)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(H,{label:"Mode",network:!1,value:e.config.mode,onChange:e=>n(n=>n.mode=e)}),(0,g.jsx)(S.Vf,{label:"Tag",value:e.config.tag,onChange:e=>n(n=>n.tag=e)}),(0,g.jsx)(K,{label:"Resolve Strategy",value:e.config.resolveStrategy,onChange:e=>n(n=>n.resolveStrategy=e)}),(0,g.jsx)(U,{label:"UDP proxy Fqdn",value:e.config.udpProxyFqdnStrategy,onChange:e=>n(n=>n.udpProxyFqdnStrategy=e)}),(0,g.jsx)(S.yh,{title:"IP/DOMAIN",data:e.config.hostname,onChange:e=>n(n=>{e&&(n.hostname=e)})})]})};function H(e){return(0,g.jsxs)(b.Z.Group,{as:k.Z,className:"mb-3",children:[(0,g.jsx)(b.Z.Label,{column:!0,sm:2,children:e.label}),(0,g.jsx)(C.Z,{sm:10,children:(0,g.jsxs)(b.Z.Select,{value:d[e.value],onChange:n=>e.onChange(d[n.target.value]),children:[e.network&&(0,g.jsx)("option",{value:d[d.bypass],children:"BYPASS"}),(0,g.jsx)("option",{value:d[d.direct],children:"DIRECT"}),(0,g.jsx)("option",{value:d[d.proxy],children:"PROXY"}),(0,g.jsx)("option",{value:d[d.block],children:"BLOCK"})]})})]})}function U(e){return(0,g.jsxs)(b.Z.Group,{as:k.Z,className:"mb-3",children:[(0,g.jsx)(b.Z.Label,{column:!0,sm:2,children:e.label}),(0,g.jsx)(C.Z,{sm:10,children:(0,g.jsxs)(b.Z.Select,{value:h[e.value],onChange:n=>e.onChange(h[n.target.value]),children:[(0,g.jsx)("option",{value:h[h.udp_proxy_fqdn_strategy_default],children:"Global"}),(0,g.jsx)("option",{value:h[h.resolve],children:"Resolve"}),(0,g.jsx)("option",{value:h[h.skip_resolve],children:"Skip"})]})})]})}function K(e){return(0,g.jsxs)(b.Z.Group,{as:k.Z,className:"mb-3",children:[(0,g.jsx)(b.Z.Label,{column:!0,sm:2,children:e.label}),(0,g.jsx)(C.Z,{sm:10,children:(0,g.jsxs)(b.Z.Select,{value:m[e.value],onChange:n=>e.onChange(m[n.target.value]),children:[(0,g.jsx)("option",{value:m[m.default],children:"default"}),(0,g.jsx)("option",{value:m[m.prefer_ipv4],children:"prefer_ipv4"}),(0,g.jsx)("option",{value:m[m.only_ipv4],children:"only_ipv4"}),(0,g.jsx)("option",{value:m[m.prefer_ipv6],children:"prefer_ipv6"}),(0,g.jsx)("option",{value:m[m.only_ipv6],children:"only_ipv6"})]})})]})}var G=t(9912);(i=p||(p={}))[i.tcp_udp_control_all=0]="tcp_udp_control_all",i[i.disable_tcp=1]="disable_tcp",i[i.disable_udp=2]="disable_udp",F.w.util.setEnumType(p,"yuhaiin.listener.tcp_udp_control",[{no:0,name:"tcp_udp_control_all"},{no:1,name:"disable_tcp"},{no:2,name:"disable_udp"}]);class O extends q.v{static fromBinary(e,n){return new O().fromBinary(e,n)}static fromJson(e,n){return new O().fromJson(e,n)}static fromJsonString(e,n){return new O().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(O,e,n)}constructor(e){super(),this.hijackDns=!1,this.hijackDnsFakeip=!1,this.servers={},this.inbounds={},F.w.util.initPartial(e,this)}}O.runtime=F.w,O.typeName="yuhaiin.listener.inbound_config",O.fields=F.w.util.newFieldList(()=>[{no:2,name:"hijack_dns",jsonName:"hijack_dns",kind:"scalar",T:8},{no:3,name:"hijack_dns_fakeip",jsonName:"hijack_dns_fakeip",kind:"scalar",T:8},{no:5,name:"servers",kind:"map",K:9,V:{kind:"message",T:M}},{no:1,name:"inbounds",kind:"map",K:9,V:{kind:"message",T:W}},{no:4,name:"sniff",kind:"message",T:ex}]);class W extends q.v{static fromBinary(e,n){return new W().fromBinary(e,n)}static fromJson(e,n){return new W().fromJson(e,n)}static fromJsonString(e,n){return new W().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(W,e,n)}constructor(e){super(),this.name="",this.enabled=!1,this.network={case:void 0},this.transport=[],this.protocol={case:void 0},F.w.util.initPartial(e,this)}}W.runtime=F.w,W.typeName="yuhaiin.listener.inbound",W.fields=F.w.util.newFieldList(()=>[{no:13,name:"name",kind:"scalar",T:9},{no:14,name:"enabled",kind:"scalar",T:8},{no:21,name:"empty",kind:"message",T:z,oneof:"network"},{no:15,name:"tcpudp",kind:"message",T:Y,oneof:"network"},{no:16,name:"quic",kind:"message",T:X,oneof:"network"},{no:2,name:"transport",kind:"message",T:A,repeated:!0},{no:3,name:"http",kind:"message",T:$,oneof:"protocol"},{no:4,name:"socks5",kind:"message",T:ee,oneof:"protocol"},{no:7,name:"yuubinsya",kind:"message",T:ei,oneof:"protocol"},{no:8,name:"mix",jsonName:"mixed",kind:"message",T:et,oneof:"protocol"},{no:9,name:"socks4a",kind:"message",T:en,oneof:"protocol"},{no:20,name:"tproxy",kind:"message",T:ea,oneof:"protocol"},{no:18,name:"redir",kind:"message",T:es,oneof:"protocol"},{no:19,name:"tun",kind:"message",T:er,oneof:"protocol"}]);class A extends q.v{static fromBinary(e,n){return new A().fromBinary(e,n)}static fromJson(e,n){return new A().fromJson(e,n)}static fromJsonString(e,n){return new A().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(A,e,n)}constructor(e){super(),this.transport={case:void 0},F.w.util.initPartial(e,this)}}A.runtime=F.w,A.typeName="yuhaiin.listener.transport",A.fields=F.w.util.newFieldList(()=>[{no:12,name:"normal",kind:"message",T:eu,oneof:"transport"},{no:1,name:"tls",kind:"message",T:em,oneof:"transport"},{no:2,name:"mux",kind:"message",T:Q,oneof:"transport"},{no:5,name:"http2",kind:"message",T:ep,oneof:"transport"},{no:6,name:"websocket",kind:"message",T:ec,oneof:"transport"},{no:11,name:"grpc",kind:"message",T:eh,oneof:"transport"},{no:10,name:"reality",kind:"message",T:ev,oneof:"transport"}]);class M extends q.v{static fromBinary(e,n){return new M().fromBinary(e,n)}static fromJson(e,n){return new M().fromJson(e,n)}static fromJsonString(e,n){return new M().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(M,e,n)}constructor(e){super(),this.name="",this.enabled=!1,this.protocol={case:void 0},F.w.util.initPartial(e,this)}}M.runtime=F.w,M.typeName="yuhaiin.listener.protocol",M.fields=F.w.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"enabled",kind:"scalar",T:8},{no:3,name:"http",kind:"message",T:$,oneof:"protocol"},{no:4,name:"socks5",kind:"message",T:ee,oneof:"protocol"},{no:5,name:"redir",kind:"message",T:es,oneof:"protocol"},{no:6,name:"tun",kind:"message",T:er,oneof:"protocol"},{no:7,name:"yuubinsya",kind:"message",T:ei,oneof:"protocol"},{no:8,name:"mix",jsonName:"mixed",kind:"message",T:et,oneof:"protocol"},{no:9,name:"socks4a",kind:"message",T:en,oneof:"protocol"},{no:10,name:"tproxy",kind:"message",T:ea,oneof:"protocol"}]);class z extends q.v{static fromBinary(e,n){return new z().fromBinary(e,n)}static fromJson(e,n){return new z().fromJson(e,n)}static fromJsonString(e,n){return new z().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(z,e,n)}constructor(e){super(),F.w.util.initPartial(e,this)}}z.runtime=F.w,z.typeName="yuhaiin.listener.empty",z.fields=F.w.util.newFieldList(()=>[]);class Q extends q.v{static fromBinary(e,n){return new Q().fromBinary(e,n)}static fromJson(e,n){return new Q().fromJson(e,n)}static fromJsonString(e,n){return new Q().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(Q,e,n)}constructor(e){super(),F.w.util.initPartial(e,this)}}Q.runtime=F.w,Q.typeName="yuhaiin.listener.mux",Q.fields=F.w.util.newFieldList(()=>[]);class Y extends q.v{static fromBinary(e,n){return new Y().fromBinary(e,n)}static fromJson(e,n){return new Y().fromJson(e,n)}static fromJsonString(e,n){return new Y().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(Y,e,n)}constructor(e){super(),this.host="",this.control=0,F.w.util.initPartial(e,this)}}Y.runtime=F.w,Y.typeName="yuhaiin.listener.tcpudp",Y.fields=F.w.util.newFieldList(()=>[{no:1,name:"host",kind:"scalar",T:9},{no:2,name:"control",kind:"enum",T:F.w.getEnumType(p)}]);class X extends q.v{static fromBinary(e,n){return new X().fromBinary(e,n)}static fromJson(e,n){return new X().fromJson(e,n)}static fromJsonString(e,n){return new X().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(X,e,n)}constructor(e){super(),this.host="",F.w.util.initPartial(e,this)}}X.runtime=F.w,X.typeName="yuhaiin.listener.quic2",X.fields=F.w.util.newFieldList(()=>[{no:1,name:"host",kind:"scalar",T:9},{no:3,name:"tls",kind:"message",T:ef}]);class $ extends q.v{static fromBinary(e,n){return new $().fromBinary(e,n)}static fromJson(e,n){return new $().fromJson(e,n)}static fromJsonString(e,n){return new $().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals($,e,n)}constructor(e){super(),this.host="",this.username="",this.password="",F.w.util.initPartial(e,this)}}$.runtime=F.w,$.typeName="yuhaiin.listener.http",$.fields=F.w.util.newFieldList(()=>[{no:1,name:"host",kind:"scalar",T:9},{no:3,name:"username",kind:"scalar",T:9},{no:4,name:"password",kind:"scalar",T:9}]);class ee extends q.v{static fromBinary(e,n){return new ee().fromBinary(e,n)}static fromJson(e,n){return new ee().fromJson(e,n)}static fromJsonString(e,n){return new ee().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(ee,e,n)}constructor(e){super(),this.host="",this.username="",this.password="",this.udp=!1,F.w.util.initPartial(e,this)}}ee.runtime=F.w,ee.typeName="yuhaiin.listener.socks5",ee.fields=F.w.util.newFieldList(()=>[{no:1,name:"host",kind:"scalar",T:9},{no:3,name:"username",kind:"scalar",T:9},{no:4,name:"password",kind:"scalar",T:9},{no:5,name:"udp",kind:"scalar",T:8}]);class en extends q.v{static fromBinary(e,n){return new en().fromBinary(e,n)}static fromJson(e,n){return new en().fromJson(e,n)}static fromJsonString(e,n){return new en().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(en,e,n)}constructor(e){super(),this.host="",this.username="",F.w.util.initPartial(e,this)}}en.runtime=F.w,en.typeName="yuhaiin.listener.socks4a",en.fields=F.w.util.newFieldList(()=>[{no:1,name:"host",kind:"scalar",T:9},{no:2,name:"username",kind:"scalar",T:9}]);class et extends q.v{static fromBinary(e,n){return new et().fromBinary(e,n)}static fromJson(e,n){return new et().fromJson(e,n)}static fromJsonString(e,n){return new et().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(et,e,n)}constructor(e){super(),this.host="",this.username="",this.password="",F.w.util.initPartial(e,this)}}et.runtime=F.w,et.typeName="yuhaiin.listener.mixed",et.fields=F.w.util.newFieldList(()=>[{no:1,name:"host",kind:"scalar",T:9},{no:3,name:"username",kind:"scalar",T:9},{no:4,name:"password",kind:"scalar",T:9}]);class es extends q.v{static fromBinary(e,n){return new es().fromBinary(e,n)}static fromJson(e,n){return new es().fromJson(e,n)}static fromJsonString(e,n){return new es().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(es,e,n)}constructor(e){super(),this.host="",F.w.util.initPartial(e,this)}}es.runtime=F.w,es.typeName="yuhaiin.listener.redir",es.fields=F.w.util.newFieldList(()=>[{no:1,name:"host",kind:"scalar",T:9}]);class ea extends q.v{static fromBinary(e,n){return new ea().fromBinary(e,n)}static fromJson(e,n){return new ea().fromJson(e,n)}static fromJsonString(e,n){return new ea().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(ea,e,n)}constructor(e){super(),this.host="",this.dnsHijacking=!1,this.forceFakeip=!1,F.w.util.initPartial(e,this)}}ea.runtime=F.w,ea.typeName="yuhaiin.listener.tproxy",ea.fields=F.w.util.newFieldList(()=>[{no:1,name:"host",kind:"scalar",T:9},{no:2,name:"dns_hijacking",jsonName:"dns_hijacking",kind:"scalar",T:8},{no:3,name:"force_fakeip",jsonName:"force_fakeip",kind:"scalar",T:8}]);class er extends q.v{static fromBinary(e,n){return new er().fromBinary(e,n)}static fromJson(e,n){return new er().fromJson(e,n)}static fromJsonString(e,n){return new er().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(er,e,n)}constructor(e){super(),this.name="",this.mtu=0,this.gateway="",this.dnsHijacking=!1,this.forceFakeip=!1,this.skipMulticast=!1,this.driver=0,this.portal="",this.portalV6="",this.postUp=[],this.postDown=[],F.w.util.initPartial(e,this)}}er.runtime=F.w,er.typeName="yuhaiin.listener.tun",er.fields=F.w.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"mtu",kind:"scalar",T:5},{no:3,name:"gateway",kind:"scalar",T:9},{no:4,name:"dns_hijacking",jsonName:"dns_hijacking",kind:"scalar",T:8},{no:9,name:"force_fakeip",jsonName:"force_fakeip",kind:"scalar",T:8},{no:6,name:"skip_multicast",jsonName:"skip_multicast",kind:"scalar",T:8},{no:7,name:"driver",kind:"enum",T:F.w.getEnumType(v)},{no:8,name:"portal",kind:"scalar",T:9},{no:11,name:"portal_v6",jsonName:"portal_v6",kind:"scalar",T:9},{no:10,name:"route",kind:"message",T:eo},{no:12,name:"post_up",jsonName:"post_up",kind:"scalar",T:9,repeated:!0},{no:13,name:"post_down",jsonName:"post_down",kind:"scalar",T:9,repeated:!0}]),(l=v||(v={}))[l.fdbased=0]="fdbased",l[l.channel=1]="channel",l[l.system_gvisor=2]="system_gvisor",F.w.util.setEnumType(v,"yuhaiin.listener.tun.endpoint_driver",[{no:0,name:"fdbased"},{no:1,name:"channel"},{no:2,name:"system_gvisor"}]);class eo extends q.v{static fromBinary(e,n){return new eo().fromBinary(e,n)}static fromJson(e,n){return new eo().fromJson(e,n)}static fromJsonString(e,n){return new eo().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(eo,e,n)}constructor(e){super(),this.routes=[],this.excludes=[],F.w.util.initPartial(e,this)}}eo.runtime=F.w,eo.typeName="yuhaiin.listener.route",eo.fields=F.w.util.newFieldList(()=>[{no:1,name:"routes",kind:"scalar",T:9,repeated:!0},{no:2,name:"excludes",kind:"scalar",T:9,repeated:!0}]);class ei extends q.v{static fromBinary(e,n){return new ei().fromBinary(e,n)}static fromJson(e,n){return new ei().fromJson(e,n)}static fromJsonString(e,n){return new ei().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(ei,e,n)}constructor(e){super(),this.host="",this.password="",this.tcpEncrypt=!1,this.udpEncrypt=!1,this.mux=!1,this.protocol={case:void 0},F.w.util.initPartial(e,this)}}ei.runtime=F.w,ei.typeName="yuhaiin.listener.yuubinsya",ei.fields=F.w.util.newFieldList(()=>[{no:1,name:"host",kind:"scalar",T:9},{no:2,name:"password",kind:"scalar",T:9},{no:12,name:"tcp_encrypt",jsonName:"tcp_encrypt",kind:"scalar",T:8},{no:13,name:"udp_encrypt",jsonName:"udp_encrypt",kind:"scalar",T:8},{no:11,name:"mux",kind:"scalar",T:8},{no:3,name:"normal",kind:"message",T:eu,oneof:"protocol"},{no:4,name:"tls",kind:"message",T:em,oneof:"protocol"},{no:5,name:"quic",kind:"message",T:ed,oneof:"protocol"},{no:6,name:"websocket",kind:"message",T:ec,oneof:"protocol"},{no:7,name:"grpc",kind:"message",T:eh,oneof:"protocol"},{no:9,name:"http2",kind:"message",T:ep,oneof:"protocol"},{no:10,name:"reality",kind:"message",T:ev,oneof:"protocol"}]);class el extends q.v{static fromBinary(e,n){return new el().fromBinary(e,n)}static fromJson(e,n){return new el().fromJson(e,n)}static fromJsonString(e,n){return new el().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(el,e,n)}constructor(e){super(),F.w.util.initPartial(e,this)}}el.runtime=F.w,el.typeName="yuhaiin.listener.yuubinsya.protocol_normal",el.fields=F.w.util.newFieldList(()=>[]);class eu extends q.v{static fromBinary(e,n){return new eu().fromBinary(e,n)}static fromJson(e,n){return new eu().fromJson(e,n)}static fromJsonString(e,n){return new eu().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(eu,e,n)}constructor(e){super(),F.w.util.initPartial(e,this)}}eu.runtime=F.w,eu.typeName="yuhaiin.listener.normal",eu.fields=F.w.util.newFieldList(()=>[]);class ec extends q.v{static fromBinary(e,n){return new ec().fromBinary(e,n)}static fromJson(e,n){return new ec().fromJson(e,n)}static fromJsonString(e,n){return new ec().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(ec,e,n)}constructor(e){super(),F.w.util.initPartial(e,this)}}ec.runtime=F.w,ec.typeName="yuhaiin.listener.websocket",ec.fields=F.w.util.newFieldList(()=>[{no:1,name:"tls",kind:"message",T:ef}]);class ed extends q.v{static fromBinary(e,n){return new ed().fromBinary(e,n)}static fromJson(e,n){return new ed().fromJson(e,n)}static fromJsonString(e,n){return new ed().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(ed,e,n)}constructor(e){super(),F.w.util.initPartial(e,this)}}ed.runtime=F.w,ed.typeName="yuhaiin.listener.quic",ed.fields=F.w.util.newFieldList(()=>[{no:1,name:"tls",kind:"message",T:ef}]);class em extends q.v{static fromBinary(e,n){return new em().fromBinary(e,n)}static fromJson(e,n){return new em().fromJson(e,n)}static fromJsonString(e,n){return new em().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(em,e,n)}constructor(e){super(),F.w.util.initPartial(e,this)}}em.runtime=F.w,em.typeName="yuhaiin.listener.tls",em.fields=F.w.util.newFieldList(()=>[{no:1,name:"tls",kind:"message",T:ef}]);class eh extends q.v{static fromBinary(e,n){return new eh().fromBinary(e,n)}static fromJson(e,n){return new eh().fromJson(e,n)}static fromJsonString(e,n){return new eh().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(eh,e,n)}constructor(e){super(),F.w.util.initPartial(e,this)}}eh.runtime=F.w,eh.typeName="yuhaiin.listener.grpc",eh.fields=F.w.util.newFieldList(()=>[{no:1,name:"tls",kind:"message",T:ef}]);class ep extends q.v{static fromBinary(e,n){return new ep().fromBinary(e,n)}static fromJson(e,n){return new ep().fromJson(e,n)}static fromJsonString(e,n){return new ep().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(ep,e,n)}constructor(e){super(),F.w.util.initPartial(e,this)}}ep.runtime=F.w,ep.typeName="yuhaiin.listener.http2",ep.fields=F.w.util.newFieldList(()=>[{no:1,name:"tls",kind:"message",T:ef}]);class ev extends q.v{static fromBinary(e,n){return new ev().fromBinary(e,n)}static fromJson(e,n){return new ev().fromJson(e,n)}static fromJsonString(e,n){return new ev().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(ev,e,n)}constructor(e){super(),this.shortId=[],this.serverName=[],this.dest="",this.privateKey="",this.debug=!1,F.w.util.initPartial(e,this)}}ev.runtime=F.w,ev.typeName="yuhaiin.listener.reality",ev.fields=F.w.util.newFieldList(()=>[{no:1,name:"short_id",jsonName:"short_id",kind:"scalar",T:9,repeated:!0},{no:2,name:"server_name",jsonName:"server_name",kind:"scalar",T:9,repeated:!0},{no:3,name:"dest",kind:"scalar",T:9},{no:4,name:"private_key",jsonName:"private_key",kind:"scalar",T:9},{no:5,name:"debug",kind:"scalar",T:8}]);class ef extends q.v{static fromBinary(e,n){return new ef().fromBinary(e,n)}static fromJson(e,n){return new ef().fromJson(e,n)}static fromJsonString(e,n){return new ef().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(ef,e,n)}constructor(e){super(),this.certificates=[],this.nextProtos=[],this.serverNameCertificate={},F.w.util.initPartial(e,this)}}ef.runtime=F.w,ef.typeName="yuhaiin.listener.tls_config",ef.fields=F.w.util.newFieldList(()=>[{no:1,name:"certificates",kind:"message",T:eg,repeated:!0},{no:3,name:"next_protos",jsonName:"next_protos",kind:"scalar",T:9,repeated:!0},{no:4,name:"server_name_certificate",jsonName:"server_name_certificate",kind:"map",K:9,V:{kind:"message",T:eg}}]);class eg extends q.v{static fromBinary(e,n){return new eg().fromBinary(e,n)}static fromJson(e,n){return new eg().fromJson(e,n)}static fromJsonString(e,n){return new eg().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(eg,e,n)}constructor(e){super(),this.cert=new Uint8Array(0),this.key=new Uint8Array(0),this.certFilePath="",this.keyFilePath="",F.w.util.initPartial(e,this)}}eg.runtime=F.w,eg.typeName="yuhaiin.listener.certificate",eg.fields=F.w.util.newFieldList(()=>[{no:1,name:"cert",kind:"scalar",T:12},{no:2,name:"key",kind:"scalar",T:12},{no:3,name:"cert_file_path",jsonName:"cert_file_path",kind:"scalar",T:9},{no:4,name:"key_file_path",jsonName:"key_file_path",kind:"scalar",T:9}]);class ex extends q.v{static fromBinary(e,n){return new ex().fromBinary(e,n)}static fromJson(e,n){return new ex().fromJson(e,n)}static fromJsonString(e,n){return new ex().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(ex,e,n)}constructor(e){super(),this.enabled=!1,F.w.util.initPartial(e,this)}}ex.runtime=F.w,ex.typeName="yuhaiin.listener.sniff",ex.fields=F.w.util.newFieldList(()=>[{no:1,name:"enabled",kind:"scalar",T:8}]);let ey=x.memo(e=>{let n=n=>{n(e.http),e.onChange(e.http)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(S.Vf,{label:"Host",value:e.http.host,onChange:e=>n(n=>n.host=e)}),(0,g.jsx)(S.Vf,{label:"Username",value:e.http.username,onChange:e=>n(n=>n.username=e)}),(0,g.jsx)(S.Vf,{label:"Password",value:e.http.password,onChange:e=>n(n=>n.password=e)})]})}),ew=x.memo(e=>{let n=n=>{n(e.redir),e.onChange(e.redir)};return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(S.Vf,{label:"Host",value:e.redir.host,onChange:e=>n(n=>n.host=e)})})}),ej=x.memo(e=>{let n=n=>{n(e.tproxy),e.onChange(e.tproxy)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Z.J,{label:"DNS Hijacking",checked:e.tproxy.dnsHijacking,onChange:()=>n(e=>e.dnsHijacking=!e.dnsHijacking)}),(0,g.jsx)(Z.J,{label:"Force Fake IP",checked:e.tproxy.forceFakeip,onChange:()=>n(e=>e.forceFakeip=!e.forceFakeip)}),(0,g.jsx)(S.Vf,{label:"Host",value:e.tproxy.host,onChange:e=>n(n=>n.host=e)})]})}),eb=x.memo(e=>{let n=n=>{n(e.socks5),e.onChange(e.socks5)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(S.Vf,{label:"Host",value:e.socks5.host,onChange:e=>n(n=>n.host=e)}),(0,g.jsx)(S.Vf,{label:"Username",value:e.socks5.username,onChange:e=>n(n=>n.username=e)}),(0,g.jsx)(S.Vf,{label:"Password",value:e.socks5.password,onChange:e=>n(n=>n.password=e)})]})}),ek=x.memo(e=>{let n=n=>{n(e.mixed),e.onChange(e.mixed)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(S.Vf,{label:"Host",value:e.mixed.host,onChange:e=>n(n=>n.host=e)}),(0,g.jsx)(S.Vf,{label:"Username",value:e.mixed.username,onChange:e=>n(n=>n.username=e)}),(0,g.jsx)(S.Vf,{label:"Password",value:e.mixed.password,onChange:e=>n(n=>n.password=e)})]})}),eC=x.memo(e=>{var n,t;let s=n=>{n(e.tun),e.onChange(e.tun)},[a,r]=(0,x.useState)((0,G.v_)(e.tun.postUp)),[o,i]=(0,x.useState)((0,G.v_)(e.tun.postDown));return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Z.J,{checked:e.tun.skipMulticast,onChange:()=>s(e=>e.skipMulticast=!e.skipMulticast),label:"Skip Multicast"}),(0,g.jsx)(S.Vf,{label:"Name",value:e.tun.name,onChange:e=>s(n=>n.name=e)}),(0,g.jsx)(S.Vf,{label:"MTU",value:e.tun.mtu,onChange:e=>s(n=>n.mtu=isNaN(Number(e))?n.mtu:Number(e))}),(0,g.jsx)(S.Vf,{label:"IPv4",value:e.tun.portal,onChange:e=>s(n=>n.portal=e)}),(0,g.jsx)(S.Vf,{label:"IPv6",value:e.tun.portalV6,onChange:e=>s(n=>n.portalV6=e)}),(0,g.jsx)(S.Vf,{label:"Post Up",value:a,onChange:e=>{r(e);try{let n=(0,G.Vl)(e);s(e=>e.postUp=n)}catch(e){console.log(e)}}}),(0,g.jsx)(S.Vf,{label:"Post Down",value:o,onChange:e=>{i(e);try{let n=(0,G.Vl)(e);s(e=>e.postDown=n)}catch(e){console.log(e)}}}),(0,g.jsx)(function(e){return(0,g.jsxs)(b.Z.Group,{as:k.Z,className:"mb-3",children:[(0,g.jsx)(b.Z.Label,{column:!0,sm:2,children:e.label}),(0,g.jsx)(C.Z,{sm:10,children:(0,g.jsxs)(b.Z.Select,{value:v[void 0===e.value||null===e.value?v.fdbased:e.value],onChange:n=>e.onChange(v[n.target.value]),children:[(0,g.jsx)("option",{value:v[v.fdbased],children:"Fdbased"}),(0,g.jsx)("option",{value:v[v.channel],children:"Channel"}),(0,g.jsx)("option",{value:v[v.system_gvisor],children:"System"})]})})]})},{label:"Stack",value:e.tun.driver,onChange:e=>s(n=>n.driver=e)}),(0,g.jsx)(S.yh,{title:"Routes",data:null!==(t=null===(n=e.tun.route)||void 0===n?void 0:n.routes)&&void 0!==t?t:[],onChange:e=>s(n=>{n.route||(n.route=new eo),e||(e=[]),n.route&&(n.route.routes=e)})})]})}),eT=e=>null==e||void 0===e.certificates&&void 0===e.nextProtos&&void 0===e.serverNameCertificate,e_=x.memo(e=>{let n=n=>{n(e.cert),e.onChange(e.cert)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(S.NZ,{label:"Cert",value:new TextDecoder().decode(e.cert.cert),onChange:e=>n(n=>{n.cert=new TextEncoder().encode(e)})}),(0,g.jsx)(S.NZ,{label:"Key",value:new TextDecoder().decode(e.cert.key),onChange:e=>n(n=>{n.key=new TextEncoder().encode(e)})}),(0,g.jsx)(S.Vf,{label:"Cert File",value:e.cert.certFilePath,onChange:e=>n(n=>{n.certFilePath=e})}),(0,g.jsx)(S.Vf,{label:"Key File",value:e.cert.keyFilePath,onChange:e=>n(n=>{n.keyFilePath=e})})]})}),eN=x.memo(e=>{var n,t;let[s,a]=(0,x.useState)("www.example.com"),r=n=>{n(e.tls),e.onChange(e.tls)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(S.yh,{title:"Next Protos",data:null!==(t=null===(n=e.tls)||void 0===n?void 0:n.nextProtos)&&void 0!==t?t:[],onChange:e=>r(n=>{e&&(n.nextProtos=e)})}),e.tls&&e.tls.certificates.map((e,n)=>(0,g.jsx)(w.Z,{className:"mb-2",children:(0,g.jsxs)(w.Z.Body,{children:[(0,g.jsx)(w.Z.Title,{className:"d-flex justify-content-end align-items-center",children:(0,g.jsx)(N.Z,{variant:"outline-danger",onClick:()=>r(e=>{(null==e?void 0:e.certificates)!==void 0&&e.certificates.splice(n,1)}),children:(0,g.jsx)("i",{className:"bi bi-x-lg"})})}),(0,g.jsx)(e_,{cert:new eg(e),onChange:e=>r(t=>{(null==t?void 0:t.certificates)!==void 0&&(t.certificates[n]=e)})})]})},"tls_certificates"+n)),(0,g.jsx)(J.Z,{className:"d-flex justify-content-end mb-2",children:(0,g.jsxs)(N.Z,{variant:"outline-success",onClick:()=>r(e=>{e.certificates.push(new eg({cert:new Uint8Array(0),key:new Uint8Array(0),certFilePath:"",keyFilePath:""}))}),children:[(0,g.jsx)("i",{className:"bi bi-plus-lg"}),"New Certificate"]})}),e.tls&&e.tls.serverNameCertificate&&Object.entries(e.tls.serverNameCertificate).map(e=>{let[n,t]=e;return(0,g.jsx)(w.Z,{className:"mb-2",children:(0,g.jsxs)(w.Z.Body,{children:[(0,g.jsxs)(w.Z.Title,{className:"d-flex justify-content-between align-items-center",children:[n,(0,g.jsx)(N.Z,{variant:"outline-danger",onClick:()=>r(e=>{null==e||delete e.serverNameCertificate[n]}),children:(0,g.jsx)("i",{className:"bi bi-x-lg"})})]}),(0,g.jsx)(e_,{cert:new eg(t),onChange:e=>r(t=>{t.serverNameCertificate[n]=e})})]})},"server_name_certificate"+n)}),(0,g.jsxs)(J.Z,{className:"d-flex justify-content-end",children:[(0,g.jsx)(b.Z.Control,{value:s,onChange:e=>a(e.target.value)}),(0,g.jsxs)(N.Z,{variant:"outline-success",onClick:()=>r(e=>{""!==s&&(e.serverNameCertificate[s]=new eg({}))}),children:[(0,g.jsx)("i",{className:"bi bi-plus-lg"}),"New SNI Certificate"]})]})]})}),eJ=x.memo(e=>{var n;let t=n=>{eT(e.websocket.tls)&&(e.websocket.tls=void 0),n(e.websocket),e.onChange(e.websocket)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(S.Vf,{plaintext:!0,label:"Protocol",value:"Websocket"}),e.websocket.tls&&(0,g.jsx)(eN,{tls:new ef(null!==(n=e.websocket.tls)&&void 0!==n?n:void 0),onChange:e=>t(n=>n.tls=e)})]})}),eS=x.memo(e=>{let n=n=>{eT(e.quic.tls)&&(e.quic.tls=void 0),n(e.quic),e.onChange(e.quic)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(S.Vf,{plaintext:!0,label:"Protocol",value:"QUIC"}),e.quic.tls&&(0,g.jsx)(eN,{tls:new ef(null!==e.quic.tls?e.quic.tls:void 0),onChange:e=>n(n=>n.tls=e)})]})}),eZ=x.memo(e=>{let n=n=>{eT(e.quic.tls)&&(e.quic.tls=void 0),n(e.quic),e.onChange(e.quic)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(S.Vf,{label:"Host",onChange:e=>n(n=>n.host=e),value:e.quic.host}),e.quic.tls&&(0,g.jsx)(eN,{tls:new ef(null!==e.quic.tls?e.quic.tls:void 0),onChange:e=>n(n=>n.tls=e)})]})}),eF=x.memo(e=>{let n=n=>{eT(e.grpc.tls)&&(e.grpc.tls=void 0),n(e.grpc),e.onChange(e.grpc)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(S.Vf,{plaintext:!0,label:"Protocol",value:"GRPC"}),e.grpc.tls&&(0,g.jsx)(eN,{tls:new ef(e.grpc.tls),onChange:e=>n(n=>n.tls=e)})]})}),eq=x.memo(e=>{let n=n=>{eT(e.tls.tls)&&(e.tls.tls=void 0),n(e.tls),e.onChange(e.tls)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(S.Vf,{plaintext:!0,label:"Protocol",value:"TLS"}),e.tls.tls&&(0,g.jsx)(eN,{tls:new ef(e.tls.tls),onChange:e=>n(n=>n.tls=e)})]})}),eP=x.memo(e=>{let n=n=>{eT(e.http2.tls)&&(e.http2.tls=void 0),n(e.http2),e.onChange(e.http2)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(S.Vf,{plaintext:!0,label:"Protocol",value:"HTTP2"}),e.http2.tls&&(0,g.jsx)(eN,{tls:new ef(e.http2.tls),onChange:e=>n(n=>n.tls=e)})]})}),eB=x.memo(e=>{let n=n=>{n(e.reality),e.onChange(e.reality)},[t,s]=(0,x.useState)({value:""}),[a,r]=(0,x.useState)({value:""});return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(S.Vf,{plaintext:!0,label:"Protocol",value:"Reality"}),(0,g.jsx)(S.Vf,{label:"Dest",value:e.reality.dest,onChange:e=>n(n=>n.dest=e)}),(0,g.jsx)(S.Vf,{label:"Private Key",value:e.reality.privateKey,onChange:e=>n(n=>n.privateKey=e)}),(0,g.jsxs)(b.Z.Group,{as:k.Z,className:"mb-3",children:[(0,g.jsx)(b.Z.Label,{column:!0,sm:2,className:"nowrap",children:"Short ID"}),e.reality.shortId.map((e,t)=>(0,g.jsx)(C.Z,{sm:{span:10,offset:0!==t?2:0},children:(0,g.jsxs)(J.Z,{className:"mb-2",children:[(0,g.jsx)(b.Z.Control,{value:e,onChange:e=>n(n=>{n.shortId[t]=e.target.value})}),(0,g.jsx)(N.Z,{variant:"outline-danger",onClick:()=>n(e=>{e.shortId.splice(t,1)}),children:(0,g.jsx)("i",{className:"bi bi-x-lg"})})]})},t)),(0,g.jsx)(C.Z,{sm:{span:10,offset:0!==e.reality.shortId.length?2:0},children:(0,g.jsxs)(J.Z,{className:"mb-2",children:[(0,g.jsx)(b.Z.Control,{value:t.value,onChange:e=>s({value:e.target.value})}),(0,g.jsx)(N.Z,{variant:"outline-success",onClick:()=>n(e=>{e.shortId.push(t.value)}),children:(0,g.jsx)("i",{className:"bi bi-plus-lg"})})]})})]}),(0,g.jsxs)(b.Z.Group,{as:k.Z,className:"mb-3",children:[(0,g.jsx)(b.Z.Label,{column:!0,sm:2,className:"nowrap",children:"Server Name"}),e.reality.serverName.map((e,t)=>(0,g.jsx)(C.Z,{sm:{span:10,offset:0!==t?2:0},children:(0,g.jsxs)(J.Z,{className:"mb-2",children:[(0,g.jsx)(b.Z.Control,{value:e,onChange:e=>n(n=>{n.serverName[t]=e.target.value})}),(0,g.jsx)(N.Z,{variant:"outline-danger",onClick:()=>n(e=>{e.serverName.splice(t,1)}),children:(0,g.jsx)("i",{className:"bi bi-x-lg"})})]})},t)),(0,g.jsx)(C.Z,{sm:{span:10,offset:0!==e.reality.serverName.length?2:0},children:(0,g.jsxs)(J.Z,{className:"mb-2",children:[(0,g.jsx)(b.Z.Control,{value:a.value,onChange:e=>r({value:e.target.value})}),(0,g.jsx)(N.Z,{variant:"outline-success",onClick:()=>n(e=>{e.serverName.push(a.value)}),children:(0,g.jsx)("i",{className:"bi bi-plus-lg"})})]})})]})]})}),eV=x.memo(e=>{let n=n=>{n(e.yuubinsya),e.onChange(e.yuubinsya)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Z.J,{label:"TCP Encrypt",checked:e.yuubinsya.tcpEncrypt,onChange:()=>n(e=>e.tcpEncrypt=!e.tcpEncrypt)}),(0,g.jsx)(Z.J,{label:"UDP Encrypt",checked:e.yuubinsya.udpEncrypt,onChange:()=>n(e=>e.udpEncrypt=!e.udpEncrypt)}),(0,g.jsx)(Z.J,{label:"Mux",checked:e.yuubinsya.mux,onChange:()=>n(e=>e.mux=!e.mux)}),(0,g.jsx)(S.Vf,{label:"Host",value:e.yuubinsya.host,onChange:e=>n(n=>n.host=e)}),(0,g.jsx)(S.Vf,{label:"Password",value:e.yuubinsya.password,onChange:e=>n(n=>n.password=e)}),(()=>{switch(e.yuubinsya.protocol.case){case"websocket":return(0,g.jsx)(eJ,{websocket:new ec(e.yuubinsya.protocol.value),onChange:e=>n(n=>n.protocol.value=e)});case"quic":return(0,g.jsx)(eS,{quic:new ed(e.yuubinsya.protocol.value),onChange:e=>n(n=>n.protocol.value=e)});case"grpc":return(0,g.jsx)(eF,{grpc:new eh(e.yuubinsya.protocol.value),onChange:e=>n(n=>n.protocol.value=e)});case"http2":return(0,g.jsx)(eP,{http2:new ep(e.yuubinsya.protocol.value),onChange:e=>n(n=>n.protocol.value=e)});case"reality":return(0,g.jsx)(eB,{reality:new ev(e.yuubinsya.protocol.value),onChange:e=>n(n=>n.protocol.value=e)});case"tls":return(0,g.jsx)(eq,{tls:new em(e.yuubinsya.protocol.value),onChange:e=>n(n=>n.protocol.value=e)})}})()]})}),eI=x.memo(e=>{let n=n=>{n(e.protocol),e.onChange(e.protocol)};switch(e.protocol.protocol.case){case"http":return(0,g.jsx)(ey,{http:new $(e.protocol.protocol.value),onChange:e=>n(n=>n.protocol.value=e)});case"socks5":return(0,g.jsx)(eb,{socks5:new ee(e.protocol.protocol.value),onChange:e=>n(n=>n.protocol.value=e)});case"mix":return(0,g.jsx)(ek,{mixed:new et(e.protocol.protocol.value),onChange:e=>n(n=>n.protocol.value=e)});case"redir":return(0,g.jsx)(ew,{redir:new es(e.protocol.protocol.value),onChange:e=>n(n=>n.protocol.value=e)});case"tun":return(0,g.jsx)(eC,{tun:new er(e.protocol.protocol.value),onChange:e=>n(n=>n.protocol.value=e)});case"yuubinsya":return(0,g.jsx)(eV,{yuubinsya:new ei(e.protocol.protocol.value),onChange:e=>n(n=>n.protocol.value=e)});case"tproxy":return(0,g.jsx)(ej,{tproxy:new ea(e.protocol.protocol.value),onChange:e=>n(n=>n.protocol.value=e)})}return(0,g.jsx)(g.Fragment,{})}),eL=x.memo(e=>{let n=n=>{n(e.server),e.onChange(e.server)};return(0,g.jsx)(g.Fragment,{children:Object.entries(e.server.servers).sort((e,n)=>e[0]<=n[0]?-1:1).map(e=>{let[t,s]=e;return(0,g.jsxs)("div",{children:[(0,g.jsxs)(w.Z.Title,{className:"d-flex justify-content-between align-items-center",children:[t,(0,g.jsx)(N.Z,{variant:"outline-danger",onClick:()=>n(e=>{e.servers&&delete e.servers[t]}),children:(0,g.jsx)("i",{className:"bi bi-x-lg"})})]}),(0,g.jsx)(Z.J,{label:"Enabled",checked:s.enabled,onChange:()=>n(e=>e.servers[t].enabled=!e.servers[t].enabled)}),(0,g.jsx)(eI,{protocol:new M(s),onChange:e=>n(n=>n.servers[t]=e)})]},t)})})});var eE=t(716),eD=t(1159),eR=t(1617),eH=t(879),eU=t(6264),eK=t.n(eU);(u=f||(f={}))[u.verbose=0]="verbose",u[u.debug=1]="debug",u[u.info=2]="info",u[u.warning=3]="warning",u[u.error=4]="error",u[u.fatal=5]="fatal",F.w.util.setEnumType(f,"yuhaiin.log.log_level",[{no:0,name:"verbose"},{no:1,name:"debug"},{no:2,name:"info"},{no:3,name:"warning"},{no:4,name:"error"},{no:5,name:"fatal"}]);class eG extends q.v{static fromBinary(e,n){return new eG().fromBinary(e,n)}static fromJson(e,n){return new eG().fromJson(e,n)}static fromJsonString(e,n){return new eG().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(eG,e,n)}constructor(e){super(),this.level=0,this.save=!1,F.w.util.initPartial(e,this)}}eG.runtime=F.w,eG.typeName="yuhaiin.log.logcat",eG.fields=F.w.util.newFieldList(()=>[{no:1,name:"level",kind:"enum",T:F.w.getEnumType(f)},{no:2,name:"save",kind:"scalar",T:8}]);class eO extends q.v{static fromBinary(e,n){return new eO().fromBinary(e,n)}static fromJson(e,n){return new eO().fromJson(e,n)}static fromJsonString(e,n){return new eO().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(eO,e,n)}constructor(e){super(),this.ipv6=!1,this.netInterface="",F.w.util.initPartial(e,this)}}eO.runtime=F.w,eO.typeName="yuhaiin.config.setting",eO.fields=F.w.util.newFieldList(()=>[{no:7,name:"ipv6",kind:"scalar",T:8},{no:6,name:"net_interface",jsonName:"net_interface",kind:"scalar",T:9},{no:1,name:"system_proxy",jsonName:"system_proxy",kind:"message",T:eW},{no:2,name:"bypass",kind:"message",T:L},{no:4,name:"dns",kind:"message",T:B},{no:5,name:"server",kind:"message",T:O},{no:8,name:"logcat",kind:"message",T:eG}]);class eW extends q.v{static fromBinary(e,n){return new eW().fromBinary(e,n)}static fromJson(e,n){return new eW().fromJson(e,n)}static fromJsonString(e,n){return new eW().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(eW,e,n)}constructor(e){super(),this.http=!1,this.socks5=!1,F.w.util.initPartial(e,this)}}eW.runtime=F.w,eW.typeName="yuhaiin.config.system_proxy",eW.fields=F.w.util.newFieldList(()=>[{no:2,name:"http",kind:"scalar",T:8},{no:3,name:"socks5",kind:"scalar",T:8}]);class eA extends q.v{static fromBinary(e,n){return new eA().fromBinary(e,n)}static fromJson(e,n){return new eA().fromJson(e,n)}static fromJsonString(e,n){return new eA().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(eA,e,n)}constructor(e){super(),this.version="",this.commit="",this.buildTime="",this.goVersion="",this.arch="",this.platform="",this.os="",this.compiler="",this.build=[],F.w.util.initPartial(e,this)}}eA.runtime=F.w,eA.typeName="yuhaiin.config.info",eA.fields=F.w.util.newFieldList(()=>[{no:1,name:"version",kind:"scalar",T:9},{no:2,name:"commit",kind:"scalar",T:9},{no:3,name:"build_time",jsonName:"build_time",kind:"scalar",T:9},{no:4,name:"go_version",jsonName:"go_version",kind:"scalar",T:9},{no:5,name:"arch",kind:"scalar",T:9},{no:6,name:"platform",kind:"scalar",T:9},{no:7,name:"os",kind:"scalar",T:9},{no:8,name:"compiler",kind:"scalar",T:9},{no:9,name:"build",kind:"scalar",T:9,repeated:!0}]);class eM extends q.v{static fromBinary(e,n){return new eM().fromBinary(e,n)}static fromJson(e,n){return new eM().fromJson(e,n)}static fromJsonString(e,n){return new eM().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(eM,e,n)}constructor(e){super(),this.interfaces=[],F.w.util.initPartial(e,this)}}eM.runtime=F.w,eM.typeName="yuhaiin.tools.Interfaces",eM.fields=F.w.util.newFieldList(()=>[{no:1,name:"interfaces",kind:"message",T:ez,repeated:!0}]);class ez extends q.v{static fromBinary(e,n){return new ez().fromBinary(e,n)}static fromJson(e,n){return new ez().fromJson(e,n)}static fromJsonString(e,n){return new ez().fromJsonString(e,n)}static equals(e,n){return F.w.util.equals(ez,e,n)}constructor(e){super(),this.name="",this.addresses=[],F.w.util.initPartial(e,this)}}ez.runtime=F.w,ez.typeName="yuhaiin.tools.Interface",ez.fields=F.w.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"addresses",kind:"scalar",T:9,repeated:!0}]);var eQ=t(9882),eY=t(4694);function eX(e,n){return n?function(t){t(e),n(e)}:function(e){}}let e$=e=>(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(eQ.Z,{show:e.show,scrollable:!0,"aria-labelledby":"contained-modal-title-vcenter",size:"xl",onHide:()=>{e.onHide()},centered:!0,children:[(0,g.jsx)(eQ.Z.Header,{children:(0,g.jsx)(eQ.Z.Title,{id:"contained-modal-title-vcenter",children:e.value.name})}),(0,g.jsx)(eQ.Z.Body,{children:(0,g.jsx)(e1,{inbound:e.value,onChange:e.onChange})}),(0,g.jsx)(eQ.Z.Footer,{children:(0,g.jsx)(N.Z,{variant:"outline-primary",onClick:()=>{e.onHide()},children:"Save"})})]})}),e0=e=>{var n;let t=eX(e.inbounds,e.onChange),[s,a]=(0,x.useState)({show:!1,inbound:new W({}),onChange:e=>{}}),[r,o]=(0,x.useState)({value:""});return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(e$,{show:s.show,value:s.inbound,onHide:()=>{a({...s,show:!1})},onChange:s.onChange}),(0,g.jsx)(Z.J,{label:"DNS Hijack",checked:!!e.inbounds.hijackDns,onChange:()=>t(e=>e.hijackDns=!e.hijackDns)}),(0,g.jsx)(Z.J,{label:"Fakedns",checked:!!e.inbounds.hijackDnsFakeip,onChange:()=>t(e=>e.hijackDnsFakeip=!e.hijackDnsFakeip)}),(0,g.jsx)(Z.J,{label:"Sniff",checked:null!==(n=e.inbounds.sniff)&&void 0!==n&&!!n.enabled,onChange:()=>t(e=>{var n;return e.sniff=new ex({enabled:!(null===(n=e.sniff)||void 0===n?void 0:n.enabled)})})}),(0,g.jsx)("hr",{}),(0,g.jsxs)(w.Z,{children:[(0,g.jsx)(w.Z.Header,{children:"Inbounds"}),0===Object.keys(e.inbounds.inbounds).length?(0,g.jsx)(w.Z.Body,{children:(0,g.jsx)("div",{className:"text-center my-2",style:{opacity:"0.4"},children:"No Inbounds"})}):(0,g.jsx)(eY.Z,{variant:"flush",children:Object.entries(e.inbounds.inbounds).sort((e,n)=>e[0]<=n[0]?-1:1).map(e=>{let[n,s]=e;return(0,g.jsx)(x.Fragment,{children:(0,g.jsxs)(eY.Z.Item,{action:!0,className:"d-flex justify-content-between align-items-center",style:{border:"0ch",borderBottom:"1px solid #dee2e6"},onClick:e=>{e.stopPropagation(),a({show:!0,inbound:s,onChange:e=>{t(t=>t.inbounds[n]=e)}})},children:[n,(0,g.jsx)(N.Z,{variant:"outline-danger",size:"sm",as:"span",onClick:e=>{e.stopPropagation(),t(e=>{delete e.inbounds[n]})},children:(0,g.jsx)("i",{className:"bi bi-x-lg"})},n+"span-button")]})},"inbounds-"+n)})}),(0,g.jsx)(w.Z.Footer,{children:(0,g.jsxs)(J.Z,{className:"d-flex justify-content-end",children:[(0,g.jsx)(b.Z.Control,{value:r.value,onChange:e=>o({value:e.target.value})}),(0,g.jsxs)(N.Z,{variant:"outline-success",onClick:()=>{""!==r.value&&void 0===e.inbounds.inbounds[r.value]&&t(e=>e.inbounds[r.value]=new W({name:r.value}))},children:[(0,g.jsx)("i",{className:"bi bi-plus-lg"}),"New "]})]})})]})]})},e1=e=>{let n=eX(e.inbound,e.onChange),t=(t,s)=>{e.inbound.transport.length<=1||t&&0===s||!t&&s===e.inbound.transport.length-1||n(e=>{let n=e.transport[s];e.transport[s]=e.transport[s+(t?-1:1)],e.transport[s+(t?-1:1)]=n})},[s,a]=(0,x.useState)({value:"normal"});return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Z.J,{label:"Enabled",checked:e.inbound.enabled,onChange:()=>{n(e=>e.enabled=!e.enabled)}}),(0,g.jsx)(S.Vf,{label:"Name",value:e.inbound.name,onChange:e=>{n(n=>n.name=e)}}),(0,g.jsx)(S.W2,{title:"Network",hideClose:!0,children:(0,g.jsx)(e2,{inbound:e.inbound,onChange:e=>{n(n=>e)}})}),(0,g.jsx)(S.W2,{title:"Transport",hideClose:!0,children:(0,g.jsxs)(g.Fragment,{children:[e.inbound.transport.map((s,a)=>{var r,o;return(0,g.jsx)(S.W2,{title:null!==(o=null===(r=s.transport.case)||void 0===r?void 0:r.toString())&&void 0!==o?o:"",onClose:()=>{n(e=>e.transport.splice(a,1))},moveUpDown:new S.kx(e.inbound.transport.length,a,e=>t(e,a)),children:(0,g.jsx)(e4,{transport:s,onChange:e=>{n(n=>n.transport[a]=e)}},a)},a)}),(0,g.jsx)(eY.Z,{variant:"flush",children:(0,g.jsx)(eY.Z.Item,{children:(0,g.jsxs)(J.Z,{children:[(0,g.jsx)(b.Z.Select,{value:s.value,onChange:e=>a({value:e.target.value}),children:["normal","tls","mux","http2","websocket","grpc","reality"].map(e=>(0,g.jsx)("option",{value:e,children:e},e))}),(0,g.jsxs)(N.Z,{variant:"outline-success",onClick:()=>n(e=>{switch(s.value){case"normal":e.transport.push(new A({transport:{case:"normal",value:new eu({})}}));break;case"tls":e.transport.push(new A({transport:{case:"tls",value:new em({tls:new ef({})})}}));break;case"mux":e.transport.push(new A({transport:{case:"mux",value:new Q({})}}));break;case"http2":e.transport.push(new A({transport:{case:"http2",value:new ep({})}}));break;case"websocket":e.transport.push(new A({transport:{case:"websocket",value:new ec({})}}));break;case"grpc":e.transport.push(new A({transport:{case:"grpc",value:new eh({})}}));break;case"reality":e.transport.push(new A({transport:{case:"reality",value:new ev({})}}))}}),children:[(0,g.jsx)("i",{className:"bi bi-plus-lg"}),"Add"]})]})})})]})}),(0,g.jsx)(S.W2,{title:"Protocol",hideClose:!0,children:(0,g.jsx)(e3,{inbound:e.inbound,onChange:e=>{n(n=>e)}})})]})},e2=e=>{var n,t;let s=eX(e.inbound,e.onChange),[a,r]=(0,x.useState)({value:null!==(t=null===(n=e.inbound.network.case)||void 0===n?void 0:n.toString())&&void 0!==t?t:"tcpudp"});return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(eY.Z,{variant:"flush",children:(0,g.jsx)(eY.Z.Item,{children:(0,g.jsxs)(J.Z,{children:[(0,g.jsx)(b.Z.Select,{value:a.value,onChange:e=>r({value:e.target.value}),children:["empty","tcpudp","quic"].map(e=>(0,g.jsx)("option",{value:e,children:e},e))}),(0,g.jsx)(N.Z,{variant:"outline-success",onClick:()=>s(e=>{switch(a.value){case"tcpudp":e.network={case:"tcpudp",value:new Y({})};break;case"quic":e.network={case:"quic",value:new ei({})};break;case"empty":e.network={case:"empty",value:new z({})}}}),children:"Use"})]})})}),(0,g.jsx)("br",{}),(0,g.jsx)(e9,{inbound:e.inbound,onChange:e.onChange})]})},e9=e=>{let n=eX(e.inbound,e.onChange);switch(e.inbound.network.case){case"tcpudp":return(0,g.jsx)(e5,{protocol:e.inbound.network.value,onChange:e=>{n(n=>n.network.value=e)}});case"quic":return(0,g.jsx)(eZ,{quic:e.inbound.network.value,onChange:e=>{n(n=>n.network.value=e)}});case"empty":return(0,g.jsx)(g.Fragment,{})}},e4=e=>{let n=eX(e.transport,e.onChange);switch(e.transport.transport.case){case"normal":return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("div",{className:"text-center",style:{opacity:"0.4"},children:"Normal"})});case"tls":return(0,g.jsx)(eq,{tls:e.transport.transport.value,onChange:e=>{n(n=>n.transport.value=e)}});case"mux":return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("div",{className:"text-center",style:{opacity:"0.4"},children:"Mux"})});case"http2":return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("div",{className:"text-center",style:{opacity:"0.4"},children:"HTTP2"})});case"websocket":return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("div",{className:"text-center",style:{opacity:"0.4"},children:"Websocket"})});case"grpc":return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("div",{className:"text-center",style:{opacity:"0.4"},children:"Grpc"})});case"reality":return(0,g.jsx)(eB,{reality:e.transport.transport.value,onChange:e=>{n(n=>n.transport.value=e)}})}},e6=e=>{let n=eX(e.inbound,e.onChange);switch(e.inbound.protocol.case){case"http":return(0,g.jsx)(ey,{http:e.inbound.protocol.value,onChange:e=>{n(n=>n.protocol.value=e)}});case"socks5":return(0,g.jsx)(eb,{socks5:e.inbound.protocol.value,onChange:e=>{n(n=>n.protocol.value=e)}});case"socks4a":return(0,g.jsx)(g.Fragment,{});case"mix":return(0,g.jsx)(ek,{mixed:e.inbound.protocol.value,onChange:e=>{n(n=>n.protocol.value=e)}});case"redir":return(0,g.jsx)(ew,{redir:e.inbound.protocol.value,onChange:e=>{n(n=>n.protocol.value=e)}});case"tun":return(0,g.jsx)(eC,{tun:e.inbound.protocol.value,onChange:e=>{n(n=>n.protocol.value=e)}});case"yuubinsya":return(0,g.jsx)(e8,{yuubinsya:e.inbound.protocol.value,onChange:e=>{n(n=>n.protocol.value=e)}});case"tproxy":return(0,g.jsx)(ej,{tproxy:e.inbound.protocol.value,onChange:e=>{n(n=>n.protocol.value=e)}})}},e3=e=>{var n,t;let s=eX(e.inbound,e.onChange),[a,r]=(0,x.useState)({value:null!==(t=null===(n=e.inbound.protocol.case)||void 0===n?void 0:n.toString())&&void 0!==t?t:"yuubinsya"});return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(eY.Z,{variant:"flush",children:(0,g.jsx)(eY.Z.Item,{children:(0,g.jsxs)(J.Z,{children:[(0,g.jsx)(b.Z.Select,{value:a.value,onChange:e=>r({value:e.target.value}),children:["http","socks5","mix","redir","tun","yuubinsya","tproxy"].map(e=>(0,g.jsx)("option",{value:e,children:e},e))}),(0,g.jsx)(N.Z,{variant:"outline-success",onClick:()=>s(e=>{switch(a.value){case"http":e.protocol={case:"http",value:new $({})};break;case"socks5":e.protocol={case:"socks5",value:new ee({})};break;case"mix":e.protocol={case:"mix",value:new et({})};break;case"redir":e.protocol={case:"redir",value:new es({})};break;case"tun":e.protocol={case:"tun",value:new er({})};break;case"yuubinsya":e.protocol={case:"yuubinsya",value:new ei({})};break;case"tproxy":e.protocol={case:"tproxy",value:new ea({})}}}),children:"Use"})]})})}),(0,g.jsx)("br",{}),(0,g.jsx)(e6,{inbound:e.inbound,onChange:e=>{s(n=>e)}})]})},e8=e=>{let n=eX(e.yuubinsya,e.onChange);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Z.J,{label:"TCP Encrypt",checked:e.yuubinsya.tcpEncrypt,onChange:()=>{n(e=>e.tcpEncrypt=!e.tcpEncrypt)}}),(0,g.jsx)(Z.J,{label:"UDP Encrypt",checked:e.yuubinsya.udpEncrypt,onChange:()=>{n(e=>e.udpEncrypt=!e.udpEncrypt)}}),(0,g.jsx)(S.Vf,{label:"Password",value:e.yuubinsya.password,onChange:e=>{n(n=>n.password=e)}})]})},e5=e=>{let n=eX(e.protocol,e.onChange);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(S.Vf,{label:"Host",value:e.protocol.host,onChange:e=>{n(n=>n.host=e)}}),(0,g.jsx)(e7,{label:"Control",type:F.w.getEnumType(p),value:e.protocol.control,onChange:e=>{n(n=>n.control=e)}})]})};function e7(e){var n;return(0,g.jsxs)(b.Z.Group,{as:k.Z,className:"mb-3",children:[(0,g.jsx)(b.Z.Label,{column:!0,sm:2,children:e.label}),(0,g.jsx)(C.Z,{sm:10,children:(0,g.jsx)(b.Z.Select,{value:e.value,onChange:n=>e.onChange(Number(n.target.value)),children:e.type.values.filter(null!==(n=e.filter)&&void 0!==n?n:()=>!0).map(e=>(0,g.jsx)("option",{value:e.no,children:e.name},e.no))})})]})}var ne=function(){var e,n,t,s,a,r,o,i;let l=(0,x.useContext)(eD.P),{data:u,error:c,isLoading:d,mutate:m}=(0,eR.ZP)("/config",(0,eH.D)(new eO),{revalidateOnFocus:!1}),{data:h}=(0,eR.ZP)("/info",(0,eH.D)(new eA),{}),{data:p}=(0,eR.ZP)("/interfaces",(0,eH.D)(new eM),{revalidateOnFocus:!0});if(void 0!==c)return(0,g.jsx)(eK(),{statusCode:c.code,title:c.msg});if(d||void 0===u)return(0,g.jsx)(eE.Z,{});let v=e=>{m(n=>{let t=new eO(n);return e(t),t},!1)},f=e=>{var n,t,s=[];return(null===(n=e.systemProxy)||void 0===n?void 0:n.http)&&s.push(1),(null===(t=e.systemProxy)||void 0===t?void 0:t.socks5)&&s.push(2),s};return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(y.Z.Container,{defaultActiveKey:"home",children:(0,g.jsxs)(w.Z,{className:"mb-3",children:[(0,g.jsx)(w.Z.Header,{children:(0,g.jsxs)(j.Z,{variant:"tabs",style:{flexWrap:"nowrap",overflow:"auto hidden"},children:[(0,g.jsx)(j.Z.Item,{children:(0,g.jsx)(j.Z.Link,{eventKey:"home",children:"Setting"})}),(0,g.jsx)(j.Z.Item,{children:(0,g.jsx)(j.Z.Link,{eventKey:"dns",children:"DNS"})}),(0,g.jsx)(j.Z.Item,{children:(0,g.jsx)(j.Z.Link,{eventKey:"bypass",children:"Bypass"})}),(0,g.jsx)(j.Z.Item,{children:(0,g.jsx)(j.Z.Link,{eventKey:"inbound",children:"Inbound"})}),(0,g.jsx)(j.Z.Item,{children:(0,g.jsx)(j.Z.Link,{eventKey:"inbound_old",children:"Inbound(Deprecated)"})}),(0,g.jsx)(j.Z.Item,{children:(0,g.jsx)(j.Z.Link,{eventKey:"info",children:"Info"})})]})}),(0,g.jsx)(w.Z.Body,{children:(0,g.jsxs)(y.Z.Content,{children:[(0,g.jsx)(y.Z.Pane,{eventKey:"home",children:(0,g.jsxs)("fieldset",{disabled:(null==h?void 0:h.os)==="android",children:[(0,g.jsx)(Z.J,{label:"IPv6",checked:u.ipv6,onChange:()=>m(new eO({...u,ipv6:!u.ipv6}),!1)}),(0,g.jsx)(S.Vf,{label:"Network Interface",value:u.netInterface,onChange:e=>v(n=>n.netInterface=e),reminds:null==p?void 0:p.interfaces.map(e=>{if(e.name){var n;return{label:e.name,value:e.name,label_children:null===(n=e.addresses)||void 0===n?void 0:n.map(e=>e||"")}}}).filter(e=>!!e)}),(0,g.jsxs)(b.Z.Group,{as:k.Z,className:"mb-2",children:[(0,g.jsx)(b.Z.Label,{column:!0,sm:2,className:"nowrap",children:"System Proxy"}),(0,g.jsx)(C.Z,{sm:10,children:(0,g.jsxs)(T.Z,{type:"checkbox",className:"d-flex",defaultValue:f(u),value:f(u),onChange:e=>{let n=!1,t=!1;for(var s of e)1===s&&(n=!0),2===s&&(t=!0);v(e=>{e.systemProxy=new eW({http:n,socks5:t})})},children:[(0,g.jsx)(_.Z,{variant:"outline-primary",className:"w-100",id:"system-proxy-tbg-btn-1",value:1,children:"HTTP"}),(0,g.jsx)(_.Z,{variant:"outline-primary",className:"w-100",id:"system-proxy-tbg-btn-2",value:2,children:"SOCKS5"})]})})]}),(0,g.jsx)("hr",{}),(0,g.jsx)(w.Z.Title,{className:"mb-2",children:"Logcat"}),(0,g.jsx)(Z.J,{label:"Save",checked:u.logcat.save,onChange:()=>v(e=>e.logcat.save=!e.logcat.save)}),(0,g.jsx)(nn,{label:"Level",value:u.logcat.level,onChange:e=>v(n=>{n.logcat.level=e})})]})}),(0,g.jsx)(y.Z.Pane,{eventKey:"bypass",children:(0,g.jsx)("fieldset",{disabled:(null==h?void 0:h.os)==="android",children:(0,g.jsx)(D,{bypass:new L(u.bypass),onChange:e=>v(n=>n.bypass=e)})})}),(0,g.jsx)(y.Z.Pane,{eventKey:"dns",title:"DNS",children:(0,g.jsx)("fieldset",{disabled:(null==h?void 0:h.os)==="android",children:(0,g.jsx)(V,{data:new B(u.dns),onChange:e=>v(n=>n.dns=e)})})}),(0,g.jsx)(y.Z.Pane,{eventKey:"inbound",title:"Inbound",children:(0,g.jsx)("fieldset",{disabled:(null==h?void 0:h.os)==="android",children:(0,g.jsx)(e0,{inbounds:u.server,onChange:e=>{v(n=>n.server=e)}})})}),(0,g.jsx)(y.Z.Pane,{eventKey:"inbound_old",children:(0,g.jsx)("fieldset",{disabled:(null==h?void 0:h.os)==="android",children:(0,g.jsx)(eL,{server:u.server,onChange:e=>v(n=>n.server=e)})})}),(0,g.jsxs)(y.Z.Pane,{eventKey:"info",children:[(0,g.jsx)(S.Vf,{plaintext:!0,mb:"mb-0",label:"Version",value:null!==(e=null==h?void 0:h.version)&&void 0!==e?e:""}),(0,g.jsx)(S.Vf,{url:"https://github.com/yuhaiin/yuhaiin/commit/"+(null==h?void 0:h.commit),plaintext:!0,mb:"mb-0",label:"Commit",value:null!==(n=null==h?void 0:h.commit)&&void 0!==n?n:""}),(0,g.jsx)(S.Vf,{plaintext:!0,mb:"mb-0",label:"Build Time",value:null!==(t=null==h?void 0:h.buildTime)&&void 0!==t?t:""}),(0,g.jsx)(S.Vf,{plaintext:!0,mb:"mb-0",label:"Go Version",value:null!==(s=null==h?void 0:h.goVersion)&&void 0!==s?s:""}),(0,g.jsx)(S.Vf,{url:"https://github.com/yuhaiin/yuhaiin",plaintext:!0,mb:"mb-0",label:"Github",value:"yuhaiin/yuhaiin"}),(0,g.jsx)(S.Vf,{plaintext:!0,mb:"mb-0",label:"OS",value:null!==(a=null==h?void 0:h.os)&&void 0!==a?a:""}),(0,g.jsx)(S.Vf,{plaintext:!0,mb:"mb-0",label:"Arch",value:null!==(r=null==h?void 0:h.arch)&&void 0!==r?r:""}),(0,g.jsx)(S.Vf,{plaintext:!0,mb:"mb-0",label:"Compiler",value:null!==(o=null==h?void 0:h.compiler)&&void 0!==o?o:""}),(0,g.jsx)(S.Vf,{plaintext:!0,mb:"mb-0",label:"Platform",value:null!==(i=null==h?void 0:h.platform)&&void 0!==i?i:""}),(0,g.jsx)(S.sr,{title:"Build",data:null==h?void 0:h.build,mb:"mb-0"})]})]})}),(null==h?void 0:h.os)!="android"&&(0,g.jsx)(w.Z.Footer,{className:"d-flex justify-content-md-end",children:(0,g.jsx)(N.Z,{variant:"outline-primary",onClick:()=>{(0,eH.U)("/config",{body:u.toBinary()}).then(async e=>{let{error:n}=e;void 0!==n?l.Error("save config failed, ".concat(n.code,"| ").concat(await n.msg)):(l.Info("Save Config Successfully"),m())})},children:"Save"})})]})})})};function nn(e){return(0,g.jsxs)(b.Z.Group,{as:k.Z,className:"mb-3",children:[(0,g.jsx)(b.Z.Label,{column:!0,sm:2,children:e.label}),(0,g.jsx)(C.Z,{sm:10,children:(0,g.jsxs)(b.Z.Select,{value:f[e.value],onChange:n=>e.onChange(f[n.target.value]),children:[(0,g.jsx)("option",{value:f[f.debug],children:"DEBUG"}),(0,g.jsx)("option",{value:f[f.info],children:"INFO"}),(0,g.jsx)("option",{value:f[f.warning],children:"WARN"}),(0,g.jsx)("option",{value:f[f.error],children:"ERROR"})]})})]})}}},function(e){e.O(0,[416,113,485,466,262,364,672,498,688,971,23,744],function(){return e(e.s=2280)}),_N_E=e.O()}]);