(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8779],{17338:(e,l,a)=>{"use strict";a.d(l,{O:()=>t,R:()=>o});var n=a(12115),s=a(58227),r=a(98508);let t=(0,n.createContext)([]);function o(){let{data:e}=(0,r.mp)(s.Yl.method.get_interface,{revalidateOnFocus:!1});return e?e.interfaces:[]}},58227:(e,l,a)=>{"use strict";a.d(l,{Yl:()=>c});var n=a(9152),s=a(79241),r=a(71464),t=a(88343);let o=(0,n.w)("ChF0b29scy90b29scy5wcm90bxINeXVoYWlpbi50b29scyI6CgpJbnRlcmZhY2VzEiwKCmludGVyZmFjZXMYASADKAsyGC55dWhhaWluLnRvb2xzLkludGVyZmFjZSIsCglJbnRlcmZhY2USDAoEbmFtZRgBIAEoCRIRCglhZGRyZXNzZXMYAiADKAkiXAoITGljZW5zZXMSJwoHeXVoYWlpbhgBIAMoCzIWLnl1aGFpaW4udG9vbHMuTGljZW5zZRInCgdhbmRyb2lkGAIgAygLMhYueXVoYWlpbi50b29scy5MaWNlbnNlIlcKB0xpY2Vuc2USDAoEbmFtZRgBIAEoCRILCgN1cmwYAiABKAkSDwoHbGljZW5zZRgDIAEoCRIgCgtsaWNlbnNlX3VybBgEIAEoCVILbGljZW5zZV91cmwiEgoDTG9nEgsKA2xvZxgBIAEoCTK9AQoFdG9vbHMSQgoNZ2V0X2ludGVyZmFjZRIWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRoZLnl1aGFpaW4udG9vbHMuSW50ZXJmYWNlcxI7CghsaWNlbnNlcxIWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRoXLnl1aGFpaW4udG9vbHMuTGljZW5zZXMSMwoDbG9nEhYuZ29vZ2xlLnByb3RvYnVmLkVtcHR5GhIueXVoYWlpbi50b29scy5Mb2cwAUI3Wi1naXRodWIuY29tL0FzdXRvcnVmYS95dWhhaWluL3BrZy9wcm90b3MvdG9vbHOSAwXSPgIQA2IIZWRpdGlvbnNw6Ac",[r.t,t.AT]),c=(0,s.Z)(o,0)},63156:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>A});var n=a(95155),s=a(20960),r=a(12115),t=a(76355),o=a(98054),c=a(11846),i=a(68136),u=a(33677),d=a(53298),m=a(60902),v=a(17338),h=a(74086),b=a(98508),x=a(92358),g=a(66835),f=a(98613),C=a(46878),j=a(26386),p=a(13697);let A=function(){var e,l,a,A,y,I,S,k,N,Z,R,E;let G=(0,r.useContext)(g.u),{data:W,error:z,isLoading:B,mutate:L}=(0,b.mp)(C.hF.method.load,{revalidateOnFocus:!1}),w=(0,v.R)(),F=(0,r.useCallback)(()=>{L(e=>({...e,ipv6:!e.ipv6}),!1)},[L]),X=(0,r.useCallback)(e=>{var l,a;if(!e)return[];(null==e?void 0:e.systemProxy)||L(e=>({...e,systemProxy:(0,s.v)(f.Oe,{http:!1,socks5:!1})}),!1);let n=[];return(null==(l=e.systemProxy)?void 0:l.http)&&n.push(1),(null==(a=e.systemProxy)?void 0:a.socks5)&&n.push(2),n},[L]),V=(0,r.useMemo)(()=>X(W),[W,X]),D=(0,r.useCallback)(e=>{let l=!1,a=!1;for(let n of e)1===n&&(l=!0),2===n&&(a=!0);L(e=>({...e,systemProxy:(0,s.v)(f.Oe,{http:l,socks5:a})}),!1)},[L]),M=(0,r.useCallback)(()=>{L(e=>({...e,useDefaultInterface:!e.useDefaultInterface}),!1)},[L]),Y=(0,r.useMemo)(()=>w.map(e=>{var l;if(e.name)return{label:e.name,value:e.name,label_children:null==(l=e.addresses)?void 0:l.map(e=>e||"")}}).filter(e=>!!e),[w]),P=(0,r.useCallback)(e=>{L(l=>({...l,netInterface:e}),!1)},[L]),T=(0,r.useCallback)(e=>{L(l=>({...l,logcat:e(l.logcat)}),!1)},[L]),H=(0,r.useCallback)(e=>{T(l=>({...l,save:e}))},[T]),O=(0,r.useCallback)(e=>{T(l=>({...l,level:e}))},[T]),K=(0,r.useCallback)(e=>e.number!==j.cP.verbose&&e.number!==j.cP.fatal,[]),_=(0,r.useCallback)(e=>{T(l=>({...l,ignoreTimeoutError:e}))},[T]),$=(0,r.useCallback)(e=>{T(l=>({...l,ignoreDnsError:e}))},[T]);(0,r.useEffect)(()=>{W&&(W.advancedConfig||L(e=>({...e,advancedConfig:(0,s.v)(f.vx,{relayBufferSize:4096,udpRingbufferSize:250,udpBufferSize:2048})}),!1))},[W,L]);let J=(0,r.useCallback)(e=>{L(l=>({...l,advancedConfig:{...l.advancedConfig,relayBufferSize:Number(e.target.value)}}),!1)},[L]),U=(0,r.useCallback)(e=>{L(l=>({...l,advancedConfig:{...l.advancedConfig,udpRingbufferSize:Number(e.target.value)}}),!1)},[L]),Q=(0,r.useCallback)(e=>{L(l=>({...l,advancedConfig:{...l.advancedConfig,udpBufferSize:Number(e.target.value)}}),!1)},[L]),q=(0,r.useCallback)(()=>{(0,b.kP)(C.hF.method.save,W).then(async e=>{let{error:l}=e;void 0!==l?G.Error("save config failed, ".concat(l.code,"| ").concat(l.msg)):(G.Info("Save Config Successfully"),L())})},[W,L,G]);return void 0!==z?(0,n.jsx)(h.$,{statusCode:z.code,title:z.msg}):B||void 0===W?(0,n.jsx)(h.A,{}):(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(t.A,{className:"mb-3",children:[(0,n.jsxs)(t.A.Body,{children:[(0,n.jsx)(x.$d,{label:"IPv6",checked:W.ipv6,onChange:F}),(0,n.jsx)(x.$d,{label:"Use Default Interface",checked:W.useDefaultInterface,onChange:M}),(0,n.jsx)(e=>{let{enabled:l}=e;return l?(0,n.jsx)(p.a9,{label:"Network Interface",value:W.netInterface,onChange:P,reminds:Y}):(0,n.jsx)(n.Fragment,{})},{enabled:W.useDefaultInterface}),(0,n.jsxs)(o.A.Group,{as:c.A,className:"mb-2",children:[(0,n.jsx)(o.A.Label,{column:!0,sm:2,className:"nowrap",children:"System Proxy"}),(0,n.jsx)(i.A,{sm:10,children:(0,n.jsxs)(u.A,{type:"checkbox",className:"d-flex",defaultValue:V,value:V,onChange:D,children:[(0,n.jsx)(d.A,{variant:"outline-primary",className:"w-100",id:"system-proxy-tbg-btn-1",value:1,children:"HTTP"}),(0,n.jsx)(d.A,{variant:"outline-primary",className:"w-100",id:"system-proxy-tbg-btn-2",value:2,children:"SOCKS5"})]})})]}),(0,n.jsx)("hr",{}),(0,n.jsx)(t.A.Title,{className:"mb-2",children:"Logcat"}),(0,n.jsx)(x.$d,{label:"Save",checked:W.logcat.save,onChange:H}),(0,n.jsx)(x.Vx,{label:"Level",type:j.LM,value:W.logcat.level,filter:K,onChange:O}),(0,n.jsx)(x.$d,{label:"Ignore Timeout Error",checked:W.logcat.ignoreTimeoutError,onChange:_}),(0,n.jsx)(x.$d,{label:"Ignore DNS Error",checked:W.logcat.ignoreDnsError,onChange:$}),(0,n.jsx)("hr",{}),(0,n.jsx)(t.A.Title,{className:"mb-2",children:"Advanced"}),(0,n.jsxs)(o.A.Label,{children:["UDP Buffer Size (",null!=(S=null==(e=W.advancedConfig)?void 0:e.udpBufferSize)?S:2048," Bytes)"]}),(0,n.jsx)(o.A.Range,{value:null!=(k=null==(l=W.advancedConfig)?void 0:l.udpBufferSize)?k:2048,min:2048,max:65536,step:1024,onChange:Q}),(0,n.jsxs)(o.A.Label,{children:["UDP Ring Buffer Size (",null!=(N=null==(a=W.advancedConfig)?void 0:a.udpRingbufferSize)?N:250,")"]}),(0,n.jsx)(o.A.Range,{value:null!=(Z=null==(A=W.advancedConfig)?void 0:A.udpRingbufferSize)?Z:250,min:100,max:2e3,step:10,onChange:U}),(0,n.jsxs)(o.A.Label,{children:["Relay Buffer Size (",null!=(R=null==(y=W.advancedConfig)?void 0:y.relayBufferSize)?R:4096," Bytes)"]}),(0,n.jsx)(o.A.Range,{value:null!=(E=null==(I=W.advancedConfig)?void 0:I.relayBufferSize)?E:4096,min:2048,max:65536,step:1024,onChange:J})]}),(0,n.jsx)(t.A.Footer,{className:"d-flex justify-content-md-end",children:(0,n.jsx)(m.A,{variant:"outline-primary",onClick:q,children:"Save"})})]})})}},66835:(e,l,a)=>{"use strict";a.d(l,{u:()=>o,y:()=>c});var n=a(95155),s=a(12115),r=a(99376),t=a(66215);let o=(0,s.createContext)({Info:e=>{console.log(e)},Error:e=>{console.error(e)}}),c=e=>{let{children:l}=e,[a,c]=(0,s.useState)({value:{},index:0}),i=(e,l)=>c(a=>({value:{...a.value,[a.index]:{text:e,type:l}},index:a.index+1}));return(0,n.jsxs)(o.Provider,{value:{Info:e=>{console.log(e),i(e,"success")},Error:e=>{console.error(e),i(e,"danger")}},children:[(0,n.jsx)(r.A,{className:"p-3",position:"top-center",containerPosition:"fixed",style:{zIndex:999999},children:Object.entries(a.value).map(e=>{let[l,a]=e;return(0,n.jsxs)(t.A,{role:"alert","aria-live":"assertive",show:!0,bg:a.type,onClose:()=>{c(e=>{let a={...e.value};return delete a[l],{...e,value:a}})},"aria-atomic":"true",delay:4e3,autohide:!0,animation:!0,children:[(0,n.jsxs)(t.A.Header,{children:[(0,n.jsx)("strong",{className:"me-auto",children:"Notification"}),(0,n.jsx)("small",{className:"text-muted",children:"just now"})]}),(0,n.jsx)(t.A.Body,{className:"text-center",children:a.text})]},"toast"+l)})}),l]})}},92358:(e,l,a)=>{"use strict";a.d(l,{$d:()=>c,FX:()=>d,Vx:()=>i,no:()=>u});var n=a(95155),s=a(12115),r=a(98054),t=a(11846),o=a(68136);let c=s.memo(e=>{let{label:l,checked:a,onChange:s,className:c}=e;return(0,n.jsxs)(r.A.Group,{as:t.A,className:c,children:[(0,n.jsx)(r.A.Label,{column:!0,sm:2,children:l}),(0,n.jsx)(o.A,{sm:10,className:"d-flex align-items-center",children:(0,n.jsx)(r.A.Check,{className:"d-flex align-items-center",type:"switch",checked:a,onChange:e=>s(e.target.checked)})})]})}),i=s.memo(e=>{let{...l}=e,a=(0,s.useCallback)(e=>l.onChange(Number(e.target.value)),[l]),c=(0,s.useMemo)(()=>{var e;return l.type.values.filter(null!=(e=l.filter)?e:()=>!0)},[l.type,l.filter]);return(0,n.jsxs)(r.A.Group,{as:t.A,className:l.lastElem?"":"mb-2",children:[(0,n.jsx)(r.A.Label,{column:!0,sm:2,children:l.label}),(0,n.jsx)(o.A,{sm:10,children:(0,n.jsxs)(r.A.Select,{value:l.value,onChange:a,children:[(0,n.jsx)(()=>l.emptyChoose?(0,n.jsx)("option",{value:"",children:"Choose..."}):(0,n.jsx)(n.Fragment,{}),{}),c.map(e=>(0,n.jsx)("option",{value:e.number,children:l.format?l.format(e.number):e.name},e.number))]})})]})}),u=s.memo(e=>{let{label:l,values:a,onChange:s,value:c,emptyChoose:i,lastElem:u}=e;return(0,n.jsxs)(r.A.Group,{as:t.A,className:u?"":"mb-2",children:[(0,n.jsx)(r.A.Label,{column:!0,sm:2,children:l}),(0,n.jsx)(o.A,{sm:10,children:(0,n.jsxs)(r.A.Select,{value:c,onChange:e=>s(e.target.value),children:[i&&(0,n.jsx)("option",{value:"",children:"Choose..."}),a.map(e=>(0,n.jsx)("option",{value:e,children:e},e))]})})]})}),d=s.memo(e=>{let{values:l,onChange:a,value:s,emptyChoose:t,format:o}=e;return(0,n.jsxs)(r.A.Select,{value:s,onChange:e=>a(e.target.value),children:[t&&(0,n.jsx)("option",{value:"",children:"Choose..."}),l.map(e=>{let l="string"==typeof e?e:e[0],a="string"==typeof e?e:e[1];return(0,n.jsx)("option",{value:a,children:o?o(l):l},l)})]})})},96381:(e,l,a)=>{Promise.resolve().then(a.bind(a,63156))}},e=>{var l=l=>e(e.s=l);e.O(0,[3528,11,601,3779,5453,2362,2025,3874,3697,6878,8441,1684,7358],()=>l(96381)),_N_E=e.O()}]);