(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[347],{6320:function(e,t,r){Promise.resolve().then(r.bind(r,2104))},4337:function(e,t,r){"use strict";let o;r.d(t,{f:function(){return s},r:function(){return n}});var s="";let n=e=>{""!==e?localStorage.setItem("api_url",e):localStorage.removeItem("api_url"),s=e};s=null!==(o=localStorage.getItem("api_url"))?o:""},1308:function(e,t,r){"use strict";var o=r(7437),s=r(4860),n=r(1375),a=r.n(n);t.Z=function(e){return(0,o.jsxs)("div",{className:"z-1090 d-flex flex-column justify-content-center align-items-center",style:{height:"100px"},children:[void 0!==e.children&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(a(),{className:"p2",statusCode:void 0!==e.code?e.code:500,title:e.children})}),(0,o.jsx)("div",{className:"p2",children:(0,o.jsx)(s.Z,{})})]})}},6934:function(e,t,r){"use strict";r.d(t,{Dw:function(){return n},Uo:function(){return a},hW:function(){return s}});var o=r(4337);function s(e,t,r){return s=>fetch("".concat(o.f).concat(s),{method:t,body:r}).then(async t=>{if(!t.ok)throw{code:t.status,msg:t.statusText,raw:t.text()};return e.decode(new Uint8Array(await t.arrayBuffer()))})}function n(e,t,r){return s=>fetch("".concat(o.f).concat(s),{method:t,body:r}).then(async t=>{if(!t.ok)throw{code:t.status,msg:t.statusText,raw:t.text()};return JSON.stringify(e.toJSON(e.decode(new Uint8Array(await t.arrayBuffer()))),null,"  ")})}let a=async(e,t)=>{let r=await fetch("".concat(o.f).concat(e),{method:void 0!==t.method?t.method:"POST",body:t.body});return r.ok?void 0===t.process?{}:{data:t.process(r)}:{error:{code:r.status,msg:r.text()}}}},6347:function(e,t,r){"use strict";r.d(t,{P:function(){return l},t:function(){return i}});var o=r(7437),s=r(2265),n=r(8215),a=r(9023);let l=(0,s.createContext)({Info:e=>{},Error:e=>{}}),i=e=>{let{children:t}=e,[r,i]=(0,s.useState)({value:{},index:0}),c=(e,t)=>{i(r=>(r.value[r.index]={text:e,type:t},r.index++,{...r}))};return(0,o.jsxs)(l.Provider,{value:{Info:e=>{console.log(e),c(e,"success")},Error:e=>{console.error(e),c(e,"danger")}},children:[(0,o.jsx)(a.Z,{className:"p-3",position:"top-center",containerPosition:"fixed",style:{zIndex:1},children:Object.entries(r.value).map(e=>{let[t,s]=e;return(0,o.jsxs)(n.Z,{role:"alert","aria-live":"assertive",show:!0,bg:s.type,onClose:()=>{let e=r.value;delete e[t],i({...r,value:e}),console.log("close: "+t)},"aria-atomic":"true",delay:4e3,autohide:!0,animation:!0,children:[(0,o.jsxs)(n.Z.Header,{children:[(0,o.jsx)("strong",{className:"me-auto",children:"Notification"}),(0,o.jsx)("small",{className:"text-muted",children:"just now"})]}),(0,o.jsx)(n.Z.Body,{className:"text-center",children:s.text})]},"toast"+t)})}),t]})}},7601:function(e,t,r){"use strict";r.d(t,{Jg:function(){return c},NZ:function(){return i},Vf:function(){return l}});var o=r(7437),s=r(733),n=r(1329),a=r(4665);let l=e=>(0,o.jsxs)(s.Z.Group,{as:n.Z,className:"mb-3",children:[(0,o.jsx)(s.Z.Label,{column:!0,sm:2,className:"nowrap",children:e.label}),(0,o.jsx)(a.Z,{sm:10,children:(0,o.jsx)(s.Z.Control,{value:e.value,plaintext:e.plaintext,onChange:t=>void 0!==e.onChange&&e.onChange(t.target.value)})})]}),i=e=>(0,o.jsxs)(s.Z.Group,{as:n.Z,className:"mb-3",children:[(0,o.jsx)(s.Z.Label,{column:!0,sm:2,className:"nowrap",children:e.label}),(0,o.jsx)(a.Z,{sm:10,children:(0,o.jsx)(s.Z.Control,{as:"textarea",rows:5,value:e.value,onChange:t=>e.onChange(t.target.value)})})]}),c=e=>(0,o.jsxs)(s.Z.Group,{as:n.Z,className:"mb-3",children:[(0,o.jsx)(s.Z.Label,{column:!0,sm:2,children:e.label}),(0,o.jsx)(a.Z,{sm:10,className:"d-flex align-items-center",children:(0,o.jsx)(s.Z.Check,{className:"d-flex align-items-center",type:"switch",checked:e.checked,onChange:()=>e.onChange()})})]})},2104:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return tl}});var o,s,n,a,l,i,c,u,d,v,p=r(7437),f=r(2265),m=r(733),h=r(3518),b=r(1329),y=r(4665),g=r(4297),k=r(2988),_=r(3877),x=r(3508),j=r(7601),N=r(4481),w=r.n(N);function C(e){switch(e){case 0:case"reserve":return i.reserve;case 1:case"udp":return i.udp;case 2:case"tcp":return i.tcp;case 3:case"doh":return i.doh;case 4:case"dot":return i.dot;case 5:case"doq":return i.doq;case 6:case"doh3":return i.doh3;default:return i.UNRECOGNIZED}}function S(e){switch(e){case i.reserve:return"reserve";case i.udp:return"udp";case i.tcp:return"tcp";case i.doh:return"doh";case i.dot:return"dot";case i.doq:return"doq";case i.doh3:return"doh3";case i.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function O(){return{host:"",type:0,subnet:"",tls_servername:""}}(o=i||(i={}))[o.reserve=0]="reserve",o[o.udp=1]="udp",o[o.tcp=2]="tcp",o[o.doh=3]="doh",o[o.dot=4]="dot",o[o.doq=5]="doq",o[o.doh3=6]="doh3",o[o.UNRECOGNIZED=-1]="UNRECOGNIZED";let Z={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w().Writer.create();return""!==e.host&&t.uint32(10).string(e.host),0!==e.type&&t.uint32(40).int32(e.type),""!==e.subnet&&t.uint32(34).string(e.subnet),""!==e.tls_servername&&t.uint32(18).string(e.tls_servername),t},decode(e,t){let r=e instanceof w().Reader?e:w().Reader.create(e),o=void 0===t?r.len:r.pos+t,s=O();for(;r.pos<o;){let e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.host=r.string();continue;case 5:if(40!==e)break;s.type=r.int32();continue;case 4:if(34!==e)break;s.subnet=r.string();continue;case 2:if(18!==e)break;s.tls_servername=r.string();continue}if((7&e)==4||0===e)break;r.skipType(7&e)}return s},fromJSON:e=>({host:E(e.host)?String(e.host):"",type:E(e.type)?C(e.type):0,subnet:E(e.subnet)?String(e.subnet):"",tls_servername:E(e.tls_servername)?String(e.tls_servername):""}),toJSON(e){let t={};return""!==e.host&&(t.host=e.host),0!==e.type&&(t.type=S(e.type)),""!==e.subnet&&(t.subnet=e.subnet),""!==e.tls_servername&&(t.tls_servername=e.tls_servername),t},create:e=>Z.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,o,s;let n=O();return n.host=null!==(t=e.host)&&void 0!==t?t:"",n.type=null!==(r=e.type)&&void 0!==r?r:0,n.subnet=null!==(o=e.subnet)&&void 0!==o?o:"",n.tls_servername=null!==(s=e.tls_servername)&&void 0!==s?s:"",n}};function J(){return{server:"",fakedns:!1,fakedns_ip_range:"",resolve_remote_domain:!1,remote:void 0,local:void 0,bootstrap:void 0,hosts:{}}}let P={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w().Writer.create();return""!==e.server&&t.uint32(34).string(e.server),!0===e.fakedns&&t.uint32(40).bool(e.fakedns),""!==e.fakedns_ip_range&&t.uint32(50).string(e.fakedns_ip_range),!0===e.resolve_remote_domain&&t.uint32(56).bool(e.resolve_remote_domain),void 0!==e.remote&&Z.encode(e.remote,t.uint32(10).fork()).ldelim(),void 0!==e.local&&Z.encode(e.local,t.uint32(18).fork()).ldelim(),void 0!==e.bootstrap&&Z.encode(e.bootstrap,t.uint32(26).fork()).ldelim(),Object.entries(e.hosts).forEach(e=>{let[r,o]=e;$.encode({key:r,value:o},t.uint32(66).fork()).ldelim()}),t},decode(e,t){let r=e instanceof w().Reader?e:w().Reader.create(e),o=void 0===t?r.len:r.pos+t,s=J();for(;r.pos<o;){let e=r.uint32();switch(e>>>3){case 4:if(34!==e)break;s.server=r.string();continue;case 5:if(40!==e)break;s.fakedns=r.bool();continue;case 6:if(50!==e)break;s.fakedns_ip_range=r.string();continue;case 7:if(56!==e)break;s.resolve_remote_domain=r.bool();continue;case 1:if(10!==e)break;s.remote=Z.decode(r,r.uint32());continue;case 2:if(18!==e)break;s.local=Z.decode(r,r.uint32());continue;case 3:if(26!==e)break;s.bootstrap=Z.decode(r,r.uint32());continue;case 8:if(66!==e)break;let t=$.decode(r,r.uint32());void 0!==t.value&&(s.hosts[t.key]=t.value);continue}if((7&e)==4||0===e)break;r.skipType(7&e)}return s},fromJSON:e=>{var t;return{server:E(e.server)?String(e.server):"",fakedns:!!E(e.fakedns)&&!!e.fakedns,fakedns_ip_range:E(e.fakedns_ip_range)?String(e.fakedns_ip_range):"",resolve_remote_domain:!!E(e.resolve_remote_domain)&&!!e.resolve_remote_domain,remote:E(e.remote)?Z.fromJSON(e.remote):void 0,local:E(e.local)?Z.fromJSON(e.local):void 0,bootstrap:E(e.bootstrap)?Z.fromJSON(e.bootstrap):void 0,hosts:"object"==typeof(t=e.hosts)&&null!==t?Object.entries(e.hosts).reduce((e,t)=>{let[r,o]=t;return e[r]=String(o),e},{}):{}}},toJSON(e){let t={};if(""!==e.server&&(t.server=e.server),!0===e.fakedns&&(t.fakedns=e.fakedns),""!==e.fakedns_ip_range&&(t.fakedns_ip_range=e.fakedns_ip_range),!0===e.resolve_remote_domain&&(t.resolve_remote_domain=e.resolve_remote_domain),void 0!==e.remote&&(t.remote=Z.toJSON(e.remote)),void 0!==e.local&&(t.local=Z.toJSON(e.local)),void 0!==e.bootstrap&&(t.bootstrap=Z.toJSON(e.bootstrap)),e.hosts){let r=Object.entries(e.hosts);r.length>0&&(t.hosts={},r.forEach(e=>{let[r,o]=e;t.hosts[r]=o}))}return t},create:e=>P.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,o,s,n;let a=J();return a.server=null!==(t=e.server)&&void 0!==t?t:"",a.fakedns=null!==(r=e.fakedns)&&void 0!==r&&r,a.fakedns_ip_range=null!==(o=e.fakedns_ip_range)&&void 0!==o?o:"",a.resolve_remote_domain=null!==(s=e.resolve_remote_domain)&&void 0!==s&&s,a.remote=void 0!==e.remote&&null!==e.remote?Z.fromPartial(e.remote):void 0,a.local=void 0!==e.local&&null!==e.local?Z.fromPartial(e.local):void 0,a.bootstrap=void 0!==e.bootstrap&&null!==e.bootstrap?Z.fromPartial(e.bootstrap):void 0,a.hosts=Object.entries(null!==(n=e.hosts)&&void 0!==n?n:{}).reduce((e,t)=>{let[r,o]=t;return void 0!==o&&(e[r]=String(o)),e},{}),a}};function R(){return{key:"",value:""}}let $={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w().Writer.create();return""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t},decode(e,t){let r=e instanceof w().Reader?e:w().Reader.create(e),o=void 0===t?r.len:r.pos+t,s=R();for(;r.pos<o;){let e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.key=r.string();continue;case 2:if(18!==e)break;s.value=r.string();continue}if((7&e)==4||0===e)break;r.skipType(7&e)}return s},fromJSON:e=>({key:E(e.key)?String(e.key):"",value:E(e.value)?String(e.value):""}),toJSON(e){let t={};return""!==e.key&&(t.key=e.key),""!==e.value&&(t.value=e.value),t},create:e=>$.fromPartial(null!=e?e:{}),fromPartial(e){var t,r;let o=R();return o.key=null!==(t=e.key)&&void 0!==t?t:"",o.value=null!==(r=e.value)&&void 0!==r?r:"",o}};function E(e){return null!=e}var T=r(7173);i.udp,i.udp,i.udp;let U=f.memo(e=>{var t,r,o,s,n,a,l,i,c,u,d,v;let[b,y]=(0,f.useState)({key:"",value:""}),k=t=>{e.onChange((0,T.Uy)(e.data,e=>{t(e)}))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(j.Vf,{label:"Server",value:e.data.server,onChange:e=>k(t=>t.server=e)}),(0,p.jsx)("hr",{}),(0,p.jsx)(h.Z.Title,{children:"FakeDNS"}),(0,p.jsx)(j.Jg,{label:"Enabled",checked:e.data.fakedns,onChange:()=>k(e=>e.fakedns=!e.fakedns)}),(0,p.jsx)(j.Vf,{label:"Fake IP Range",value:e.data.fakedns_ip_range,onChange:e=>k(t=>t.fakedns_ip_range=e)}),(0,p.jsx)("hr",{}),(0,p.jsx)(h.Z.Title,{children:"Local DNS"}),(0,p.jsx)(j.Vf,{label:"Host",value:null===(t=e.data.local)||void 0===t?void 0:t.host,onChange:e=>k(t=>{void 0!==t.local&&(t.local.host=e)})}),(0,p.jsx)(I,{label:"Type",value:null===(r=e.data.local)||void 0===r?void 0:r.type,onChange:e=>k(t=>{void 0!==t.local&&(t.local.type=e)})}),(0,p.jsx)(j.Vf,{label:"Subnet",value:null===(o=e.data.local)||void 0===o?void 0:o.subnet,onChange:e=>k(t=>{void 0!==t.local&&(t.local.subnet=e)})}),(0,p.jsx)(j.Vf,{label:"SNI",value:null===(s=e.data.local)||void 0===s?void 0:s.tls_servername,onChange:e=>k(t=>{void 0!==t.local&&(t.local.tls_servername=e)})}),(0,p.jsx)("hr",{}),(0,p.jsx)(h.Z.Title,{children:"Remote DNS"}),(0,p.jsx)(j.Jg,{label:"Use IP",checked:e.data.resolve_remote_domain,onChange:()=>k(e=>e.resolve_remote_domain=!e.resolve_remote_domain)}),(0,p.jsx)(j.Vf,{label:"Host",value:null===(n=e.data.remote)||void 0===n?void 0:n.host,onChange:e=>k(t=>{void 0!==t.remote&&(t.remote.host=e)})}),(0,p.jsx)(I,{label:"Type",value:null===(a=e.data.remote)||void 0===a?void 0:a.type,onChange:e=>k(t=>{void 0!==t.remote&&(t.remote.type=e)})}),(0,p.jsx)(j.Vf,{label:"Subnet",value:null===(l=e.data.remote)||void 0===l?void 0:l.subnet,onChange:e=>k(t=>{void 0!==t.remote&&(t.remote.subnet=e)})}),(0,p.jsx)(j.Vf,{label:"SNI",value:null===(i=e.data.remote)||void 0===i?void 0:i.tls_servername,onChange:e=>k(t=>{void 0!==t.remote&&(t.remote.tls_servername=e)})}),(0,p.jsx)("hr",{}),(0,p.jsx)(h.Z.Title,{children:"Bootstrap DNS"}),(0,p.jsx)(j.Vf,{label:"Host",value:null===(c=e.data.bootstrap)||void 0===c?void 0:c.host,onChange:e=>k(t=>{void 0!==t.bootstrap&&(t.bootstrap.host=e)})}),(0,p.jsx)(I,{label:"Type",value:null===(u=e.data.bootstrap)||void 0===u?void 0:u.type,onChange:e=>k(t=>{void 0!==t.bootstrap&&(t.bootstrap.type=e)})}),(0,p.jsx)(j.Vf,{label:"Subnet",value:null===(d=e.data.bootstrap)||void 0===d?void 0:d.subnet,onChange:e=>k(t=>{void 0!==t.bootstrap&&(t.bootstrap.subnet=e)})}),(0,p.jsx)(j.Vf,{label:"SNI",value:null===(v=e.data.bootstrap)||void 0===v?void 0:v.tls_servername,onChange:e=>k(t=>{void 0!==t.bootstrap&&(t.bootstrap.tls_servername=e)})}),(0,p.jsx)("hr",{}),(0,p.jsx)(h.Z.Title,{children:"Hosts"}),Object.entries(e.data.hosts).map(e=>{let[t,r]=e;return(0,p.jsxs)(x.Z,{className:"mb-2",children:[(0,p.jsx)(m.Z.Control,{readOnly:!0,value:t}),(0,p.jsx)(x.Z.Text,{children:(0,p.jsx)("i",{className:"bi bi-arrow-right"})}),(0,p.jsx)(m.Z.Control,{value:r,onChange:e=>k(r=>r.hosts[t]=e.target.value)}),(0,p.jsx)(g.Z,{variant:"outline-danger",onClick:()=>k(e=>delete e.hosts[t]),children:(0,p.jsx)("i",{className:"bi bi-x-lg"})})]},"hosts"+t)}),(0,p.jsxs)(x.Z,{className:"mb-2",children:[(0,p.jsx)(m.Z.Control,{value:b.key,onChange:e=>y({...b,key:e.target.value})}),(0,p.jsx)(x.Z.Text,{children:(0,p.jsx)("i",{className:"bi bi-arrow-right"})}),(0,p.jsx)(m.Z.Control,{value:b.value,onChange:e=>y({...b,value:e.target.value})}),(0,p.jsx)(g.Z,{variant:"outline-success",onClick:()=>{""!==b.key&&void 0===e.data.hosts[b.key]&&k(e=>e.hosts[b.key]=b.value)},children:(0,p.jsx)("i",{className:"bi bi-plus-lg"})})]})]})});function I(e){return(0,p.jsxs)(m.Z.Group,{as:b.Z,className:"mb-3",children:[(0,p.jsx)(m.Z.Label,{column:!0,sm:2,children:e.label}),(0,p.jsx)(y.Z,{sm:10,children:(0,p.jsxs)(m.Z.Select,{value:S(void 0===e.value?i.udp:e.value),onChange:t=>e.onChange(C(t.target.value)),children:[(0,p.jsx)("option",{value:S(i.udp),children:"UDP"}),(0,p.jsx)("option",{value:S(i.tcp),children:"TCP"}),(0,p.jsx)("option",{value:S(i.doh),children:"DOH"}),(0,p.jsx)("option",{value:S(i.dot),children:"DOT"}),(0,p.jsx)("option",{value:S(i.doq),children:"DOQ"}),(0,p.jsx)("option",{value:S(i.doh3),children:"DOH3"})]})})]})}function D(e){switch(e){case 0:case"bypass":return c.bypass;case 1:case"direct":return c.direct;case 2:case"proxy":return c.proxy;case 3:case"block":return c.block;default:return c.UNRECOGNIZED}}function G(e){switch(e){case c.bypass:return"bypass";case c.direct:return"direct";case c.proxy:return"proxy";case c.block:return"block";case c.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function V(e){switch(e){case 0:case"default":return u.default;case 1:case"prefer_ipv4":return u.prefer_ipv4;case 2:case"only_ipv4":return u.only_ipv4;case 3:case"prefer_ipv6":return u.prefer_ipv6;case 4:case"only_ipv6":return u.only_ipv6;default:return u.UNRECOGNIZED}}function q(e){switch(e){case u.default:return"default";case u.prefer_ipv4:return"prefer_ipv4";case u.only_ipv4:return"only_ipv4";case u.prefer_ipv6:return"prefer_ipv6";case u.only_ipv6:return"only_ipv6";case u.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function W(){return{tcp:0,udp:0,bypass_file:"",custom_rule_v3:[]}}(s=c||(c={}))[s.bypass=0]="bypass",s[s.direct=1]="direct",s[s.proxy=2]="proxy",s[s.block=3]="block",s[s.UNRECOGNIZED=-1]="UNRECOGNIZED",(n=u||(u={}))[n.default=0]="default",n[n.prefer_ipv4=1]="prefer_ipv4",n[n.only_ipv4=2]="only_ipv4",n[n.prefer_ipv6=3]="prefer_ipv6",n[n.only_ipv6=4]="only_ipv6",n[n.UNRECOGNIZED=-1]="UNRECOGNIZED";let F={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w().Writer.create();for(let r of(0!==e.tcp&&t.uint32(24).int32(e.tcp),0!==e.udp&&t.uint32(32).int32(e.udp),""!==e.bypass_file&&t.uint32(18).string(e.bypass_file),e.custom_rule_v3))L.encode(r,t.uint32(58).fork()).ldelim();return t},decode(e,t){let r=e instanceof w().Reader?e:w().Reader.create(e),o=void 0===t?r.len:r.pos+t,s=W();for(;r.pos<o;){let e=r.uint32();switch(e>>>3){case 3:if(24!==e)break;s.tcp=r.int32();continue;case 4:if(32!==e)break;s.udp=r.int32();continue;case 2:if(18!==e)break;s.bypass_file=r.string();continue;case 7:if(58!==e)break;s.custom_rule_v3.push(L.decode(r,r.uint32()));continue}if((7&e)==4||0===e)break;r.skipType(7&e)}return s},fromJSON:e=>({tcp:B(e.tcp)?D(e.tcp):0,udp:B(e.udp)?D(e.udp):0,bypass_file:B(e.bypass_file)?String(e.bypass_file):"",custom_rule_v3:Array.isArray(null==e?void 0:e.custom_rule_v3)?e.custom_rule_v3.map(e=>L.fromJSON(e)):[]}),toJSON(e){var t;let r={};return 0!==e.tcp&&(r.tcp=G(e.tcp)),0!==e.udp&&(r.udp=G(e.udp)),""!==e.bypass_file&&(r.bypass_file=e.bypass_file),(null===(t=e.custom_rule_v3)||void 0===t?void 0:t.length)&&(r.custom_rule_v3=e.custom_rule_v3.map(e=>L.toJSON(e))),r},create:e=>F.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,o,s;let n=W();return n.tcp=null!==(r=e.tcp)&&void 0!==r?r:0,n.udp=null!==(o=e.udp)&&void 0!==o?o:0,n.bypass_file=null!==(s=e.bypass_file)&&void 0!==s?s:"",n.custom_rule_v3=(null===(t=e.custom_rule_v3)||void 0===t?void 0:t.map(e=>L.fromPartial(e)))||[],n}};function A(){return{hostname:[],mode:0,tag:"",resolve_strategy:0}}let L={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w().Writer.create();for(let r of e.hostname)t.uint32(26).string(r);return 0!==e.mode&&t.uint32(8).int32(e.mode),""!==e.tag&&t.uint32(18).string(e.tag),0!==e.resolve_strategy&&t.uint32(32).int32(e.resolve_strategy),t},decode(e,t){let r=e instanceof w().Reader?e:w().Reader.create(e),o=void 0===t?r.len:r.pos+t,s=A();for(;r.pos<o;){let e=r.uint32();switch(e>>>3){case 3:if(26!==e)break;s.hostname.push(r.string());continue;case 1:if(8!==e)break;s.mode=r.int32();continue;case 2:if(18!==e)break;s.tag=r.string();continue;case 4:if(32!==e)break;s.resolve_strategy=r.int32();continue}if((7&e)==4||0===e)break;r.skipType(7&e)}return s},fromJSON:e=>({hostname:Array.isArray(null==e?void 0:e.hostname)?e.hostname.map(e=>String(e)):[],mode:B(e.mode)?D(e.mode):0,tag:B(e.tag)?String(e.tag):"",resolve_strategy:B(e.resolve_strategy)?V(e.resolve_strategy):0}),toJSON(e){var t;let r={};return(null===(t=e.hostname)||void 0===t?void 0:t.length)&&(r.hostname=e.hostname),0!==e.mode&&(r.mode=G(e.mode)),""!==e.tag&&(r.tag=e.tag),0!==e.resolve_strategy&&(r.resolve_strategy=q(e.resolve_strategy)),r},create:e=>L.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,o,s;let n=A();return n.hostname=(null===(t=e.hostname)||void 0===t?void 0:t.map(e=>e))||[],n.mode=null!==(r=e.mode)&&void 0!==r?r:0,n.tag=null!==(o=e.tag)&&void 0!==o?o:"",n.resolve_strategy=null!==(s=e.resolve_strategy)&&void 0!==s?s:0,n}};function B(e){return null!=e}c.bypass,c.bypass;let H=f.memo(e=>{let t={hostname:["www.example.com"],mode:c.proxy,tag:"",resolve_strategy:u.default},r=t=>{e.onChange((0,T.Uy)(e.bypass,e=>{t(e)}))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Y,{label:"TCP",network:!0,value:e.bypass.tcp,onChange:e=>r(t=>t.tcp=e)}),(0,p.jsx)(Y,{label:"UDP",network:!0,value:e.bypass.udp,onChange:e=>r(t=>t.udp=e)}),(0,p.jsx)(j.Vf,{label:"Bypass File",value:e.bypass.bypass_file,onChange:e=>r(t=>t.bypass_file=e)}),(0,p.jsx)("hr",{}),"Custom Rules",e.bypass.custom_rule_v3.map((e,t)=>(0,p.jsxs)("div",{className:"mb-3",children:[(0,p.jsx)("hr",{}),(0,p.jsx)(K,{config:e,onChange:e=>r(r=>r.custom_rule_v3[t]=e)}),(0,p.jsxs)(g.Z,{variant:"outline-danger",onClick:()=>r(e=>e.custom_rule_v3.splice(t,1)),children:[(0,p.jsx)("i",{className:"bi bi-x-lg"}),"Remove Current Rule"]})]},"custom_rule_v3"+t)),(0,p.jsx)("hr",{}),(0,p.jsx)("div",{className:"d-flex mb-2",children:(0,p.jsxs)(g.Z,{className:"flex-grow-1",variant:"outline-success",onClick:()=>r(e=>e.custom_rule_v3.push(t)),children:[(0,p.jsx)("i",{className:"bi bi-plus-lg mb-2"}),"New Rule"]})})]})}),K=e=>{let t=t=>{e.onChange((0,T.Uy)(e.config,e=>{t(e)}))},[r,o]=(0,f.useState)({value:""});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Y,{label:"Mode",network:!1,value:e.config.mode,onChange:e=>t(t=>t.mode=e)}),(0,p.jsx)(j.Vf,{label:"Tag",value:e.config.tag,onChange:e=>t(t=>t.tag=e)}),(0,p.jsx)(M,{label:"Resolve Strategy",value:e.config.resolve_strategy,onChange:e=>t(t=>t.resolve_strategy=e)}),(0,p.jsxs)(m.Z.Group,{as:b.Z,className:"mb-3",children:[(0,p.jsx)(m.Z.Label,{column:!0,sm:2,className:"nowrap",children:"IP/DOMAIN"}),e.config.hostname.map((e,r)=>(0,p.jsx)(y.Z,{sm:{span:10,offset:0!==r?2:0},children:(0,p.jsxs)(x.Z,{className:"mb-2",children:[(0,p.jsx)(m.Z.Control,{value:e,onChange:e=>t(t=>t.hostname[r]=e.target.value)}),(0,p.jsx)(g.Z,{variant:"outline-danger",onClick:()=>t(e=>e.hostname.splice(r,1)),children:(0,p.jsx)("i",{className:"bi bi-x-lg"})})]})},r)),(0,p.jsx)(y.Z,{sm:{span:10,offset:0!==e.config.hostname.length?2:0},children:(0,p.jsxs)(x.Z,{className:"mb-2",children:[(0,p.jsx)(m.Z.Control,{value:r.value,onChange:e=>o({value:e.target.value})}),(0,p.jsx)(g.Z,{variant:"outline-success",onClick:()=>t(e=>e.hostname.push(r.value)),children:(0,p.jsx)("i",{className:"bi bi-plus-lg"})})]})})]})]})};function Y(e){return(0,p.jsxs)(m.Z.Group,{as:b.Z,className:"mb-3",children:[(0,p.jsx)(m.Z.Label,{column:!0,sm:2,children:e.label}),(0,p.jsx)(y.Z,{sm:10,children:(0,p.jsxs)(m.Z.Select,{value:G(e.value),onChange:t=>e.onChange(D(t.target.value)),children:[e.network&&(0,p.jsx)("option",{value:G(c.bypass),children:"BYPASS"}),(0,p.jsx)("option",{value:G(c.direct),children:"DIRECT"}),(0,p.jsx)("option",{value:G(c.proxy),children:"PROXY"}),(0,p.jsx)("option",{value:G(c.block),children:"BLOCK"})]})})]})}function M(e){return(0,p.jsxs)(m.Z.Group,{as:b.Z,className:"mb-3",children:[(0,p.jsx)(m.Z.Label,{column:!0,sm:2,children:e.label}),(0,p.jsx)(y.Z,{sm:10,children:(0,p.jsxs)(m.Z.Select,{value:q(e.value),onChange:t=>e.onChange(V(t.target.value)),children:[(0,p.jsx)("option",{value:q(u.default),children:"default"}),(0,p.jsx)("option",{value:q(u.prefer_ipv4),children:"prefer_ipv4"}),(0,p.jsx)("option",{value:q(u.only_ipv4),children:"only_ipv4"}),(0,p.jsx)("option",{value:q(u.prefer_ipv6),children:"prefer_ipv6"}),(0,p.jsx)("option",{value:q(u.only_ipv6),children:"only_ipv6"})]})})]})}var Q=r(51);function z(e){switch(e){case 0:case"fdbased":return d.fdbased;case 1:case"channel":return d.channel;case 2:case"system_gvisor":return d.system_gvisor;default:return d.UNRECOGNIZED}}function X(e){switch(e){case d.fdbased:return"fdbased";case d.channel:return"channel";case d.system_gvisor:return"system_gvisor";case d.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function ee(){return{name:"",enabled:!1,protocol:void 0}}(a=d||(d={}))[a.fdbased=0]="fdbased",a[a.channel=1]="channel",a[a.system_gvisor=2]="system_gvisor",a[a.UNRECOGNIZED=-1]="UNRECOGNIZED";let et={encode(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w().Writer.create();switch(""!==e.name&&r.uint32(10).string(e.name),!0===e.enabled&&r.uint32(16).bool(e.enabled),null===(t=e.protocol)||void 0===t?void 0:t.$case){case"http":el.encode(e.protocol.http,r.uint32(26).fork()).ldelim();break;case"socks5":ec.encode(e.protocol.socks5,r.uint32(34).fork()).ldelim();break;case"redir":eu.encode(e.protocol.redir,r.uint32(42).fork()).ldelim();break;case"tun":ev.encode(e.protocol.tun,r.uint32(50).fork()).ldelim();break;case"yuubinsya":ef.encode(e.protocol.yuubinsya,r.uint32(58).fork()).ldelim()}return r},decode(e,t){let r=e instanceof w().Reader?e:w().Reader.create(e),o=void 0===t?r.len:r.pos+t,s=ee();for(;r.pos<o;){let e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.name=r.string();continue;case 2:if(16!==e)break;s.enabled=r.bool();continue;case 3:if(26!==e)break;s.protocol={$case:"http",http:el.decode(r,r.uint32())};continue;case 4:if(34!==e)break;s.protocol={$case:"socks5",socks5:ec.decode(r,r.uint32())};continue;case 5:if(42!==e)break;s.protocol={$case:"redir",redir:eu.decode(r,r.uint32())};continue;case 6:if(50!==e)break;s.protocol={$case:"tun",tun:ev.decode(r,r.uint32())};continue;case 7:if(58!==e)break;s.protocol={$case:"yuubinsya",yuubinsya:ef.decode(r,r.uint32())};continue}if((7&e)==4||0===e)break;r.skipType(7&e)}return s},fromJSON:e=>({name:eD(e.name)?String(e.name):"",enabled:!!eD(e.enabled)&&!!e.enabled,protocol:eD(e.http)?{$case:"http",http:el.fromJSON(e.http)}:eD(e.socks5)?{$case:"socks5",socks5:ec.fromJSON(e.socks5)}:eD(e.redir)?{$case:"redir",redir:eu.fromJSON(e.redir)}:eD(e.tun)?{$case:"tun",tun:ev.fromJSON(e.tun)}:eD(e.yuubinsya)?{$case:"yuubinsya",yuubinsya:ef.fromJSON(e.yuubinsya)}:void 0}),toJSON(e){var t,r,o,s,n;let a={};return""!==e.name&&(a.name=e.name),!0===e.enabled&&(a.enabled=e.enabled),(null===(t=e.protocol)||void 0===t?void 0:t.$case)==="http"&&(a.http=el.toJSON(e.protocol.http)),(null===(r=e.protocol)||void 0===r?void 0:r.$case)==="socks5"&&(a.socks5=ec.toJSON(e.protocol.socks5)),(null===(o=e.protocol)||void 0===o?void 0:o.$case)==="redir"&&(a.redir=eu.toJSON(e.protocol.redir)),(null===(s=e.protocol)||void 0===s?void 0:s.$case)==="tun"&&(a.tun=ev.toJSON(e.protocol.tun)),(null===(n=e.protocol)||void 0===n?void 0:n.$case)==="yuubinsya"&&(a.yuubinsya=ef.toJSON(e.protocol.yuubinsya)),a},create:e=>et.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,o,s,n,a,l,i,c,u,d,v,p,f,m,h,b;let y=ee();return y.name=null!==(h=e.name)&&void 0!==h?h:"",y.enabled=null!==(b=e.enabled)&&void 0!==b&&b,(null===(t=e.protocol)||void 0===t?void 0:t.$case)==="http"&&(null===(r=e.protocol)||void 0===r?void 0:r.http)!==void 0&&(null===(o=e.protocol)||void 0===o?void 0:o.http)!==null&&(y.protocol={$case:"http",http:el.fromPartial(e.protocol.http)}),(null===(s=e.protocol)||void 0===s?void 0:s.$case)==="socks5"&&(null===(n=e.protocol)||void 0===n?void 0:n.socks5)!==void 0&&(null===(a=e.protocol)||void 0===a?void 0:a.socks5)!==null&&(y.protocol={$case:"socks5",socks5:ec.fromPartial(e.protocol.socks5)}),(null===(l=e.protocol)||void 0===l?void 0:l.$case)==="redir"&&(null===(i=e.protocol)||void 0===i?void 0:i.redir)!==void 0&&(null===(c=e.protocol)||void 0===c?void 0:c.redir)!==null&&(y.protocol={$case:"redir",redir:eu.fromPartial(e.protocol.redir)}),(null===(u=e.protocol)||void 0===u?void 0:u.$case)==="tun"&&(null===(d=e.protocol)||void 0===d?void 0:d.tun)!==void 0&&(null===(v=e.protocol)||void 0===v?void 0:v.tun)!==null&&(y.protocol={$case:"tun",tun:ev.fromPartial(e.protocol.tun)}),(null===(p=e.protocol)||void 0===p?void 0:p.$case)==="yuubinsya"&&(null===(f=e.protocol)||void 0===f?void 0:f.yuubinsya)!==void 0&&(null===(m=e.protocol)||void 0===m?void 0:m.yuubinsya)!==null&&(y.protocol={$case:"yuubinsya",yuubinsya:ef.fromPartial(e.protocol.yuubinsya)}),y}};function er(){return{servers:{}}}let eo={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w().Writer.create();return Object.entries(e.servers).forEach(e=>{let[r,o]=e;en.encode({key:r,value:o},t.uint32(42).fork()).ldelim()}),t},decode(e,t){let r=e instanceof w().Reader?e:w().Reader.create(e),o=void 0===t?r.len:r.pos+t,s=er();for(;r.pos<o;){let e=r.uint32();switch(e>>>3){case 5:if(42!==e)break;let t=en.decode(r,r.uint32());void 0!==t.value&&(s.servers[t.key]=t.value);continue}if((7&e)==4||0===e)break;r.skipType(7&e)}return s},fromJSON:e=>({servers:eI(e.servers)?Object.entries(e.servers).reduce((e,t)=>{let[r,o]=t;return e[r]=et.fromJSON(o),e},{}):{}}),toJSON(e){let t={};if(e.servers){let r=Object.entries(e.servers);r.length>0&&(t.servers={},r.forEach(e=>{let[r,o]=e;t.servers[r]=et.toJSON(o)}))}return t},create:e=>eo.fromPartial(null!=e?e:{}),fromPartial(e){var t;let r=er();return r.servers=Object.entries(null!==(t=e.servers)&&void 0!==t?t:{}).reduce((e,t)=>{let[r,o]=t;return void 0!==o&&(e[r]=et.fromPartial(o)),e},{}),r}};function es(){return{key:"",value:void 0}}let en={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w().Writer.create();return""!==e.key&&t.uint32(10).string(e.key),void 0!==e.value&&et.encode(e.value,t.uint32(18).fork()).ldelim(),t},decode(e,t){let r=e instanceof w().Reader?e:w().Reader.create(e),o=void 0===t?r.len:r.pos+t,s=es();for(;r.pos<o;){let e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.key=r.string();continue;case 2:if(18!==e)break;s.value=et.decode(r,r.uint32());continue}if((7&e)==4||0===e)break;r.skipType(7&e)}return s},fromJSON:e=>({key:eD(e.key)?String(e.key):"",value:eD(e.value)?et.fromJSON(e.value):void 0}),toJSON(e){let t={};return""!==e.key&&(t.key=e.key),void 0!==e.value&&(t.value=et.toJSON(e.value)),t},create:e=>en.fromPartial(null!=e?e:{}),fromPartial(e){var t;let r=es();return r.key=null!==(t=e.key)&&void 0!==t?t:"",r.value=void 0!==e.value&&null!==e.value?et.fromPartial(e.value):void 0,r}};function ea(){return{host:"",username:"",password:""}}let el={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w().Writer.create();return""!==e.host&&t.uint32(10).string(e.host),""!==e.username&&t.uint32(26).string(e.username),""!==e.password&&t.uint32(34).string(e.password),t},decode(e,t){let r=e instanceof w().Reader?e:w().Reader.create(e),o=void 0===t?r.len:r.pos+t,s=ea();for(;r.pos<o;){let e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.host=r.string();continue;case 3:if(26!==e)break;s.username=r.string();continue;case 4:if(34!==e)break;s.password=r.string();continue}if((7&e)==4||0===e)break;r.skipType(7&e)}return s},fromJSON:e=>({host:eD(e.host)?String(e.host):"",username:eD(e.username)?String(e.username):"",password:eD(e.password)?String(e.password):""}),toJSON(e){let t={};return""!==e.host&&(t.host=e.host),""!==e.username&&(t.username=e.username),""!==e.password&&(t.password=e.password),t},create:e=>el.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,o;let s=ea();return s.host=null!==(t=e.host)&&void 0!==t?t:"",s.username=null!==(r=e.username)&&void 0!==r?r:"",s.password=null!==(o=e.password)&&void 0!==o?o:"",s}};function ei(){return{host:"",username:"",password:""}}let ec={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w().Writer.create();return""!==e.host&&t.uint32(10).string(e.host),""!==e.username&&t.uint32(26).string(e.username),""!==e.password&&t.uint32(34).string(e.password),t},decode(e,t){let r=e instanceof w().Reader?e:w().Reader.create(e),o=void 0===t?r.len:r.pos+t,s=ei();for(;r.pos<o;){let e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.host=r.string();continue;case 3:if(26!==e)break;s.username=r.string();continue;case 4:if(34!==e)break;s.password=r.string();continue}if((7&e)==4||0===e)break;r.skipType(7&e)}return s},fromJSON:e=>({host:eD(e.host)?String(e.host):"",username:eD(e.username)?String(e.username):"",password:eD(e.password)?String(e.password):""}),toJSON(e){let t={};return""!==e.host&&(t.host=e.host),""!==e.username&&(t.username=e.username),""!==e.password&&(t.password=e.password),t},create:e=>ec.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,o;let s=ei();return s.host=null!==(t=e.host)&&void 0!==t?t:"",s.username=null!==(r=e.username)&&void 0!==r?r:"",s.password=null!==(o=e.password)&&void 0!==o?o:"",s}},eu={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w().Writer.create();return""!==e.host&&t.uint32(10).string(e.host),t},decode(e,t){let r=e instanceof w().Reader?e:w().Reader.create(e),o=void 0===t?r.len:r.pos+t,s={host:""};for(;r.pos<o;){let e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.host=r.string();continue}if((7&e)==4||0===e)break;r.skipType(7&e)}return s},fromJSON:e=>({host:eD(e.host)?String(e.host):""}),toJSON(e){let t={};return""!==e.host&&(t.host=e.host),t},create:e=>eu.fromPartial(null!=e?e:{}),fromPartial(e){var t;let r={host:""};return r.host=null!==(t=e.host)&&void 0!==t?t:"",r}};function ed(){return{name:"",mtu:0,gateway:"",dns_hijacking:!1,skip_multicast:!1,driver:0,portal:""}}let ev={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w().Writer.create();return""!==e.name&&t.uint32(10).string(e.name),0!==e.mtu&&t.uint32(16).int32(e.mtu),""!==e.gateway&&t.uint32(26).string(e.gateway),!0===e.dns_hijacking&&t.uint32(32).bool(e.dns_hijacking),!0===e.skip_multicast&&t.uint32(48).bool(e.skip_multicast),0!==e.driver&&t.uint32(56).int32(e.driver),""!==e.portal&&t.uint32(66).string(e.portal),t},decode(e,t){let r=e instanceof w().Reader?e:w().Reader.create(e),o=void 0===t?r.len:r.pos+t,s=ed();for(;r.pos<o;){let e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.name=r.string();continue;case 2:if(16!==e)break;s.mtu=r.int32();continue;case 3:if(26!==e)break;s.gateway=r.string();continue;case 4:if(32!==e)break;s.dns_hijacking=r.bool();continue;case 6:if(48!==e)break;s.skip_multicast=r.bool();continue;case 7:if(56!==e)break;s.driver=r.int32();continue;case 8:if(66!==e)break;s.portal=r.string();continue}if((7&e)==4||0===e)break;r.skipType(7&e)}return s},fromJSON:e=>({name:eD(e.name)?String(e.name):"",mtu:eD(e.mtu)?Number(e.mtu):0,gateway:eD(e.gateway)?String(e.gateway):"",dns_hijacking:!!eD(e.dns_hijacking)&&!!e.dns_hijacking,skip_multicast:!!eD(e.skip_multicast)&&!!e.skip_multicast,driver:eD(e.driver)?z(e.driver):0,portal:eD(e.portal)?String(e.portal):""}),toJSON(e){let t={};return""!==e.name&&(t.name=e.name),0!==e.mtu&&(t.mtu=Math.round(e.mtu)),""!==e.gateway&&(t.gateway=e.gateway),!0===e.dns_hijacking&&(t.dns_hijacking=e.dns_hijacking),!0===e.skip_multicast&&(t.skip_multicast=e.skip_multicast),0!==e.driver&&(t.driver=X(e.driver)),""!==e.portal&&(t.portal=e.portal),t},create:e=>ev.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,o,s,n,a,l;let i=ed();return i.name=null!==(t=e.name)&&void 0!==t?t:"",i.mtu=null!==(r=e.mtu)&&void 0!==r?r:0,i.gateway=null!==(o=e.gateway)&&void 0!==o?o:"",i.dns_hijacking=null!==(s=e.dns_hijacking)&&void 0!==s&&s,i.skip_multicast=null!==(n=e.skip_multicast)&&void 0!==n&&n,i.driver=null!==(a=e.driver)&&void 0!==a?a:0,i.portal=null!==(l=e.portal)&&void 0!==l?l:"",i}};function ep(){return{host:"",password:"",force_disable_encrypt:!1,protocol:void 0}}let ef={encode(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w().Writer.create();switch(""!==e.host&&r.uint32(10).string(e.host),""!==e.password&&r.uint32(18).string(e.password),!0===e.force_disable_encrypt&&r.uint32(64).bool(e.force_disable_encrypt),null===(t=e.protocol)||void 0===t?void 0:t.$case){case"normal":em.encode(e.protocol.normal,r.uint32(26).fork()).ldelim();break;case"tls":e_.encode(e.protocol.tls,r.uint32(34).fork()).ldelim();break;case"quic":eg.encode(e.protocol.quic,r.uint32(42).fork()).ldelim();break;case"websocket":eb.encode(e.protocol.websocket,r.uint32(50).fork()).ldelim();break;case"grpc":ej.encode(e.protocol.grpc,r.uint32(58).fork()).ldelim();break;case"http2":ew.encode(e.protocol.http2,r.uint32(74).fork()).ldelim();break;case"reality":eS.encode(e.protocol.reality,r.uint32(82).fork()).ldelim()}return r},decode(e,t){let r=e instanceof w().Reader?e:w().Reader.create(e),o=void 0===t?r.len:r.pos+t,s=ep();for(;r.pos<o;){let e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.host=r.string();continue;case 2:if(18!==e)break;s.password=r.string();continue;case 8:if(64!==e)break;s.force_disable_encrypt=r.bool();continue;case 3:if(26!==e)break;s.protocol={$case:"normal",normal:em.decode(r,r.uint32())};continue;case 4:if(34!==e)break;s.protocol={$case:"tls",tls:e_.decode(r,r.uint32())};continue;case 5:if(42!==e)break;s.protocol={$case:"quic",quic:eg.decode(r,r.uint32())};continue;case 6:if(50!==e)break;s.protocol={$case:"websocket",websocket:eb.decode(r,r.uint32())};continue;case 7:if(58!==e)break;s.protocol={$case:"grpc",grpc:ej.decode(r,r.uint32())};continue;case 9:if(74!==e)break;s.protocol={$case:"http2",http2:ew.decode(r,r.uint32())};continue;case 10:if(82!==e)break;s.protocol={$case:"reality",reality:eS.decode(r,r.uint32())};continue}if((7&e)==4||0===e)break;r.skipType(7&e)}return s},fromJSON:e=>({host:eD(e.host)?String(e.host):"",password:eD(e.password)?String(e.password):"",force_disable_encrypt:!!eD(e.force_disable_encrypt)&&!!e.force_disable_encrypt,protocol:eD(e.normal)?{$case:"normal",normal:em.fromJSON(e.normal)}:eD(e.tls)?{$case:"tls",tls:e_.fromJSON(e.tls)}:eD(e.quic)?{$case:"quic",quic:eg.fromJSON(e.quic)}:eD(e.websocket)?{$case:"websocket",websocket:eb.fromJSON(e.websocket)}:eD(e.grpc)?{$case:"grpc",grpc:ej.fromJSON(e.grpc)}:eD(e.http2)?{$case:"http2",http2:ew.fromJSON(e.http2)}:eD(e.reality)?{$case:"reality",reality:eS.fromJSON(e.reality)}:void 0}),toJSON(e){var t,r,o,s,n,a,l;let i={};return""!==e.host&&(i.host=e.host),""!==e.password&&(i.password=e.password),!0===e.force_disable_encrypt&&(i.force_disable_encrypt=e.force_disable_encrypt),(null===(t=e.protocol)||void 0===t?void 0:t.$case)==="normal"&&(i.normal=em.toJSON(e.protocol.normal)),(null===(r=e.protocol)||void 0===r?void 0:r.$case)==="tls"&&(i.tls=e_.toJSON(e.protocol.tls)),(null===(o=e.protocol)||void 0===o?void 0:o.$case)==="quic"&&(i.quic=eg.toJSON(e.protocol.quic)),(null===(s=e.protocol)||void 0===s?void 0:s.$case)==="websocket"&&(i.websocket=eb.toJSON(e.protocol.websocket)),(null===(n=e.protocol)||void 0===n?void 0:n.$case)==="grpc"&&(i.grpc=ej.toJSON(e.protocol.grpc)),(null===(a=e.protocol)||void 0===a?void 0:a.$case)==="http2"&&(i.http2=ew.toJSON(e.protocol.http2)),(null===(l=e.protocol)||void 0===l?void 0:l.$case)==="reality"&&(i.reality=eS.toJSON(e.protocol.reality)),i},create:e=>ef.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,o,s,n,a,l,i,c,u,d,v,p,f,m,h,b,y,g,k,_,x,j,N;let w=ep();return w.host=null!==(x=e.host)&&void 0!==x?x:"",w.password=null!==(j=e.password)&&void 0!==j?j:"",w.force_disable_encrypt=null!==(N=e.force_disable_encrypt)&&void 0!==N&&N,(null===(t=e.protocol)||void 0===t?void 0:t.$case)==="normal"&&(null===(r=e.protocol)||void 0===r?void 0:r.normal)!==void 0&&(null===(o=e.protocol)||void 0===o?void 0:o.normal)!==null&&(w.protocol={$case:"normal",normal:em.fromPartial(e.protocol.normal)}),(null===(s=e.protocol)||void 0===s?void 0:s.$case)==="tls"&&(null===(n=e.protocol)||void 0===n?void 0:n.tls)!==void 0&&(null===(a=e.protocol)||void 0===a?void 0:a.tls)!==null&&(w.protocol={$case:"tls",tls:e_.fromPartial(e.protocol.tls)}),(null===(l=e.protocol)||void 0===l?void 0:l.$case)==="quic"&&(null===(i=e.protocol)||void 0===i?void 0:i.quic)!==void 0&&(null===(c=e.protocol)||void 0===c?void 0:c.quic)!==null&&(w.protocol={$case:"quic",quic:eg.fromPartial(e.protocol.quic)}),(null===(u=e.protocol)||void 0===u?void 0:u.$case)==="websocket"&&(null===(d=e.protocol)||void 0===d?void 0:d.websocket)!==void 0&&(null===(v=e.protocol)||void 0===v?void 0:v.websocket)!==null&&(w.protocol={$case:"websocket",websocket:eb.fromPartial(e.protocol.websocket)}),(null===(p=e.protocol)||void 0===p?void 0:p.$case)==="grpc"&&(null===(f=e.protocol)||void 0===f?void 0:f.grpc)!==void 0&&(null===(m=e.protocol)||void 0===m?void 0:m.grpc)!==null&&(w.protocol={$case:"grpc",grpc:ej.fromPartial(e.protocol.grpc)}),(null===(h=e.protocol)||void 0===h?void 0:h.$case)==="http2"&&(null===(b=e.protocol)||void 0===b?void 0:b.http2)!==void 0&&(null===(y=e.protocol)||void 0===y?void 0:y.http2)!==null&&(w.protocol={$case:"http2",http2:ew.fromPartial(e.protocol.http2)}),(null===(g=e.protocol)||void 0===g?void 0:g.$case)==="reality"&&(null===(k=e.protocol)||void 0===k?void 0:k.reality)!==void 0&&(null===(_=e.protocol)||void 0===_?void 0:_.reality)!==null&&(w.protocol={$case:"reality",reality:eS.fromPartial(e.protocol.reality)}),w}},em={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w().Writer.create();return t},decode(e,t){let r=e instanceof w().Reader?e:w().Reader.create(e),o=void 0===t?r.len:r.pos+t;for(;r.pos<o;){let e=r.uint32();if((7&e)==4||0===e)break;r.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),create:e=>em.fromPartial(null!=e?e:{}),fromPartial:e=>({})};function eh(){return{tls:void 0}}let eb={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w().Writer.create();return void 0!==e.tls&&eZ.encode(e.tls,t.uint32(10).fork()).ldelim(),t},decode(e,t){let r=e instanceof w().Reader?e:w().Reader.create(e),o=void 0===t?r.len:r.pos+t,s=eh();for(;r.pos<o;){let e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.tls=eZ.decode(r,r.uint32());continue}if((7&e)==4||0===e)break;r.skipType(7&e)}return s},fromJSON:e=>({tls:eD(e.tls)?eZ.fromJSON(e.tls):void 0}),toJSON(e){let t={};return void 0!==e.tls&&(t.tls=eZ.toJSON(e.tls)),t},create:e=>eb.fromPartial(null!=e?e:{}),fromPartial(e){let t=eh();return t.tls=void 0!==e.tls&&null!==e.tls?eZ.fromPartial(e.tls):void 0,t}};function ey(){return{tls:void 0}}let eg={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w().Writer.create();return void 0!==e.tls&&eZ.encode(e.tls,t.uint32(10).fork()).ldelim(),t},decode(e,t){let r=e instanceof w().Reader?e:w().Reader.create(e),o=void 0===t?r.len:r.pos+t,s=ey();for(;r.pos<o;){let e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.tls=eZ.decode(r,r.uint32());continue}if((7&e)==4||0===e)break;r.skipType(7&e)}return s},fromJSON:e=>({tls:eD(e.tls)?eZ.fromJSON(e.tls):void 0}),toJSON(e){let t={};return void 0!==e.tls&&(t.tls=eZ.toJSON(e.tls)),t},create:e=>eg.fromPartial(null!=e?e:{}),fromPartial(e){let t=ey();return t.tls=void 0!==e.tls&&null!==e.tls?eZ.fromPartial(e.tls):void 0,t}};function ek(){return{tls:void 0}}let e_={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w().Writer.create();return void 0!==e.tls&&eZ.encode(e.tls,t.uint32(10).fork()).ldelim(),t},decode(e,t){let r=e instanceof w().Reader?e:w().Reader.create(e),o=void 0===t?r.len:r.pos+t,s=ek();for(;r.pos<o;){let e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.tls=eZ.decode(r,r.uint32());continue}if((7&e)==4||0===e)break;r.skipType(7&e)}return s},fromJSON:e=>({tls:eD(e.tls)?eZ.fromJSON(e.tls):void 0}),toJSON(e){let t={};return void 0!==e.tls&&(t.tls=eZ.toJSON(e.tls)),t},create:e=>e_.fromPartial(null!=e?e:{}),fromPartial(e){let t=ek();return t.tls=void 0!==e.tls&&null!==e.tls?eZ.fromPartial(e.tls):void 0,t}};function ex(){return{tls:void 0}}let ej={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w().Writer.create();return void 0!==e.tls&&eZ.encode(e.tls,t.uint32(10).fork()).ldelim(),t},decode(e,t){let r=e instanceof w().Reader?e:w().Reader.create(e),o=void 0===t?r.len:r.pos+t,s=ex();for(;r.pos<o;){let e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.tls=eZ.decode(r,r.uint32());continue}if((7&e)==4||0===e)break;r.skipType(7&e)}return s},fromJSON:e=>({tls:eD(e.tls)?eZ.fromJSON(e.tls):void 0}),toJSON(e){let t={};return void 0!==e.tls&&(t.tls=eZ.toJSON(e.tls)),t},create:e=>ej.fromPartial(null!=e?e:{}),fromPartial(e){let t=ex();return t.tls=void 0!==e.tls&&null!==e.tls?eZ.fromPartial(e.tls):void 0,t}};function eN(){return{tls:void 0}}let ew={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w().Writer.create();return void 0!==e.tls&&eZ.encode(e.tls,t.uint32(10).fork()).ldelim(),t},decode(e,t){let r=e instanceof w().Reader?e:w().Reader.create(e),o=void 0===t?r.len:r.pos+t,s=eN();for(;r.pos<o;){let e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.tls=eZ.decode(r,r.uint32());continue}if((7&e)==4||0===e)break;r.skipType(7&e)}return s},fromJSON:e=>({tls:eD(e.tls)?eZ.fromJSON(e.tls):void 0}),toJSON(e){let t={};return void 0!==e.tls&&(t.tls=eZ.toJSON(e.tls)),t},create:e=>ew.fromPartial(null!=e?e:{}),fromPartial(e){let t=eN();return t.tls=void 0!==e.tls&&null!==e.tls?eZ.fromPartial(e.tls):void 0,t}};function eC(){return{short_id:[],server_name:[],dest:"",private_key:"",debug:!1}}let eS={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w().Writer.create();for(let r of e.short_id)t.uint32(10).string(r);for(let r of e.server_name)t.uint32(18).string(r);return""!==e.dest&&t.uint32(26).string(e.dest),""!==e.private_key&&t.uint32(34).string(e.private_key),!0===e.debug&&t.uint32(40).bool(e.debug),t},decode(e,t){let r=e instanceof w().Reader?e:w().Reader.create(e),o=void 0===t?r.len:r.pos+t,s=eC();for(;r.pos<o;){let e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.short_id.push(r.string());continue;case 2:if(18!==e)break;s.server_name.push(r.string());continue;case 3:if(26!==e)break;s.dest=r.string();continue;case 4:if(34!==e)break;s.private_key=r.string();continue;case 5:if(40!==e)break;s.debug=r.bool();continue}if((7&e)==4||0===e)break;r.skipType(7&e)}return s},fromJSON:e=>({short_id:Array.isArray(null==e?void 0:e.short_id)?e.short_id.map(e=>String(e)):[],server_name:Array.isArray(null==e?void 0:e.server_name)?e.server_name.map(e=>String(e)):[],dest:eD(e.dest)?String(e.dest):"",private_key:eD(e.private_key)?String(e.private_key):"",debug:!!eD(e.debug)&&!!e.debug}),toJSON(e){var t,r;let o={};return(null===(t=e.short_id)||void 0===t?void 0:t.length)&&(o.short_id=e.short_id),(null===(r=e.server_name)||void 0===r?void 0:r.length)&&(o.server_name=e.server_name),""!==e.dest&&(o.dest=e.dest),""!==e.private_key&&(o.private_key=e.private_key),!0===e.debug&&(o.debug=e.debug),o},create:e=>eS.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,o,s,n;let a=eC();return a.short_id=(null===(t=e.short_id)||void 0===t?void 0:t.map(e=>e))||[],a.server_name=(null===(r=e.server_name)||void 0===r?void 0:r.map(e=>e))||[],a.dest=null!==(o=e.dest)&&void 0!==o?o:"",a.private_key=null!==(s=e.private_key)&&void 0!==s?s:"",a.debug=null!==(n=e.debug)&&void 0!==n&&n,a}};function eO(){return{certificates:[],next_protos:[],server_name_certificate:{}}}let eZ={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w().Writer.create();for(let r of e.certificates)e$.encode(r,t.uint32(10).fork()).ldelim();for(let r of e.next_protos)t.uint32(26).string(r);return Object.entries(e.server_name_certificate).forEach(e=>{let[r,o]=e;eP.encode({key:r,value:o},t.uint32(34).fork()).ldelim()}),t},decode(e,t){let r=e instanceof w().Reader?e:w().Reader.create(e),o=void 0===t?r.len:r.pos+t,s=eO();for(;r.pos<o;){let e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.certificates.push(e$.decode(r,r.uint32()));continue;case 3:if(26!==e)break;s.next_protos.push(r.string());continue;case 4:if(34!==e)break;let t=eP.decode(r,r.uint32());void 0!==t.value&&(s.server_name_certificate[t.key]=t.value);continue}if((7&e)==4||0===e)break;r.skipType(7&e)}return s},fromJSON:e=>({certificates:Array.isArray(null==e?void 0:e.certificates)?e.certificates.map(e=>e$.fromJSON(e)):[],next_protos:Array.isArray(null==e?void 0:e.next_protos)?e.next_protos.map(e=>String(e)):[],server_name_certificate:eI(e.server_name_certificate)?Object.entries(e.server_name_certificate).reduce((e,t)=>{let[r,o]=t;return e[r]=e$.fromJSON(o),e},{}):{}}),toJSON(e){var t,r;let o={};if((null===(t=e.certificates)||void 0===t?void 0:t.length)&&(o.certificates=e.certificates.map(e=>e$.toJSON(e))),(null===(r=e.next_protos)||void 0===r?void 0:r.length)&&(o.next_protos=e.next_protos),e.server_name_certificate){let t=Object.entries(e.server_name_certificate);t.length>0&&(o.server_name_certificate={},t.forEach(e=>{let[t,r]=e;o.server_name_certificate[t]=e$.toJSON(r)}))}return o},create:e=>eZ.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,o;let s=eO();return s.certificates=(null===(t=e.certificates)||void 0===t?void 0:t.map(e=>e$.fromPartial(e)))||[],s.next_protos=(null===(r=e.next_protos)||void 0===r?void 0:r.map(e=>e))||[],s.server_name_certificate=Object.entries(null!==(o=e.server_name_certificate)&&void 0!==o?o:{}).reduce((e,t)=>{let[r,o]=t;return void 0!==o&&(e[r]=e$.fromPartial(o)),e},{}),s}};function eJ(){return{key:"",value:void 0}}let eP={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w().Writer.create();return""!==e.key&&t.uint32(10).string(e.key),void 0!==e.value&&e$.encode(e.value,t.uint32(18).fork()).ldelim(),t},decode(e,t){let r=e instanceof w().Reader?e:w().Reader.create(e),o=void 0===t?r.len:r.pos+t,s=eJ();for(;r.pos<o;){let e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.key=r.string();continue;case 2:if(18!==e)break;s.value=e$.decode(r,r.uint32());continue}if((7&e)==4||0===e)break;r.skipType(7&e)}return s},fromJSON:e=>({key:eD(e.key)?String(e.key):"",value:eD(e.value)?e$.fromJSON(e.value):void 0}),toJSON(e){let t={};return""!==e.key&&(t.key=e.key),void 0!==e.value&&(t.value=e$.toJSON(e.value)),t},create:e=>eP.fromPartial(null!=e?e:{}),fromPartial(e){var t;let r=eJ();return r.key=null!==(t=e.key)&&void 0!==t?t:"",r.value=void 0!==e.value&&null!==e.value?e$.fromPartial(e.value):void 0,r}};function eR(){return{cert:new Uint8Array(0),key:new Uint8Array(0),cert_file_path:"",key_file_path:""}}let e$={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w().Writer.create();return 0!==e.cert.length&&t.uint32(10).bytes(e.cert),0!==e.key.length&&t.uint32(18).bytes(e.key),""!==e.cert_file_path&&t.uint32(26).string(e.cert_file_path),""!==e.key_file_path&&t.uint32(34).string(e.key_file_path),t},decode(e,t){let r=e instanceof w().Reader?e:w().Reader.create(e),o=void 0===t?r.len:r.pos+t,s=eR();for(;r.pos<o;){let e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.cert=r.bytes();continue;case 2:if(18!==e)break;s.key=r.bytes();continue;case 3:if(26!==e)break;s.cert_file_path=r.string();continue;case 4:if(34!==e)break;s.key_file_path=r.string();continue}if((7&e)==4||0===e)break;r.skipType(7&e)}return s},fromJSON:e=>({cert:eD(e.cert)?eT(e.cert):new Uint8Array(0),key:eD(e.key)?eT(e.key):new Uint8Array(0),cert_file_path:eD(e.cert_file_path)?String(e.cert_file_path):"",key_file_path:eD(e.key_file_path)?String(e.key_file_path):""}),toJSON(e){let t={};return 0!==e.cert.length&&(t.cert=eU(e.cert)),0!==e.key.length&&(t.key=eU(e.key)),""!==e.cert_file_path&&(t.cert_file_path=e.cert_file_path),""!==e.key_file_path&&(t.key_file_path=e.key_file_path),t},create:e=>e$.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,o,s;let n=eR();return n.cert=null!==(t=e.cert)&&void 0!==t?t:new Uint8Array(0),n.key=null!==(r=e.key)&&void 0!==r?r:new Uint8Array(0),n.cert_file_path=null!==(o=e.cert_file_path)&&void 0!==o?o:"",n.key_file_path=null!==(s=e.key_file_path)&&void 0!==s?s:"",n}},eE="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:window;function eT(e){if(eE.Buffer)return Uint8Array.from(eE.Buffer.from(e,"base64"));{let t=eE.atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;++e)r[e]=t.charCodeAt(e);return r}}function eU(e){if(eE.Buffer)return eE.Buffer.from(e).toString("base64");{let t=[];return e.forEach(e=>{t.push(String.fromCharCode(e))}),eE.btoa(t.join(""))}}function eI(e){return"object"==typeof e&&null!==e}function eD(e){return null!=e}let eG=f.memo(e=>{let t=t=>e.onChange((0,T.Uy)(e.http,e=>{t(e)}));return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(j.Vf,{label:"Host",value:e.http.host,onChange:e=>t(t=>t.host=e)}),(0,p.jsx)(j.Vf,{label:"Username",value:e.http.username,onChange:e=>t(t=>t.username=e)}),(0,p.jsx)(j.Vf,{label:"Password",value:e.http.password,onChange:e=>t(t=>t.password=e)})]})}),eV=f.memo(e=>{let t=t=>e.onChange((0,T.Uy)(e.redir,e=>{t(e)}));return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(j.Vf,{label:"Host",value:e.redir.host,onChange:e=>t(t=>t.host=e)})})}),eq=f.memo(e=>{let t=t=>e.onChange((0,T.Uy)(e.socks5,e=>{t(e)}));return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(j.Vf,{label:"Host",value:e.socks5.host,onChange:e=>t(t=>t.host=e)}),(0,p.jsx)(j.Vf,{label:"Username",value:e.socks5.username,onChange:e=>t(t=>t.username=e)}),(0,p.jsx)(j.Vf,{label:"Password",value:e.socks5.password,onChange:e=>t(t=>t.password=e)})]})}),eW=f.memo(e=>{let t=t=>e.onChange((0,T.Uy)(e.tun,e=>{t(e)}));return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(j.Jg,{label:"DNS Hijacking",checked:e.tun.dns_hijacking,onChange:()=>t(e=>e.dns_hijacking=!e.dns_hijacking)}),(0,p.jsx)(j.Jg,{checked:e.tun.skip_multicast,onChange:()=>t(e=>e.skip_multicast=!e.skip_multicast),label:"Skip Multicast"}),(0,p.jsx)(j.Vf,{label:"Name",value:e.tun.name,onChange:e=>t(t=>t.name=e)}),(0,p.jsx)(j.Vf,{label:"Mtu",value:e.tun.mtu,onChange:e=>t(t=>t.mtu=isNaN(Number(e))?t.mtu:Number(e))}),(0,p.jsx)(j.Vf,{label:"Gateway",value:e.tun.gateway,onChange:e=>t(t=>t.gateway=e)}),(0,p.jsx)(j.Vf,{label:"Portal",value:e.tun.portal,onChange:e=>t(t=>t.portal=e)}),(0,p.jsxs)(m.Z.Group,{as:b.Z,className:"mb-3",children:[(0,p.jsx)(m.Z.Label,{column:!0,sm:2,children:"Driver"}),(0,p.jsx)(y.Z,{sm:10,children:(0,p.jsxs)(m.Z.Select,{value:e.tun.driver,onChange:e=>t(t=>t.driver=z(e.target.value)),children:[(0,p.jsx)("option",{value:X(d.fdbased),children:"Fdbased"}),(0,p.jsx)("option",{value:X(d.channel),children:"Channel"}),(0,p.jsx)("option",{value:X(d.system_gvisor),children:"System"})]})})]})]})}),eF=e=>{if(null==e||void 0===e.certificates&&void 0===e.next_protos&&void 0===e.server_name_certificate)return!0},eA=f.memo(e=>{let t=t=>e.onChange((0,T.Uy)(e.cert,e=>{t(e)}));return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(j.NZ,{label:"Cert",value:new TextDecoder().decode(e.cert.cert),onChange:e=>t(t=>{t.cert=new TextEncoder().encode(e)})}),(0,p.jsx)(j.NZ,{label:"Key",value:new TextDecoder().decode(e.cert.key),onChange:e=>t(t=>{t.key=new TextEncoder().encode(e)})}),(0,p.jsx)(j.Vf,{label:"Cert File",value:e.cert.cert_file_path,onChange:e=>t(t=>{t.cert_file_path=e})}),(0,p.jsx)(j.Vf,{label:"Key File",value:e.cert.key_file_path,onChange:e=>t(t=>{t.key_file_path=e})})]})}),eL=f.memo(e=>{var t,r,o;let[s,n]=(0,f.useState)("www.example.com"),[a,l]=(0,f.useState)({value:""}),i=t=>e.onChange((0,T.Uy)(e.tls,e=>{t(e)}));return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(m.Z.Group,{as:b.Z,className:"mb-3",children:[(0,p.jsx)(m.Z.Label,{column:!0,sm:2,className:"nowrap",children:"Next Protos"}),null!==e.tls&&(null===(t=e.tls.next_protos)||void 0===t?void 0:t.map((e,t)=>(0,p.jsx)(y.Z,{sm:{span:10,offset:0!==t?2:0},children:(0,p.jsxs)(x.Z,{className:"mb-2",children:[(0,p.jsx)(m.Z.Control,{value:e,onChange:e=>i(r=>{null!==r&&void 0!==r.next_protos&&(r.next_protos[t]=e.target.value)})}),(0,p.jsx)(g.Z,{variant:"outline-danger",onClick:()=>i(e=>{null!==e&&void 0!==e.next_protos&&(null==e||e.next_protos.splice(t,1))}),children:(0,p.jsx)("i",{className:"bi bi-x-lg"})})]})},t))),(0,p.jsx)(y.Z,{sm:{span:10,offset:null!==e.tls&&(null===(r=e.tls.next_protos)||void 0===r?void 0:r.length)!==0?2:0},children:(0,p.jsxs)(x.Z,{className:"mb-2",children:[(0,p.jsx)(m.Z.Control,{value:a.value,onChange:e=>l({value:e.target.value})}),(0,p.jsx)(g.Z,{variant:"outline-success",onClick:()=>i(e=>{(null==e?void 0:e.next_protos)===void 0&&(e.next_protos=[]),e.next_protos.push(a.value)}),children:(0,p.jsx)("i",{className:"bi bi-plus-lg"})})]})})]}),null!==e.tls&&(null===(o=e.tls.certificates)||void 0===o?void 0:o.map((e,t)=>(0,p.jsx)(h.Z,{className:"mb-2",children:(0,p.jsxs)(h.Z.Body,{children:[(0,p.jsx)(h.Z.Title,{className:"d-flex justify-content-end align-items-center",children:(0,p.jsx)(g.Z,{variant:"outline-danger",onClick:()=>i(e=>{(null==e?void 0:e.certificates)!==void 0&&e.certificates.splice(t,1)}),children:(0,p.jsx)("i",{className:"bi bi-x-lg"})})}),(0,p.jsx)(eA,{cert:e,onChange:e=>i(r=>{(null==r?void 0:r.certificates)!==void 0&&(r.certificates[t]=e)})})]})},"tls_certificates"+t))),(0,p.jsx)(x.Z,{className:"d-flex justify-content-end mb-2",children:(0,p.jsxs)(g.Z,{variant:"outline-success",onClick:()=>i(e=>{e.certificates.push({cert:new Uint8Array(0),key:new Uint8Array(0),cert_file_path:"",key_file_path:""})}),children:[(0,p.jsx)("i",{className:"bi bi-plus-lg"}),"New Certificate"]})}),null!==e.tls&&void 0!==e.tls.server_name_certificate&&Object.entries(e.tls.server_name_certificate).map(e=>{let[t,r]=e;return(0,p.jsx)(h.Z,{className:"mb-2",children:(0,p.jsxs)(h.Z.Body,{children:[(0,p.jsxs)(h.Z.Title,{className:"d-flex justify-content-between align-items-center",children:[t,(0,p.jsx)(g.Z,{variant:"outline-danger",onClick:()=>i(e=>{(null==e?void 0:e.server_name_certificate)!==void 0&&(null==e||delete e.server_name_certificate[t])}),children:(0,p.jsx)("i",{className:"bi bi-x-lg"})})]}),(0,p.jsx)(eA,{cert:r,onChange:e=>i(r=>{(null==r?void 0:r.server_name_certificate)!==void 0&&(r.server_name_certificate[t]=e)})})]})},"server_name_certificate"+t)}),(0,p.jsxs)(x.Z,{className:"d-flex justify-content-end",children:[(0,p.jsx)(m.Z.Control,{value:s,onChange:e=>n(e.target.value)}),(0,p.jsxs)(g.Z,{variant:"outline-success",onClick:()=>i(e=>{""!==s&&(null==e?void 0:e.server_name_certificate)===void 0&&(e.server_name_certificate={})}),children:[(0,p.jsx)("i",{className:"bi bi-plus-lg"}),"New SNI Certificate"]})]})]})}),eB=f.memo(e=>{let t=t=>e.onChange((0,T.Uy)(e.websocket,e=>{eF(e.tls)&&(e.tls=void 0),t(e)}));return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(j.Vf,{plaintext:!0,label:"Protocol",value:"Websocket"}),void 0!==e.websocket.tls&&(0,p.jsx)(eL,{tls:e.websocket.tls,onChange:e=>t(t=>t.tls=e)})]})}),eH=f.memo(e=>{let t=t=>{e.onChange((0,T.Uy)(e.quic,e=>{eF(e.tls)&&(e.tls=void 0),t(e)}))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(j.Vf,{plaintext:!0,label:"Protocol",value:"QUIC"}),void 0!==e.quic.tls&&(0,p.jsx)(eL,{tls:e.quic.tls,onChange:e=>t(t=>t.tls=e)})]})}),eK=f.memo(e=>{let t=t=>{e.onChange((0,T.Uy)(e.grpc,e=>{eF(e.tls)&&(e.tls=void 0),t(e)}))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(j.Vf,{plaintext:!0,label:"Protocol",value:"GRPC"}),void 0!==e.grpc.tls&&(0,p.jsx)(eL,{tls:e.grpc.tls,onChange:e=>t(t=>t.tls=e)})]})}),eY=f.memo(e=>{let t=t=>{e.onChange((0,T.Uy)(e.tls,e=>{eF(e.tls)&&(e.tls=void 0),t(e)}))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(j.Vf,{plaintext:!0,label:"Protocol",value:"TLS"}),void 0!==e.tls.tls&&(0,p.jsx)(eL,{tls:e.tls.tls,onChange:e=>t(t=>t.tls=e)})]})}),eM=f.memo(e=>{let t=t=>{e.onChange((0,T.Uy)(e.http2,e=>{eF(e.tls)&&(e.tls=void 0),t(e)}))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(j.Vf,{plaintext:!0,label:"Protocol",value:"HTTP2"}),void 0!==e.http2.tls&&(0,p.jsx)(eL,{tls:e.http2.tls,onChange:e=>t(t=>t.tls=e)})]})}),eQ=f.memo(e=>{let t=t=>{e.onChange((0,T.Uy)(e.reality,e=>{t(e)}))},[r,o]=(0,f.useState)({value:""}),[s,n]=(0,f.useState)({value:""});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(j.Vf,{plaintext:!0,label:"Protocol",value:"Reality"}),(0,p.jsx)(j.Vf,{label:"Dest",value:e.reality.dest,onChange:e=>t(t=>t.dest=e)}),(0,p.jsx)(j.Vf,{label:"Private Key",value:e.reality.private_key,onChange:e=>t(t=>t.private_key=e)}),(0,p.jsxs)(m.Z.Group,{as:b.Z,className:"mb-3",children:[(0,p.jsx)(m.Z.Label,{column:!0,sm:2,className:"nowrap",children:"Short ID"}),e.reality.short_id.map((e,r)=>(0,p.jsx)(y.Z,{sm:{span:10,offset:0!==r?2:0},children:(0,p.jsxs)(x.Z,{className:"mb-2",children:[(0,p.jsx)(m.Z.Control,{value:e,onChange:e=>t(t=>{t.short_id[r]=e.target.value})}),(0,p.jsx)(g.Z,{variant:"outline-danger",onClick:()=>t(e=>{e.short_id.splice(r,1)}),children:(0,p.jsx)("i",{className:"bi bi-x-lg"})})]})},r)),(0,p.jsx)(y.Z,{sm:{span:10,offset:0!==e.reality.short_id.length?2:0},children:(0,p.jsxs)(x.Z,{className:"mb-2",children:[(0,p.jsx)(m.Z.Control,{value:r.value,onChange:e=>o({value:e.target.value})}),(0,p.jsx)(g.Z,{variant:"outline-success",onClick:()=>t(e=>{e.short_id.push(r.value)}),children:(0,p.jsx)("i",{className:"bi bi-plus-lg"})})]})})]}),(0,p.jsxs)(m.Z.Group,{as:b.Z,className:"mb-3",children:[(0,p.jsx)(m.Z.Label,{column:!0,sm:2,className:"nowrap",children:"Server Name"}),e.reality.server_name.map((e,r)=>(0,p.jsx)(y.Z,{sm:{span:10,offset:0!==r?2:0},children:(0,p.jsxs)(x.Z,{className:"mb-2",children:[(0,p.jsx)(m.Z.Control,{value:e,onChange:e=>t(t=>{t.server_name[r]=e.target.value})}),(0,p.jsx)(g.Z,{variant:"outline-danger",onClick:()=>t(e=>{e.server_name.splice(r,1)}),children:(0,p.jsx)("i",{className:"bi bi-x-lg"})})]})},r)),(0,p.jsx)(y.Z,{sm:{span:10,offset:0!==e.reality.server_name.length?2:0},children:(0,p.jsxs)(x.Z,{className:"mb-2",children:[(0,p.jsx)(m.Z.Control,{value:s.value,onChange:e=>n({value:e.target.value})}),(0,p.jsx)(g.Z,{variant:"outline-success",onClick:()=>t(e=>{e.server_name.push(s.value)}),children:(0,p.jsx)("i",{className:"bi bi-plus-lg"})})]})})]})]})}),ez=f.memo(e=>{let t=t=>{e.onChange((0,T.Uy)(e.yuubinsya,e=>{t(e)}))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(j.Jg,{label:"Force Disable Encrypt",checked:e.yuubinsya.force_disable_encrypt,onChange:()=>t(e=>e.force_disable_encrypt=!e.force_disable_encrypt)}),(0,p.jsx)(j.Vf,{label:"Host",value:e.yuubinsya.host,onChange:e=>t(t=>t.host=e)}),(0,p.jsx)(j.Vf,{label:"Password",value:e.yuubinsya.password,onChange:e=>t(t=>t.password=e)}),(()=>{var r;switch(null===(r=e.yuubinsya.protocol)||void 0===r?void 0:r.$case){case"websocket":return(0,p.jsx)(eB,{websocket:e.yuubinsya.protocol.websocket,onChange:e=>t(t=>t.protocol={$case:"websocket",websocket:e})});case"quic":return(0,p.jsx)(eH,{quic:e.yuubinsya.protocol.quic,onChange:e=>t(t=>t.protocol={$case:"quic",quic:e})});case"grpc":return(0,p.jsx)(eK,{grpc:e.yuubinsya.protocol.grpc,onChange:e=>t(t=>t.protocol={$case:"grpc",grpc:e})});case"http2":return(0,p.jsx)(eM,{http2:e.yuubinsya.protocol.http2,onChange:e=>t(t=>t.protocol={$case:"http2",http2:e})});case"reality":return(0,p.jsx)(eQ,{reality:e.yuubinsya.protocol.reality,onChange:e=>t(t=>t.protocol={$case:"reality",reality:e})});case"tls":return(0,p.jsx)(eY,{tls:e.yuubinsya.protocol.tls,onChange:e=>t(t=>t.protocol={$case:"tls",tls:e})})}})()]})}),eX=f.memo(e=>{var t;let r=t=>{e.onChange((0,T.Uy)(e.protocol,e=>{t(e)}))};switch(null===(t=e.protocol.protocol)||void 0===t?void 0:t.$case){case"http":return(0,p.jsx)(eG,{http:e.protocol.protocol.http,onChange:e=>r(t=>t.protocol={$case:"http",http:e})});case"socks5":return(0,p.jsx)(eq,{socks5:e.protocol.protocol.socks5,onChange:e=>r(t=>t.protocol={$case:"socks5",socks5:e})});case"redir":return(0,p.jsx)(eV,{redir:e.protocol.protocol.redir,onChange:e=>r(t=>t.protocol={$case:"redir",redir:e})});case"tun":return(0,p.jsx)(eW,{tun:e.protocol.protocol.tun,onChange:e=>r(t=>t.protocol={$case:"tun",tun:e})});case"yuubinsya":return(0,p.jsx)(ez,{yuubinsya:e.protocol.protocol.yuubinsya,onChange:e=>r(t=>t.protocol={$case:"yuubinsya",yuubinsya:e})})}return(0,p.jsx)(p.Fragment,{})}),e0=f.memo(e=>{let[t,r]=(0,f.useState)({value:"http",name:""}),o=t=>{e.onChange((0,T.Uy)(e.server,e=>{t(e)}))};return(0,p.jsxs)(p.Fragment,{children:[Object.entries(e.server).map(e=>{let[t,r]=e;return(0,p.jsxs)("div",{children:[(0,p.jsxs)(h.Z.Title,{className:"d-flex justify-content-between align-items-center",children:[t,(0,p.jsx)(g.Z,{variant:"outline-danger",onClick:()=>o(e=>{delete e[t]}),children:(0,p.jsx)("i",{className:"bi bi-x-lg"})})]}),(0,p.jsx)(j.Jg,{label:"Enabled",checked:r.enabled,onChange:()=>o(e=>e[t].enabled=!e[t].enabled)}),(0,p.jsx)(eX,{protocol:r,onChange:e=>o(r=>r[t]=e)}),(0,p.jsx)("hr",{})]},t)}),(0,p.jsx)(h.Z,{className:"mb-2",children:(0,p.jsxs)(h.Z.Body,{children:[(0,p.jsx)(h.Z.Title,{children:"New Inbound"}),(0,p.jsx)(Q.Z,{label:"Protocol",className:"mb-2",children:(0,p.jsxs)(m.Z.Select,{value:t.value,onChange:e=>r({...t,value:e.target.value}),children:[(0,p.jsx)("option",{value:"http",children:"HTTP"}),(0,p.jsx)("option",{value:"socks5",children:"SOCKS5"}),(0,p.jsx)("option",{value:"tun",children:"TUN"}),(0,p.jsx)("option",{value:"redir",children:"Redir"}),(0,p.jsx)("option",{value:"yuubinsya",children:"Yuubinsya"}),(0,p.jsx)("option",{value:"yuubinsya-websocket",children:"Yuubinsya Websocket"}),(0,p.jsx)("option",{value:"yuubinsya-tls",children:"Yuubinsya TLS"}),(0,p.jsx)("option",{value:"yuubinsya-grpc",children:"Yuubinsya GRPC"}),(0,p.jsx)("option",{value:"yuubinsya-quic",children:"Yuubinsya QUIC"}),(0,p.jsx)("option",{value:"yuubinsya-http2",children:"Yuubinsya HTTP2"}),(0,p.jsx)("option",{value:"yuubinsya-reality",children:"Yuubinsya Reality"})]})}),(0,p.jsxs)(x.Z,{className:"d-flex justify-content-end",children:[(0,p.jsx)(m.Z.Control,{value:t.name,onChange:e=>r({...t,name:e.target.value})}),(0,p.jsxs)(g.Z,{variant:"outline-success",onClick:()=>o(e=>{console.log(t),e2(e,t.name,t.value)}),children:[(0,p.jsx)("i",{className:"bi bi-plus-lg"}),"New Inbound"]})]})]})})]})}),e2=(e,t,r)=>{if(""===t||void 0!==e[t])return;let o={name:t,enabled:!1};switch(r){case"http":o.protocol={$case:"http",http:{host:":8188",username:"",password:""}};break;case"socks5":o.protocol={$case:"socks5",socks5:{host:":1080",password:"",username:""}};break;case"tun":o.protocol={$case:"tun",tun:{name:"tun://tun0",mtu:1500,gateway:"172.16.0.1",dns_hijacking:!0,skip_multicast:!1,driver:d.system_gvisor,portal:"172.16.0.2"}};break;case"redir":o.protocol={$case:"redir",redir:{host:":8088"}};break;case"yuubinsya":o.protocol={$case:"yuubinsya",yuubinsya:{host:":2096",force_disable_encrypt:!1,password:"password",protocol:{$case:"normal",normal:{}}}};break;case"yuubinsya-websocket":o.protocol={$case:"yuubinsya",yuubinsya:{host:":2096",force_disable_encrypt:!1,password:"password",protocol:{$case:"websocket",websocket:{tls:void 0}}}};break;case"yuubinsya-tls":o.protocol={$case:"yuubinsya",yuubinsya:{host:":2096",force_disable_encrypt:!1,password:"password",protocol:{$case:"tls",tls:{tls:void 0}}}};break;case"yuubinsya-grpc":o.protocol={$case:"yuubinsya",yuubinsya:{host:":2096",force_disable_encrypt:!1,password:"password",protocol:{$case:"grpc",grpc:{tls:void 0}}}};break;case"yuubinsya-quic":o.protocol={$case:"yuubinsya",yuubinsya:{host:":2096",force_disable_encrypt:!1,password:"password",protocol:{$case:"quic",quic:{tls:void 0}}}};break;case"yuubinsya-http2":o.protocol={$case:"yuubinsya",yuubinsya:{host:":2096",force_disable_encrypt:!1,password:"password",protocol:{$case:"http2",http2:{tls:void 0}}}};break;case"yuubinsya-reality":o.protocol={$case:"yuubinsya",yuubinsya:{host:":2096",force_disable_encrypt:!1,password:"password",protocol:{$case:"reality",reality:{short_id:["123456"],server_name:["www.example.com"],private_key:"",dest:"dl.google.com:443",debug:!1}}}};break;default:return}e[t]=o};var e3=r(1308),e1=r(6347);function e4(e){switch(e){case 0:case"verbose":return v.verbose;case 1:case"debug":return v.debug;case 2:case"info":return v.info;case 3:case"warning":return v.warning;case 4:case"error":return v.error;case 5:case"fatal":return v.fatal;default:return v.UNRECOGNIZED}}function e6(e){switch(e){case v.verbose:return"verbose";case v.debug:return"debug";case v.info:return"info";case v.warning:return"warning";case v.error:return"error";case v.fatal:return"fatal";case v.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function e5(){return{level:0,save:!1}}(l=v||(v={}))[l.verbose=0]="verbose",l[l.debug=1]="debug",l[l.info=2]="info",l[l.warning=3]="warning",l[l.error=4]="error",l[l.fatal=5]="fatal",l[l.UNRECOGNIZED=-1]="UNRECOGNIZED";let e7={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w().Writer.create();return 0!==e.level&&t.uint32(8).int32(e.level),!0===e.save&&t.uint32(16).bool(e.save),t},decode(e,t){let r=e instanceof w().Reader?e:w().Reader.create(e),o=void 0===t?r.len:r.pos+t,s=e5();for(;r.pos<o;){let e=r.uint32();switch(e>>>3){case 1:if(8!==e)break;s.level=r.int32();continue;case 2:if(16!==e)break;s.save=r.bool();continue}if((7&e)==4||0===e)break;r.skipType(7&e)}return s},fromJSON:e=>{var t,r;return{level:null!=e.level?e4(e.level):0,save:null!=e.save&&!!e.save}},toJSON(e){let t={};return 0!==e.level&&(t.level=e6(e.level)),!0===e.save&&(t.save=e.save),t},create:e=>e7.fromPartial(null!=e?e:{}),fromPartial(e){var t,r;let o=e5();return o.level=null!==(t=e.level)&&void 0!==t?t:0,o.save=null!==(r=e.save)&&void 0!==r&&r,o}};function e8(){return{ipv6:!1,net_interface:"",system_proxy:void 0,bypass:void 0,dns:void 0,server:void 0,logcat:void 0}}let e9={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w().Writer.create();return!0===e.ipv6&&t.uint32(56).bool(e.ipv6),""!==e.net_interface&&t.uint32(50).string(e.net_interface),void 0!==e.system_proxy&&tt.encode(e.system_proxy,t.uint32(10).fork()).ldelim(),void 0!==e.bypass&&F.encode(e.bypass,t.uint32(18).fork()).ldelim(),void 0!==e.dns&&P.encode(e.dns,t.uint32(34).fork()).ldelim(),void 0!==e.server&&eo.encode(e.server,t.uint32(42).fork()).ldelim(),void 0!==e.logcat&&e7.encode(e.logcat,t.uint32(66).fork()).ldelim(),t},decode(e,t){let r=e instanceof w().Reader?e:w().Reader.create(e),o=void 0===t?r.len:r.pos+t,s=e8();for(;r.pos<o;){let e=r.uint32();switch(e>>>3){case 7:if(56!==e)break;s.ipv6=r.bool();continue;case 6:if(50!==e)break;s.net_interface=r.string();continue;case 1:if(10!==e)break;s.system_proxy=tt.decode(r,r.uint32());continue;case 2:if(18!==e)break;s.bypass=F.decode(r,r.uint32());continue;case 4:if(34!==e)break;s.dns=P.decode(r,r.uint32());continue;case 5:if(42!==e)break;s.server=eo.decode(r,r.uint32());continue;case 8:if(66!==e)break;s.logcat=e7.decode(r,r.uint32());continue}if((7&e)==4||0===e)break;r.skipType(7&e)}return s},fromJSON:e=>({ipv6:!!tr(e.ipv6)&&!!e.ipv6,net_interface:tr(e.net_interface)?String(e.net_interface):"",system_proxy:tr(e.system_proxy)?tt.fromJSON(e.system_proxy):void 0,bypass:tr(e.bypass)?F.fromJSON(e.bypass):void 0,dns:tr(e.dns)?P.fromJSON(e.dns):void 0,server:tr(e.server)?eo.fromJSON(e.server):void 0,logcat:tr(e.logcat)?e7.fromJSON(e.logcat):void 0}),toJSON(e){let t={};return!0===e.ipv6&&(t.ipv6=e.ipv6),""!==e.net_interface&&(t.net_interface=e.net_interface),void 0!==e.system_proxy&&(t.system_proxy=tt.toJSON(e.system_proxy)),void 0!==e.bypass&&(t.bypass=F.toJSON(e.bypass)),void 0!==e.dns&&(t.dns=P.toJSON(e.dns)),void 0!==e.server&&(t.server=eo.toJSON(e.server)),void 0!==e.logcat&&(t.logcat=e7.toJSON(e.logcat)),t},create:e=>e9.fromPartial(null!=e?e:{}),fromPartial(e){var t,r;let o=e8();return o.ipv6=null!==(t=e.ipv6)&&void 0!==t&&t,o.net_interface=null!==(r=e.net_interface)&&void 0!==r?r:"",o.system_proxy=void 0!==e.system_proxy&&null!==e.system_proxy?tt.fromPartial(e.system_proxy):void 0,o.bypass=void 0!==e.bypass&&null!==e.bypass?F.fromPartial(e.bypass):void 0,o.dns=void 0!==e.dns&&null!==e.dns?P.fromPartial(e.dns):void 0,o.server=void 0!==e.server&&null!==e.server?eo.fromPartial(e.server):void 0,o.logcat=void 0!==e.logcat&&null!==e.logcat?e7.fromPartial(e.logcat):void 0,o}};function te(){return{http:!1,socks5:!1}}let tt={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w().Writer.create();return!0===e.http&&t.uint32(16).bool(e.http),!0===e.socks5&&t.uint32(24).bool(e.socks5),t},decode(e,t){let r=e instanceof w().Reader?e:w().Reader.create(e),o=void 0===t?r.len:r.pos+t,s=te();for(;r.pos<o;){let e=r.uint32();switch(e>>>3){case 2:if(16!==e)break;s.http=r.bool();continue;case 3:if(24!==e)break;s.socks5=r.bool();continue}if((7&e)==4||0===e)break;r.skipType(7&e)}return s},fromJSON:e=>({http:!!tr(e.http)&&!!e.http,socks5:!!tr(e.socks5)&&!!e.socks5}),toJSON(e){let t={};return!0===e.http&&(t.http=e.http),!0===e.socks5&&(t.socks5=e.socks5),t},create:e=>tt.fromPartial(null!=e?e:{}),fromPartial(e){var t,r;let o=te();return o.http=null!==(t=e.http)&&void 0!==t&&t,o.socks5=null!==(r=e.socks5)&&void 0!==r&&r,o}};function tr(e){return null!=e}var to=r(713),ts=r(6934),tn=r(1375),ta=r.n(tn),tl=function(){let e=(0,f.useContext)(e1.P),{data:t,error:r,isLoading:o,mutate:s}=(0,to.ZP)("/config",(0,ts.hW)(e9),{revalidateOnFocus:!1});if(void 0!==r)return(0,p.jsx)(ta(),{statusCode:r.code,title:r.msg});if(o||void 0===t)return(0,p.jsx)(e3.Z,{});let n=e=>{s(t=>(0,T.Uy)(t,t=>{e(t)}),!1)};return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(h.Z,{className:"mb-3",children:(0,p.jsxs)(h.Z.Body,{children:[(0,p.jsxs)(k.Z,{defaultActiveKey:"home",className:"mb-3",children:[(0,p.jsxs)(_.Z,{eventKey:"home",title:"Home",children:[(0,p.jsx)(j.Jg,{label:"IPv6",checked:t.ipv6,onChange:()=>s({...t,ipv6:!t.ipv6},!1)}),(0,p.jsx)(j.Vf,{label:"Network Interface",value:t.net_interface,onChange:e=>n(t=>t.net_interface=e)}),(0,p.jsx)("hr",{}),(0,p.jsx)(h.Z.Title,{className:"mb-2",children:"System Proxy"}),(0,p.jsx)(j.Jg,{label:"SOCKS5",checked:t.system_proxy.socks5,onChange:()=>n(e=>{var t;return e.system_proxy.socks5=!(null===(t=e.system_proxy)||void 0===t?void 0:t.socks5)})}),(0,p.jsx)(j.Jg,{label:"HTTP",checked:t.system_proxy.http,onChange:()=>n(e=>e.system_proxy.http=!e.system_proxy.http)}),(0,p.jsx)("hr",{}),(0,p.jsx)(h.Z.Title,{className:"mb-2",children:"Logcat"}),(0,p.jsx)(j.Jg,{label:"Save",checked:t.logcat.save,onChange:()=>n(e=>e.logcat.save=!e.logcat.save)}),(0,p.jsx)(ti,{label:"Level",value:t.logcat.level,onChange:e=>n(t=>{t.logcat.level=e})})]}),(0,p.jsx)(_.Z,{eventKey:"bypass",title:"Bypass",children:(0,p.jsx)(H,{bypass:t.bypass,onChange:e=>n(t=>t.bypass=e)})}),(0,p.jsx)(_.Z,{eventKey:"dns",title:"DNS",children:(0,p.jsx)(U,{data:t.dns,onChange:e=>n(t=>t.dns=e)})}),(0,p.jsx)(_.Z,{eventKey:"inbound",title:"Inbound",children:(0,p.jsx)(e0,{server:t.server.servers,onChange:e=>n(t=>t.server.servers=e)})})]}),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("hr",{}),(0,p.jsx)(g.Z,{onClick:()=>{(0,ts.Uo)("/config",{body:e9.encode(t).finish()}).then(async t=>{let{error:r}=t;void 0!==r?e.Error("save config failed, ".concat(r.code,"| ").concat(await r.msg)):(e.Info("Save Config Successfully"),s())})},children:"Save"})]})]})})})};function ti(e){return(0,p.jsxs)(m.Z.Group,{as:b.Z,className:"mb-3",children:[(0,p.jsx)(m.Z.Label,{column:!0,sm:2,children:e.label}),(0,p.jsx)(y.Z,{sm:10,children:(0,p.jsxs)(m.Z.Select,{value:e6(e.value),onChange:t=>e.onChange(e4(t.target.value)),children:[(0,p.jsx)("option",{value:e6(v.debug),children:"DEBUG"}),(0,p.jsx)("option",{value:e6(v.info),children:"INFO"}),(0,p.jsx)("option",{value:e6(v.warning),children:"WARN"}),(0,p.jsx)("option",{value:e6(v.error),children:"ERROR"})]})})]})}}},function(e){e.O(0,[359,441,331,895,8,173,326,241,971,596,744],function(){return e(e.s=6320)}),_N_E=e.O()}]);