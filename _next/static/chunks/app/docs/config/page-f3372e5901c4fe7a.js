(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8779],{6381:(e,l,a)=>{Promise.resolve().then(a.bind(a,493))},7294:(e,l,a)=>{"use strict";a.d(l,{R:()=>h,O:()=>v});var n=a(2115),s=a(7021),t=a(6788),r=a(4395),o=a(9297);let i=(0,t.w)("ChF0b29scy90b29scy5wcm90bxINeXVoYWlpbi50b29scyI6CgpJbnRlcmZhY2VzEiwKCmludGVyZmFjZXMYASADKAsyGC55dWhhaWluLnRvb2xzLkludGVyZmFjZSIsCglJbnRlcmZhY2USDAoEbmFtZRgBIAEoCRIRCglhZGRyZXNzZXMYAiADKAkySwoFdG9vbHMSQgoNZ2V0X2ludGVyZmFjZRIWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRoZLnl1aGFpaW4udG9vbHMuSW50ZXJmYWNlc0IvWi1naXRodWIuY29tL0FzdXRvcnVmYS95dWhhaWluL3BrZy9wcm90b3MvdG9vbHNiBnByb3RvMw",[o.t]),d=(0,r.Z)(i,0);var c=a(8927);let v=(0,n.createContext)([]);function h(){let{data:e}=(0,s.Ay)("/interfaces",(0,c.AD)(d.method.get_interface),{revalidateOnFocus:!1});return e?e.interfaces:[]}},2859:(e,l,a)=>{"use strict";a.d(l,{$d:()=>o,FX:()=>c,Vx:()=>i,no:()=>d});var n=a(5155),s=a(6180),t=a(6121),r=a(3667);let o=e=>{let{label:l,checked:a,onChange:o}=e;return(0,n.jsxs)(s.A.Group,{as:t.A,className:"mb-2",children:[(0,n.jsx)(s.A.Label,{column:!0,sm:2,children:l}),(0,n.jsx)(r.A,{sm:10,className:"d-flex align-items-center",children:(0,n.jsx)(s.A.Check,{className:"d-flex align-items-center",type:"switch",checked:a,onChange:e=>o(e.target.checked)})})]})},i=e=>{var l;let{...a}=e;return(0,n.jsxs)(s.A.Group,{as:t.A,className:a.lastElem?"":"mb-2",children:[(0,n.jsx)(s.A.Label,{column:!0,sm:2,children:a.label}),(0,n.jsx)(r.A,{sm:10,children:(0,n.jsx)(s.A.Select,{value:a.value,onChange:e=>a.onChange(Number(e.target.value)),children:a.type.values.filter(null!==(l=a.filter)&&void 0!==l?l:()=>!0).map(e=>(0,n.jsx)("option",{value:e.number,children:a.format?a.format(e.number):e.name},e.number))})})]})},d=e=>{let{label:l,values:a,onChange:o,value:i,emptyChoose:d,lastElem:c}=e;return(0,n.jsxs)(s.A.Group,{as:t.A,className:c?"":"mb-2",children:[(0,n.jsx)(s.A.Label,{column:!0,sm:2,children:l}),(0,n.jsx)(r.A,{sm:10,children:(0,n.jsxs)(s.A.Select,{value:i,onChange:e=>o(e.target.value),children:[d&&(0,n.jsx)("option",{value:"",children:"Choose..."}),a.map(e=>(0,n.jsx)("option",{value:e,children:e},e))]})})]})},c=e=>{let{values:l,onChange:a,value:t,emptyChoose:r,format:o}=e;return(0,n.jsxs)(s.A.Select,{value:t,onChange:e=>a(e.target.value),children:[r&&(0,n.jsx)("option",{value:"",children:"Choose..."}),l.map(e=>{let l="string"==typeof e?e:e[0],a="string"==typeof e?e:e[1];return(0,n.jsx)("option",{value:a,children:o?o(l):l},l)})]})}},148:(e,l,a)=>{"use strict";a.d(l,{u:()=>o,y:()=>i});var n=a(5155),s=a(2115),t=a(1757),r=a(491);let o=(0,s.createContext)({Info:e=>{console.log(e)},Error:e=>{console.error(e)}}),i=e=>{let{children:l}=e,[a,i]=(0,s.useState)({value:{},index:0}),d=(e,l)=>i(a=>({value:{...a.value,[a.index]:{text:e,type:l}},index:a.index+1}));return(0,n.jsxs)(o.Provider,{value:{Info:e=>{console.log(e),d(e,"success")},Error:e=>{console.error(e),d(e,"danger")}},children:[(0,n.jsx)(t.A,{className:"p-3",position:"top-center",containerPosition:"fixed",style:{zIndex:999999},children:Object.entries(a.value).map(e=>{let[l,a]=e;return(0,n.jsxs)(r.A,{role:"alert","aria-live":"assertive",show:!0,bg:a.type,onClose:()=>{i(e=>{let a={...e.value};return delete a[l],{...e,value:a}})},"aria-atomic":"true",delay:4e3,autohide:!0,animation:!0,children:[(0,n.jsxs)(r.A.Header,{children:[(0,n.jsx)("strong",{className:"me-auto",children:"Notification"}),(0,n.jsx)("small",{className:"text-muted",children:"just now"})]}),(0,n.jsx)(r.A.Body,{className:"text-center",children:a.text})]},"toast"+l)})}),l]})}},493:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>D});var n=a(5155),s=a(3577),t=a(5554),r=a.n(t),o=a(2115),i=a(7471),d=a(2981),c=a(3360),v=a(6180),h=a(6121),u=a(3667),x=a(5166),m=a(8627),j=a(2963),g=a(7021),b=a(7294),p=a(9169),C=a(8927),A=a(2859),f=a(148),y=a(878),k=a(1463),N=a(6863),S=a(4431),I=a(7204),F=a(8003);let R=e=>{let{title:l,value:a,onChange:s}=e;return(0,n.jsx)(I.mc,{title:l,hideClose:!0,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(I.a9,{label:"Host",value:a.host,onChange:e=>s({...a,host:e})}),(0,n.jsx)(A.Vx,{label:"Type",type:k.m9,value:a.type,onChange:e=>s({...a,type:e})}),(0,n.jsx)(I.a9,{label:"Subnet",value:a.subnet,onChange:e=>s({...a,subnet:e})}),(0,n.jsx)(I.a9,{mb:"",label:"SNI",value:a.tlsServername,onChange:e=>s({...a,tlsServername:e})})]})})},w=e=>{var l,a,t;let[r,i]=(0,o.useState)({key:"",value:""});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(I.a9,{label:"Server",value:e.value.server,onChange:l=>e.onChange({...e.value,server:l})}),(0,n.jsx)(I.mc,{title:"FakeDNS",hideClose:!0,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(A.$d,{label:"Enabled",checked:e.value.fakedns,onChange:()=>e.onChange({...e.value,fakedns:!e.value.fakedns})}),(0,n.jsx)(I.a9,{label:"IPv4 Range",value:e.value.fakednsIpRange,onChange:l=>e.onChange({...e.value,fakednsIpRange:l})}),(0,n.jsx)(I.a9,{label:"IPv6 Range",value:e.value.fakednsIpv6Range,onChange:l=>e.onChange({...e.value,fakednsIpv6Range:l})}),(0,n.jsx)(I.e9,{title:"Whitelist",data:e.value.fakednsWhitelist,onChange:l=>e.onChange({...e.value,fakednsWhitelist:l})})]})}),(0,n.jsx)(R,{title:"Local DNS",value:null!==(l=e.value.local)&&void 0!==l?l:(0,s.v)(k.Rx,{}),onChange:l=>e.onChange({...e.value,local:l})}),(0,n.jsx)(R,{title:"Remote DNS",value:null!==(a=e.value.remote)&&void 0!==a?a:(0,s.v)(k.Rx,{}),onChange:l=>e.onChange({...e.value,remote:l})}),(0,n.jsx)(R,{title:"Bootstrap DNS",value:null!==(t=e.value.bootstrap)&&void 0!==t?t:(0,s.v)(k.Rx,{}),onChange:l=>e.onChange({...e.value,bootstrap:l})}),(0,n.jsx)(I.mc,{title:"Hosts",hideClose:!0,children:(0,n.jsxs)(n.Fragment,{children:[Object.entries(e.value.hosts).sort((e,l)=>{let[a]=e,[n]=l;return a>n?-1:1}).map(l=>{let[a,s]=l;return(0,n.jsxs)(F.A,{className:"mb-2",children:[(0,n.jsx)(v.A.Control,{readOnly:!0,value:a}),(0,n.jsx)(F.A.Text,{children:(0,n.jsx)("i",{className:"bi bi-arrow-right"})}),(0,n.jsx)(v.A.Control,{value:s,onChange:l=>e.onChange({...e.value,hosts:{...e.value.hosts,[a]:l.target.value}})}),(0,n.jsx)(j.A,{variant:"outline-danger",onClick:()=>{let l={...e.value.hosts};delete l[a],e.onChange({...e.value,hosts:l})},children:(0,n.jsx)("i",{className:"bi bi-x-lg"})})]},"hosts"+a)}),(0,n.jsxs)(F.A,{children:[(0,n.jsx)(v.A.Control,{value:r.key,onChange:e=>i({...r,key:e.target.value})}),(0,n.jsx)(F.A.Text,{children:(0,n.jsx)("i",{className:"bi bi-arrow-right"})}),(0,n.jsx)(v.A.Control,{value:r.value,onChange:e=>i({...r,value:e.target.value})}),(0,n.jsx)(j.A,{variant:"outline-success",onClick:()=>{""!==r.key&&void 0===e.value.hosts[r.key]&&e.onChange({...e.value,hosts:{...e.value.hosts,[r.key]:r.value}})},children:(0,n.jsx)("i",{className:"bi bi-plus-lg"})})]})]})})]})},D=function(){var e,l,a,t,F,R,D,Z,P;let L=(0,o.useContext)(f.u),{data:W,error:G,isLoading:E,mutate:O}=(0,g.Ay)("/config",(0,C.AD)(N.hF.method.load),{revalidateOnFocus:!1}),V=(0,b.R)();if(void 0!==G)return(0,n.jsx)(r(),{statusCode:G.code,title:G.msg});if(E||void 0===W)return(0,n.jsx)(p.A,{});let X=e=>{var l,a;let n=[];return(null===(l=e.systemProxy)||void 0===l?void 0:l.http)&&n.push(1),(null===(a=e.systemProxy)||void 0===a?void 0:a.socks5)&&n.push(2),n};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(i.A.Container,{defaultActiveKey:"home",children:(0,n.jsxs)(d.A,{className:"mb-3",children:[(0,n.jsx)(d.A.Header,{children:(0,n.jsxs)(c.A,{variant:"tabs",style:{flexWrap:"nowrap",overflow:"auto hidden"},children:[(0,n.jsx)(c.A.Item,{children:(0,n.jsx)(c.A.Link,{eventKey:"home",children:"Setting"})}),(0,n.jsx)(c.A.Item,{children:(0,n.jsx)(c.A.Link,{eventKey:"dns",children:"DNS(Deprecated)"})})]})}),(0,n.jsx)(d.A.Body,{children:(0,n.jsxs)(i.A.Content,{children:[(0,n.jsx)(i.A.Pane,{eventKey:"home",children:(0,n.jsxs)("fieldset",{disabled:null===(e=W.platform)||void 0===e?void 0:e.androidApp,children:[(0,n.jsx)(A.$d,{label:"IPv6",checked:W.ipv6,onChange:()=>O({...W,ipv6:!W.ipv6},!1)}),(0,n.jsx)(I.a9,{label:"Network Interface",value:W.netInterface,onChange:e=>O({...W,netInterface:e},!1),reminds:V.map(e=>{var l;if(e.name)return{label:e.name,value:e.name,label_children:null===(l=e.addresses)||void 0===l?void 0:l.map(e=>e||"")}}).filter(e=>!!e)}),(0,n.jsxs)(v.A.Group,{as:h.A,className:"mb-2",children:[(0,n.jsx)(v.A.Label,{column:!0,sm:2,className:"nowrap",children:"System Proxy"}),(0,n.jsx)(u.A,{sm:10,children:(0,n.jsxs)(x.A,{type:"checkbox",className:"d-flex",defaultValue:X(W),value:X(W),onChange:e=>{let l=!1,a=!1;for(let n of e)1===n&&(l=!0),2===n&&(a=!0);O({...W,systemProxy:(0,s.v)(y.Oe,{http:l,socks5:a})},!1)},children:[(0,n.jsx)(m.A,{variant:"outline-primary",className:"w-100",id:"system-proxy-tbg-btn-1",value:1,children:"HTTP"}),(0,n.jsx)(m.A,{variant:"outline-primary",className:"w-100",id:"system-proxy-tbg-btn-2",value:2,children:"SOCKS5"})]})})]}),(0,n.jsx)("hr",{}),(0,n.jsx)(d.A.Title,{className:"mb-2",children:"Inbound"}),(0,n.jsx)(A.$d,{label:"DNS Hijack",checked:null!==(l=W.server)&&void 0!==l&&!!l.hijackDns,onChange:()=>O({...W,server:{...W.server,hijackDns:!W.server.hijackDns}},!1)}),(0,n.jsx)(A.$d,{label:"Fakedns",checked:null!==(a=W.server)&&void 0!==a&&!!a.hijackDnsFakeip,onChange:()=>O({...W,server:{...W.server,hijackDnsFakeip:!W.server.hijackDnsFakeip}},!1)}),(0,n.jsx)(A.$d,{label:"Sniff",checked:null!==(F=W.server)&&void 0!==F&&null!==(t=F.sniff)&&void 0!==t&&!!t.enabled,onChange:()=>O({...W,server:{...W.server,sniff:{...W.server.sniff,enabled:!W.server.sniff.enabled}}},!1)}),(0,n.jsx)("hr",{}),(0,n.jsx)(d.A.Title,{className:"mb-2",children:"DNS"}),(0,n.jsx)(I.a9,{label:"DNS Server",value:(null===(R=W.dns)||void 0===R?void 0:R.server)?null===(D=W.dns)||void 0===D?void 0:D.server:"",onChange:e=>O({...W,dns:{...W.dns,server:e}},!1)}),(0,n.jsx)("hr",{}),(0,n.jsx)(d.A.Title,{className:"mb-2",children:"Logcat"}),(0,n.jsx)(A.$d,{label:"Save",checked:W.logcat.save,onChange:e=>O({...W,logcat:{...W.logcat,save:e}},!1)}),(0,n.jsx)(A.Vx,{label:"Level",type:S.LM,value:W.logcat.level,filter:e=>e.number!==S.cP.verbose&&e.number!==S.cP.fatal,onChange:e=>O({...W,logcat:{...W.logcat,level:e}},!1)})]})}),(0,n.jsx)(i.A.Pane,{eventKey:"dns",title:"DNS",children:(0,n.jsx)("fieldset",{disabled:null===(Z=W.platform)||void 0===Z?void 0:Z.androidApp,children:(0,n.jsx)(w,{value:(0,s.v)(k.ct,W.dns),onChange:e=>O({...W,dns:e},!1)})})})]})}),!(null===(P=W.platform)||void 0===P?void 0:P.androidApp)&&(0,n.jsx)(d.A.Footer,{className:"d-flex justify-content-md-end",children:(0,n.jsx)(j.A,{variant:"outline-primary",onClick:()=>{(0,C.kP)(N.hF.method.save,"/config","POST",W).then(async e=>{let{error:l}=e;void 0!==l?L.Error("save config failed, ".concat(l.code,"| ").concat(await l.msg)):(L.Info("Save Config Successfully"),O())})},children:"Save"})})]})})})}}},e=>{var l=l=>e(e.s=l);e.O(0,[7295,867,6306,8920,9818,9637,2605,1922,6863,8441,1517,7358],()=>l(6381)),_N_E=e.O()}]);