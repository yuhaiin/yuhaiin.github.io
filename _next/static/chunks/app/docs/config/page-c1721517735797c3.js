(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[347],{6320:function(e,n,t){Promise.resolve().then(t.bind(t,923))},9865:function(e,n,t){"use strict";t.d(n,{$f:function(){return m},XE:function(){return d},YO:function(){return o},fG:function(){return s},gU:function(){return i},gW:function(){return h},qQ:function(){return a},r:function(){return u},rQ:function(){return r},zP:function(){return c}});var s="",a="https://raw.githubusercontent.com/yuhaiin/yuhaiin/ACL/yuhaiin/yuhaiin.conf",r="https://clients3.google.com/generate_204",i="dns.nextdns.io:853",o=!0;let l=()=>{let e=localStorage.getItem("api_url");s=null!==e?e:"",null!==(e=localStorage.getItem("remote_bypass"))&&(a=e),null!==(e=localStorage.getItem("latency_http_url"))&&(r=e),null!==(e=localStorage.getItem("latency_dns_url"))&&(i=e),null!==(e=localStorage.getItem("latency_ipv6"))&&(o="true"===e)},u=e=>{p("api_url",e)},c=e=>{p("remote_bypass",e)},m=e=>{p("latency_dns_url",e)},d=e=>{p("latency_http_url",e)},h=e=>{p("latency_ipv6",e.toString())},p=(e,n)=>{""===n?localStorage.removeItem(e):localStorage.setItem(e,n),l()};l()},6491:function(e,n,t){"use strict";var s=t(7437),a=t(477),r=t(2283),i=t.n(r);n.Z=function(e){return(0,s.jsxs)("div",{className:"z-1090 d-flex flex-column justify-content-center align-items-center",style:{height:"100px"},children:[void 0!==e.children&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i(),{className:"p2",statusCode:void 0!==e.code?e.code:500,title:e.children})}),(0,s.jsx)("div",{className:"p2",children:(0,s.jsx)(a.Z,{})})]})}},8224:function(e,n,t){"use strict";t.d(n,{D4:function(){return r},Sv:function(){return a},Uo:function(){return i}});var s=t(9865);function a(e){return null==e?{}:e}function r(e,n,t){return a=>fetch("".concat(s.fG).concat(a),{method:n,body:t}).then(async n=>{if(!n.ok)throw{code:n.status,msg:n.statusText,raw:n.text()};return e.fromBinary(new Uint8Array(await n.arrayBuffer()))})}let i=async(e,n)=>{let t=await fetch("".concat(s.fG).concat(e),{method:void 0!==n.method?n.method:"POST",body:n.body});return t.ok?void 0===n.process?{}:{data:n.process(t)}:{error:{code:t.status,msg:t.text()}}}},3227:function(e,n,t){"use strict";t.d(n,{J:function(){return o}});var s=t(7437);t(2265);var a=t(9317),r=t(5914),i=t(590);let o=e=>(0,s.jsxs)(a.Z.Group,{as:r.Z,className:"mb-2",children:[(0,s.jsx)(a.Z.Label,{column:!0,sm:2,children:e.label}),(0,s.jsx)(i.Z,{sm:10,className:"d-flex align-items-center",children:(0,s.jsx)(a.Z.Check,{className:"d-flex align-items-center",type:"switch",checked:e.checked,onChange:()=>e.onChange()})})]})},6756:function(e,n,t){"use strict";t.d(n,{P:function(){return o},t:function(){return l}});var s=t(7437),a=t(2265),r=t(4349),i=t(4051);let o=(0,a.createContext)({Info:e=>{},Error:e=>{}}),l=e=>{let{children:n}=e,[t,l]=(0,a.useState)({value:{},index:0}),u=(e,n)=>l(t=>({value:{...t.value,[t.index]:{text:e,type:n}},index:t.index+1}));return(0,s.jsxs)(o.Provider,{value:{Info:e=>{console.log(e),u(e,"success")},Error:e=>{console.error(e),u(e,"danger")}},children:[(0,s.jsx)(r.Z,{className:"p-3",position:"top-center",containerPosition:"fixed",style:{zIndex:999999},children:Object.entries(t.value).map(e=>{let[n,a]=e;return(0,s.jsxs)(i.Z,{role:"alert","aria-live":"assertive",show:!0,bg:a.type,onClose:()=>{let e=t.value;delete e[n],l({...t,value:e}),console.log("close: "+n)},"aria-atomic":"true",delay:4e3,autohide:!0,animation:!0,children:[(0,s.jsxs)(i.Z.Header,{children:[(0,s.jsx)("strong",{className:"me-auto",children:"Notification"}),(0,s.jsx)("small",{className:"text-muted",children:"just now"})]}),(0,s.jsx)(i.Z.Body,{className:"text-center",children:a.text})]},"toast"+n)})}),n]})}},9318:function(e,n,t){"use strict";t.d(n,{CX:function(){return f},NZ:function(){return h},Vf:function(){return d},sr:function(){return v},yh:function(){return p}});var s=t(7437),a=t(7374),r=t(5107),i=t(9317),o=t(5914),l=t(590),u=t(9252),c=t(6879),m=t(2265);let d=e=>(0,s.jsxs)(i.Z.Group,{as:o.Z,className:e.mb?e.mb:"mb-2",children:[(0,s.jsx)(i.Z.Label,{column:!0,sm:2,className:"nowrap",children:e.label}),(0,s.jsx)(l.Z,{sm:10,children:(0,s.jsxs)(u.Z,{className:e.mb?e.mb:"mb-2",children:[e.reminds&&e.reminds.length?(0,s.jsx)(a.Z,{variant:"outline-secondary",title:"",children:e.reminds.map(n=>(0,s.jsxs)(r.Z,{onClick:()=>e.onChange&&e.onChange(n.value),children:[(0,s.jsx)("b",{children:n.label}),n.label_children&&n.label_children.map(e=>(0,s.jsx)("div",{children:(0,s.jsx)("span",{className:"text-body-secondary",children:e})},e))]},n.value))}):(0,s.jsx)(s.Fragment,{}),e.url?(0,s.jsx)("a",{className:"mt-1",href:e.url,target:"_blank",children:e.value}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i.Z.Control,{value:null!==e.value?e.value:"",plaintext:e.plaintext,placeholder:e.placeholder,onChange:n=>void 0!==e.onChange&&e.onChange(n.target.value)})})]})})]}),h=e=>(0,s.jsxs)(i.Z.Group,{as:o.Z,className:"mb-2",children:[(0,s.jsx)(i.Z.Label,{column:!0,sm:2,className:"nowrap",children:e.label}),(0,s.jsx)(l.Z,{sm:10,children:(0,s.jsx)(i.Z.Control,{as:"textarea",rows:5,value:e.value,onChange:n=>e.onChange(n.target.value)})})]});function p(e){var n;let[t,a]=(0,m.useState)({value:""});return(0,s.jsxs)(i.Z.Group,{as:o.Z,className:"mb-3",children:[(0,s.jsx)(i.Z.Label,{column:!0,sm:2,className:"nowrap",children:e.title}),e.data&&e.data.map((n,t)=>(0,s.jsx)(l.Z,{sm:{span:10,offset:0!==t?2:0},children:(0,s.jsxs)(u.Z,{className:"mb-2",children:[(0,s.jsx)(i.Z.Control,{value:n,onChange:n=>{e.data[t]=n.target.value,e.onChange(e.data?e.data:[])}}),(0,s.jsx)(c.Z,{variant:"outline-danger",onClick:()=>{e.data&&(e.data.splice(t,1),e.onChange(e.data))},children:(0,s.jsx)("i",{className:"bi bi-x-lg"})})]})},t)),(0,s.jsx)(l.Z,{sm:{span:10,offset:(null===(n=e.data)||void 0===n?void 0:n.length)!==0?2:0},children:(0,s.jsxs)(u.Z,{className:"mb-2",children:[(0,s.jsx)(i.Z.Control,{value:t.value,onChange:e=>a({value:e.target.value})}),(0,s.jsx)(c.Z,{variant:"outline-success",onClick:()=>{e.data?(e.data.push(t.value),e.onChange(e.data)):e.onChange([t.value])},children:(0,s.jsx)("i",{className:"bi bi-plus-lg"})})]})})]})}function f(e){var n;let[t,a]=(0,m.useState)({value:""});return(0,s.jsxs)(i.Z.Group,{as:o.Z,className:"mb-3",children:[(0,s.jsx)(i.Z.Label,{column:!0,sm:2,className:"nowrap",children:e.title}),e.data&&e.data.map((n,t)=>(0,s.jsx)(l.Z,{sm:{span:10,offset:0!==t?2:0},children:(0,s.jsxs)(u.Z,{className:"mb-2",children:[(0,s.jsx)(i.Z.Control,{value:new TextDecoder().decode(n),as:e.textarea?"textarea":void 0,onChange:n=>{e.data[t]=new TextEncoder().encode(n.target.value),e.onChange(e.data?e.data:[])}}),(0,s.jsx)(c.Z,{variant:"outline-danger",onClick:()=>{e.data&&(e.data.splice(t,1),e.onChange(e.data))},children:(0,s.jsx)("i",{className:"bi bi-x-lg"})})]})},t)),(0,s.jsx)(l.Z,{sm:{span:10,offset:(null===(n=e.data)||void 0===n?void 0:n.length)!==0?2:0},children:(0,s.jsxs)(u.Z,{className:"mb-2",children:[(0,s.jsx)(i.Z.Control,{as:e.textarea?"textarea":void 0,value:t.value,onChange:e=>a({value:e.target.value})}),(0,s.jsx)(c.Z,{variant:"outline-success",onClick:()=>{e.data?(e.data.push(new TextEncoder().encode(t.value)),e.onChange(e.data)):e.onChange([new TextEncoder().encode(t.value)])},children:(0,s.jsx)("i",{className:"bi bi-plus-lg"})})]})})]})}function v(e){return(0,s.jsxs)(i.Z.Group,{as:o.Z,className:e.mb?e.mb:"mb-2",children:[(0,s.jsx)(i.Z.Label,{column:!0,sm:2,className:"nowrap",children:e.title}),(0,s.jsx)(l.Z,{sm:{span:10,offset:0},children:(0,s.jsx)(u.Z,{className:e.mb?e.mb:"mb-2"})}),e.data&&e.data.map((n,t)=>(0,s.jsx)(l.Z,{sm:{span:10,offset:2},className:"mt-0",children:(0,s.jsx)(u.Z,{className:e.mb?e.mb:"mb-2",children:n})},t))]})}},923:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return nu}});var s,a,r,i,o,l,u,c,m,d,h,p,f=t(7437),v=t(2265),x=t(8168),g=t(2540),y=t(2599),w=t(5625),b=t(78),j=t(5450),k=t(7848);let C=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],N=["activeKey","getControlledId","getControllerId"],T=["as"];function Z(e,n){if(null==e)return{};var t,s,a={},r=Object.keys(e);for(s=0;s<r.length;s++)t=r[s],n.indexOf(t)>=0||(a[t]=e[t]);return a}function J(e){let{active:n,eventKey:t,mountOnEnter:s,transition:a,unmountOnExit:r,role:i="tabpanel",onEnter:o,onEntering:l,onEntered:u,onExit:c,onExiting:m,onExited:d}=e,h=Z(e,C),p=(0,v.useContext)(b.Z);if(!p)return[Object.assign({},h,{role:i}),{eventKey:t,isActive:n,mountOnEnter:s,transition:a,unmountOnExit:r,onEnter:o,onEntering:l,onEntered:u,onExit:c,onExiting:m,onExited:d}];let{activeKey:f,getControlledId:x,getControllerId:g}=p,y=Z(p,N),w=(0,j.h)(t);return[Object.assign({},h,{role:i,id:x(t),"aria-labelledby":g(t)}),{eventKey:t,isActive:null==n&&null!=w?(0,j.h)(f)===w:n,transition:a||y.transition,mountOnEnter:null!=s?s:y.mountOnEnter,unmountOnExit:null!=r?r:y.unmountOnExit,onEnter:o,onEntering:l,onEntered:u,onExit:c,onExiting:m,onExited:d}]}let _=v.forwardRef((e,n)=>{let{as:t="div"}=e,[s,{isActive:a,onEnter:r,onEntering:i,onEntered:o,onExit:l,onExiting:u,onExited:c,mountOnEnter:m,unmountOnExit:d,transition:h=k.Z}]=J(Z(e,T));return(0,f.jsx)(b.Z.Provider,{value:null,children:(0,f.jsx)(j.Z.Provider,{value:null,children:(0,f.jsx)(h,{in:a,onEnter:r,onEntering:i,onEntered:o,onExit:l,onExiting:u,onExited:c,mountOnEnter:m,unmountOnExit:d,children:(0,f.jsx)(t,Object.assign({},s,{ref:n,hidden:!a,"aria-hidden":!a}))})})})});_.displayName="TabPanel";let S=e=>{let{id:n,generateChildId:t,onSelect:s,activeKey:a,defaultActiveKey:r,transition:i,mountOnEnter:o,unmountOnExit:l,children:u}=e,[c,m]=(0,y.$c)(a,r,s),d=(0,w.gP)(n),h=(0,v.useMemo)(()=>t||((e,n)=>d?`${d}-${n}-${e}`:null),[d,t]),p=(0,v.useMemo)(()=>({onSelect:m,activeKey:c,transition:i,mountOnEnter:o||!1,unmountOnExit:l||!1,getControlledId:e=>h(e,"tabpane"),getControllerId:e=>h(e,"tab")}),[m,c,i,o,l,h]);return(0,f.jsx)(b.Z.Provider,{value:p,children:(0,f.jsx)(j.Z.Provider,{value:m||null,children:u})})};S.Panel=_;var P=t(6871),q=t(2812),F=t(1881),B=t(6480),E=t.n(B),V=t(2865);let I=v.forwardRef((e,n)=>{let{className:t,bsPrefix:s,as:a="div",...r}=e;return s=(0,V.vE)(s,"tab-content"),(0,f.jsx)(a,{ref:n,className:E()(t,s),...r})});I.displayName="TabContent";var L=t(3534);function D(e){return"boolean"==typeof e?e?L.Z:k.Z:e}let R=v.forwardRef((e,n)=>{let{bsPrefix:t,transition:s,...a}=e,[{className:r,as:i="div",...o},{isActive:l,onEnter:u,onEntering:c,onEntered:m,onExit:d,onExiting:h,onExited:p,mountOnEnter:v,unmountOnExit:x,transition:g=L.Z}]=J({...a,transition:D(s)}),y=(0,V.vE)(t,"tab-pane");return(0,f.jsx)(b.Z.Provider,{value:null,children:(0,f.jsx)(j.Z.Provider,{value:null,children:(0,f.jsx)(g,{in:l,onEnter:u,onEntering:c,onEntered:m,onExit:d,onExiting:h,onExited:p,mountOnEnter:v,unmountOnExit:x,children:(0,f.jsx)(i,{...o,ref:n,className:E()(r,y,l&&"active")})})})})});R.displayName="TabPane";var O=t(7707);function K(e){let{title:n,eventKey:t,disabled:s,tabClassName:a,tabAttrs:r,id:i}=e.props;return null==n?null:(0,f.jsx)(F.Z,{as:"li",role:"presentation",children:(0,f.jsx)(q.Z,{as:"button",type:"button",eventKey:t,disabled:s,id:i,className:a,...r,children:n})})}let H=e=>{let n;let{id:t,onSelect:s,transition:a,mountOnEnter:r=!1,unmountOnExit:i=!1,variant:o="tabs",children:l,activeKey:u=((0,O.Ed)(l,e=>{null==n&&(n=e.props.eventKey)}),n),...c}=(0,g.Ch)(e,{activeKey:"onSelect"});return(0,f.jsxs)(S,{id:t,activeKey:u,onSelect:s,transition:D(a),mountOnEnter:r,unmountOnExit:i,children:[(0,f.jsx)(P.Z,{id:t,...c,role:"tablist",as:"ul",variant:o,children:(0,O.UI)(l,K)}),(0,f.jsx)(I,{children:(0,O.UI)(l,e=>{let n={...e.props};return delete n.title,delete n.disabled,delete n.tabClassName,delete n.tabAttrs,(0,f.jsx)(R,{...n})})})]})};H.displayName="Tabs";var G=t(4404),U=t.n(G);let A=e=>{let{transition:n,...t}=e;return(0,f.jsx)(S,{...t,transition:D(n)})};A.displayName="TabContainer";let M={eventKey:U().oneOfType([U().string,U().number]),title:U().node.isRequired,disabled:U().bool,tabClassName:U().string,tabAttrs:U().object},Y=()=>{throw Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};Y.propTypes=M;var W=Object.assign(Y,{Container:A,Content:I,Pane:R}),Q=t(6879),$=t(9317),z=t(5914),X=t(590),ee=t(9252),en=t(9318),et=t(3227),es=t(7866),ea=t(4272);(s=u||(u={}))[s.reserve=0]="reserve",s[s.udp=1]="udp",s[s.tcp=2]="tcp",s[s.doh=3]="doh",s[s.dot=4]="dot",s[s.doq=5]="doq",s[s.doh3=6]="doh3",es.w.util.setEnumType(u,"yuhaiin.dns.type",[{no:0,name:"reserve"},{no:1,name:"udp"},{no:2,name:"tcp"},{no:3,name:"doh"},{no:4,name:"dot"},{no:5,name:"doq"},{no:6,name:"doh3"}]);class er extends ea.v{static fromBinary(e,n){return new er().fromBinary(e,n)}static fromJson(e,n){return new er().fromJson(e,n)}static fromJsonString(e,n){return new er().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(er,e,n)}constructor(e){super(),this.host="",this.type=0,this.subnet="",this.tlsServername="",es.w.util.initPartial(e,this)}}er.runtime=es.w,er.typeName="yuhaiin.dns.dns",er.fields=es.w.util.newFieldList(()=>[{no:1,name:"host",kind:"scalar",T:9},{no:5,name:"type",kind:"enum",T:es.w.getEnumType(u)},{no:4,name:"subnet",kind:"scalar",T:9},{no:2,name:"tls_servername",jsonName:"tls_servername",kind:"scalar",T:9}]);class ei extends ea.v{static fromBinary(e,n){return new ei().fromBinary(e,n)}static fromJson(e,n){return new ei().fromJson(e,n)}static fromJsonString(e,n){return new ei().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(ei,e,n)}constructor(e){super(),this.server="",this.fakedns=!1,this.fakednsIpRange="",this.fakednsIpv6Range="",this.fakednsWhitelist=[],this.resolveRemoteDomain=!1,this.hosts={},this.resolver={},es.w.util.initPartial(e,this)}}ei.runtime=es.w,ei.typeName="yuhaiin.dns.dns_config",ei.fields=es.w.util.newFieldList(()=>[{no:4,name:"server",kind:"scalar",T:9},{no:5,name:"fakedns",kind:"scalar",T:8},{no:6,name:"fakedns_ip_range",jsonName:"fakedns_ip_range",kind:"scalar",T:9},{no:13,name:"fakedns_ipv6_range",jsonName:"fakedns_ipv6_range",kind:"scalar",T:9},{no:9,name:"fakedns_whitelist",jsonName:"fakedns_whitelist",kind:"scalar",T:9,repeated:!0},{no:7,name:"resolve_remote_domain",jsonName:"resolve_remote_domain",kind:"scalar",T:8},{no:1,name:"remote",kind:"message",T:er},{no:2,name:"local",kind:"message",T:er},{no:3,name:"bootstrap",kind:"message",T:er},{no:8,name:"hosts",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:10,name:"resolver",kind:"map",K:9,V:{kind:"message",T:er}}]);let eo=v.memo(e=>{var n,t,s,a,r,i,o,l,u,c,m,d;let[h,p]=(0,v.useState)({key:"",value:""}),g=n=>{n(e.data),e.onChange(e.data)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(en.Vf,{label:"Server",value:e.data.server,onChange:e=>g(n=>n.server=e)}),(0,f.jsx)("hr",{}),(0,f.jsx)(x.Z.Title,{children:"FakeDNS"}),(0,f.jsx)(et.J,{label:"Enabled",checked:e.data.fakedns,onChange:()=>g(e=>e.fakedns=!e.fakedns)}),(0,f.jsx)(en.Vf,{label:"IPv4 Range",value:e.data.fakednsIpRange,onChange:e=>g(n=>n.fakednsIpRange=e)}),(0,f.jsx)(en.Vf,{label:"IPv6 Range",value:e.data.fakednsIpv6Range,onChange:e=>g(n=>n.fakednsIpv6Range=e)}),(0,f.jsx)(en.yh,{title:"Whitelist",data:e.data.fakednsWhitelist,onChange:e=>g(n=>{e&&(n.fakednsWhitelist=e)})}),(0,f.jsx)("hr",{}),(0,f.jsx)(x.Z.Title,{children:"Local DNS"}),(0,f.jsx)(en.Vf,{label:"Host",value:null===(n=e.data.local)||void 0===n?void 0:n.host,onChange:e=>g(n=>{void 0!==n.local&&(n.local.host=e)})}),(0,f.jsx)(el,{label:"Type",value:null===(t=e.data.local)||void 0===t?void 0:t.type,onChange:e=>g(n=>{void 0!==n.local&&(n.local.type=e)})}),(0,f.jsx)(en.Vf,{label:"Subnet",value:null===(s=e.data.local)||void 0===s?void 0:s.subnet,onChange:e=>g(n=>{void 0!==n.local&&(n.local.subnet=e)})}),(0,f.jsx)(en.Vf,{label:"SNI",value:null===(a=e.data.local)||void 0===a?void 0:a.tlsServername,onChange:e=>g(n=>{void 0!==n.local&&(n.local.tlsServername=e)})}),(0,f.jsx)("hr",{}),(0,f.jsx)(x.Z.Title,{children:"Remote DNS"}),(0,f.jsx)(et.J,{label:"Use IP",checked:e.data.resolveRemoteDomain,onChange:()=>g(e=>e.resolveRemoteDomain=!e.resolveRemoteDomain)}),(0,f.jsx)(en.Vf,{label:"Host",value:null===(r=e.data.remote)||void 0===r?void 0:r.host,onChange:e=>g(n=>{void 0!==n.remote&&(n.remote.host=e)})}),(0,f.jsx)(el,{label:"Type",value:null===(i=e.data.remote)||void 0===i?void 0:i.type,onChange:e=>g(n=>{void 0!==n.remote&&(n.remote.type=e)})}),(0,f.jsx)(en.Vf,{label:"Subnet",value:null===(o=e.data.remote)||void 0===o?void 0:o.subnet,onChange:e=>g(n=>{void 0!==n.remote&&(n.remote.subnet=e)})}),(0,f.jsx)(en.Vf,{label:"SNI",value:null===(l=e.data.remote)||void 0===l?void 0:l.tlsServername,onChange:e=>g(n=>{void 0!==n.remote&&(n.remote.tlsServername=e)})}),(0,f.jsx)("hr",{}),(0,f.jsx)(x.Z.Title,{children:"Bootstrap DNS"}),(0,f.jsx)(en.Vf,{label:"Host",value:null===(u=e.data.bootstrap)||void 0===u?void 0:u.host,onChange:e=>g(n=>{void 0!==n.bootstrap&&(n.bootstrap.host=e)})}),(0,f.jsx)(el,{label:"Type",value:null===(c=e.data.bootstrap)||void 0===c?void 0:c.type,onChange:e=>g(n=>{void 0!==n.bootstrap&&(n.bootstrap.type=e)})}),(0,f.jsx)(en.Vf,{label:"Subnet",value:null===(m=e.data.bootstrap)||void 0===m?void 0:m.subnet,onChange:e=>g(n=>{void 0!==n.bootstrap&&(n.bootstrap.subnet=e)})}),(0,f.jsx)(en.Vf,{label:"SNI",value:null===(d=e.data.bootstrap)||void 0===d?void 0:d.tlsServername,onChange:e=>g(n=>{void 0!==n.bootstrap&&(n.bootstrap.tlsServername=e)})}),(0,f.jsx)("hr",{}),(0,f.jsx)(x.Z.Title,{children:"Hosts"}),Object.entries(e.data.hosts).sort((e,n)=>{let[t]=e,[s]=n;return t>s?-1:1}).map(e=>{let[n,t]=e;return(0,f.jsxs)(ee.Z,{className:"mb-2",children:[(0,f.jsx)($.Z.Control,{readOnly:!0,value:n}),(0,f.jsx)(ee.Z.Text,{children:(0,f.jsx)("i",{className:"bi bi-arrow-right"})}),(0,f.jsx)($.Z.Control,{value:t,onChange:e=>g(t=>t.hosts[n]=e.target.value)}),(0,f.jsx)(Q.Z,{variant:"outline-danger",onClick:()=>g(e=>delete e.hosts[n]),children:(0,f.jsx)("i",{className:"bi bi-x-lg"})})]},"hosts"+n)}),(0,f.jsxs)(ee.Z,{className:"mb-2",children:[(0,f.jsx)($.Z.Control,{value:h.key,onChange:e=>p({...h,key:e.target.value})}),(0,f.jsx)(ee.Z.Text,{children:(0,f.jsx)("i",{className:"bi bi-arrow-right"})}),(0,f.jsx)($.Z.Control,{value:h.value,onChange:e=>p({...h,value:e.target.value})}),(0,f.jsx)(Q.Z,{variant:"outline-success",onClick:()=>{""!==h.key&&void 0===e.data.hosts[h.key]&&g(e=>e.hosts[h.key]=h.value)},children:(0,f.jsx)("i",{className:"bi bi-plus-lg"})})]})]})});function el(e){return(0,f.jsxs)($.Z.Group,{as:z.Z,className:"mb-3",children:[(0,f.jsx)($.Z.Label,{column:!0,sm:2,children:e.label}),(0,f.jsx)(X.Z,{sm:10,children:(0,f.jsxs)($.Z.Select,{value:u[void 0===e.value||null===e.value?u.udp:e.value],onChange:n=>e.onChange(u[n.target.value]),children:[(0,f.jsx)("option",{value:u[u.udp],children:"UDP"}),(0,f.jsx)("option",{value:u[u.tcp],children:"TCP"}),(0,f.jsx)("option",{value:u[u.doh],children:"DOH"}),(0,f.jsx)("option",{value:u[u.dot],children:"DOT"}),(0,f.jsx)("option",{value:u[u.doq],children:"DOQ"}),(0,f.jsx)("option",{value:u[u.doh3],children:"DOH3"})]})})]})}(a=c||(c={}))[a.bypass=0]="bypass",a[a.direct=1]="direct",a[a.proxy=2]="proxy",a[a.block=3]="block",es.w.util.setEnumType(c,"yuhaiin.bypass.mode",[{no:0,name:"bypass"},{no:1,name:"direct"},{no:2,name:"proxy"},{no:3,name:"block"}]),(r=m||(m={}))[r.default=0]="default",r[r.prefer_ipv4=1]="prefer_ipv4",r[r.only_ipv4=2]="only_ipv4",r[r.prefer_ipv6=3]="prefer_ipv6",r[r.only_ipv6=4]="only_ipv6",es.w.util.setEnumType(m,"yuhaiin.bypass.resolve_strategy",[{no:0,name:"default"},{no:1,name:"prefer_ipv4"},{no:2,name:"only_ipv4"},{no:3,name:"prefer_ipv6"},{no:4,name:"only_ipv6"}]);class eu extends ea.v{static fromBinary(e,n){return new eu().fromBinary(e,n)}static fromJson(e,n){return new eu().fromJson(e,n)}static fromJsonString(e,n){return new eu().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(eu,e,n)}constructor(e){super(),this.tcp=0,this.udp=0,this.bypassFile="",this.customRuleV3=[],es.w.util.initPartial(e,this)}}eu.runtime=es.w,eu.typeName="yuhaiin.bypass.bypass_config",eu.fields=es.w.util.newFieldList(()=>[{no:3,name:"tcp",kind:"enum",T:es.w.getEnumType(c)},{no:4,name:"udp",kind:"enum",T:es.w.getEnumType(c)},{no:2,name:"bypass_file",jsonName:"bypass_file",kind:"scalar",T:9},{no:7,name:"custom_rule_v3",jsonName:"custom_rule_v3",kind:"message",T:ec,repeated:!0}]);class ec extends ea.v{static fromBinary(e,n){return new ec().fromBinary(e,n)}static fromJson(e,n){return new ec().fromJson(e,n)}static fromJsonString(e,n){return new ec().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(ec,e,n)}constructor(e){super(),this.mode=0,this.tag="",this.hostname=[],this.resolveStrategy=0,es.w.util.initPartial(e,this)}}ec.runtime=es.w,ec.typeName="yuhaiin.bypass.mode_config",ec.fields=es.w.util.newFieldList(()=>[{no:1,name:"mode",kind:"enum",T:es.w.getEnumType(c)},{no:2,name:"tag",kind:"scalar",T:9},{no:3,name:"hostname",kind:"scalar",T:9,repeated:!0},{no:4,name:"resolve_strategy",jsonName:"resolve_strategy",kind:"enum",T:es.w.getEnumType(m)}]),new eu({tcp:c.bypass,udp:c.bypass,bypassFile:"yuhaiin.conf",customRuleV3:[]});let em=v.memo(e=>{let n=new ec({hostname:["www.example.com"],mode:c.proxy,tag:"",resolveStrategy:m.default}),t=n=>{n(e.bypass),e.onChange(e.bypass)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(eh,{label:"TCP",network:!0,value:e.bypass.tcp,onChange:e=>t(n=>n.tcp=e)}),(0,f.jsx)(eh,{label:"UDP",network:!0,value:e.bypass.udp,onChange:e=>t(n=>n.udp=e)}),(0,f.jsx)(en.Vf,{label:"Bypass File",value:e.bypass.bypassFile,onChange:e=>t(n=>n.bypassFile=e)}),(0,f.jsx)("hr",{}),"Custom Rules",e.bypass.customRuleV3.map((e,n)=>(0,f.jsxs)("div",{className:"mb-3",children:[(0,f.jsx)("hr",{}),(0,f.jsx)(ed,{config:new ec(e),onChange:e=>t(t=>t.customRuleV3[n]=e)}),(0,f.jsxs)(Q.Z,{variant:"outline-danger",onClick:()=>t(e=>e.customRuleV3.splice(n,1)),children:[(0,f.jsx)("i",{className:"bi bi-x-lg"}),"Remove Current Rule"]})]},"custom_rule_v3"+n)),(0,f.jsx)("hr",{}),(0,f.jsx)("div",{className:"d-flex mb-2",children:(0,f.jsxs)(Q.Z,{className:"flex-grow-1",variant:"outline-success",onClick:()=>t(e=>e.customRuleV3.push(n)),children:[(0,f.jsx)("i",{className:"bi bi-plus-lg mb-2"}),"New Rule"]})})]})}),ed=e=>{let n=n=>{n(e.config),e.onChange(e.config)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(eh,{label:"Mode",network:!1,value:e.config.mode,onChange:e=>n(n=>n.mode=e)}),(0,f.jsx)(en.Vf,{label:"Tag",value:e.config.tag,onChange:e=>n(n=>n.tag=e)}),(0,f.jsx)(ep,{label:"Resolve Strategy",value:e.config.resolveStrategy,onChange:e=>n(n=>n.resolveStrategy=e)}),(0,f.jsx)(en.yh,{title:"IP/DOMAIN",data:e.config.hostname,onChange:e=>n(n=>{e&&(n.hostname=e)})})]})};function eh(e){return(0,f.jsxs)($.Z.Group,{as:z.Z,className:"mb-3",children:[(0,f.jsx)($.Z.Label,{column:!0,sm:2,children:e.label}),(0,f.jsx)(X.Z,{sm:10,children:(0,f.jsxs)($.Z.Select,{value:c[e.value],onChange:n=>e.onChange(c[n.target.value]),children:[e.network&&(0,f.jsx)("option",{value:c[c.bypass],children:"BYPASS"}),(0,f.jsx)("option",{value:c[c.direct],children:"DIRECT"}),(0,f.jsx)("option",{value:c[c.proxy],children:"PROXY"}),(0,f.jsx)("option",{value:c[c.block],children:"BLOCK"})]})})]})}function ep(e){return(0,f.jsxs)($.Z.Group,{as:z.Z,className:"mb-3",children:[(0,f.jsx)($.Z.Label,{column:!0,sm:2,children:e.label}),(0,f.jsx)(X.Z,{sm:10,children:(0,f.jsxs)($.Z.Select,{value:m[e.value],onChange:n=>e.onChange(m[n.target.value]),children:[(0,f.jsx)("option",{value:m[m.default],children:"default"}),(0,f.jsx)("option",{value:m[m.prefer_ipv4],children:"prefer_ipv4"}),(0,f.jsx)("option",{value:m[m.only_ipv4],children:"only_ipv4"}),(0,f.jsx)("option",{value:m[m.prefer_ipv6],children:"prefer_ipv6"}),(0,f.jsx)("option",{value:m[m.only_ipv6],children:"only_ipv6"})]})})]})}(i=d||(d={}))[i.tcp_udp_control_all=0]="tcp_udp_control_all",i[i.disable_tcp=1]="disable_tcp",i[i.disable_udp=2]="disable_udp",es.w.util.setEnumType(d,"yuhaiin.listener.tcp_udp_control",[{no:0,name:"tcp_udp_control_all"},{no:1,name:"disable_tcp"},{no:2,name:"disable_udp"}]);class ef extends ea.v{static fromBinary(e,n){return new ef().fromBinary(e,n)}static fromJson(e,n){return new ef().fromJson(e,n)}static fromJsonString(e,n){return new ef().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(ef,e,n)}constructor(e){super(),this.name="",this.enabled=!1,this.protocol={case:void 0},es.w.util.initPartial(e,this)}}ef.runtime=es.w,ef.typeName="yuhaiin.listener.protocol",ef.fields=es.w.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"enabled",kind:"scalar",T:8},{no:3,name:"http",kind:"message",T:ek,oneof:"protocol"},{no:4,name:"socks5",kind:"message",T:eC,oneof:"protocol"},{no:5,name:"redir",kind:"message",T:eZ,oneof:"protocol"},{no:6,name:"tun",kind:"message",T:e_,oneof:"protocol"},{no:7,name:"yuubinsya",kind:"message",T:eP,oneof:"protocol"},{no:8,name:"mix",jsonName:"mixed",kind:"message",T:eT,oneof:"protocol"},{no:9,name:"socks4a",kind:"message",T:eN,oneof:"protocol"},{no:10,name:"tproxy",kind:"message",T:eJ,oneof:"protocol"}]);class ev extends ea.v{static fromBinary(e,n){return new ev().fromBinary(e,n)}static fromJson(e,n){return new ev().fromJson(e,n)}static fromJsonString(e,n){return new ev().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(ev,e,n)}constructor(e){super(),this.name="",this.enabled=!1,this.IPv6=!1,this.network={case:void 0},this.transport=[],this.protocol={case:void 0},es.w.util.initPartial(e,this)}}ev.runtime=es.w,ev.typeName="yuhaiin.listener.inbound",ev.fields=es.w.util.newFieldList(()=>[{no:13,name:"name",kind:"scalar",T:9},{no:14,name:"enabled",kind:"scalar",T:8},{no:17,name:"IPv6",kind:"scalar",T:8},{no:21,name:"empty",kind:"message",T:eg,oneof:"network"},{no:15,name:"tcpudp",kind:"message",T:ew,oneof:"network"},{no:16,name:"quic",kind:"message",T:eb,oneof:"network"},{no:2,name:"transport",kind:"message",T:ex,repeated:!0},{no:3,name:"http",kind:"message",T:ek,oneof:"protocol"},{no:4,name:"socks5",kind:"message",T:eC,oneof:"protocol"},{no:7,name:"yuubinsya",kind:"message",T:eP,oneof:"protocol"},{no:8,name:"mix",jsonName:"mixed",kind:"message",T:eT,oneof:"protocol"},{no:9,name:"socks4a",kind:"message",T:eN,oneof:"protocol"},{no:20,name:"tproxy",kind:"message",T:eJ,oneof:"protocol"},{no:18,name:"redir",kind:"message",T:eZ,oneof:"protocol"},{no:19,name:"tun",kind:"message",T:e_,oneof:"protocol"}]);class ex extends ea.v{static fromBinary(e,n){return new ex().fromBinary(e,n)}static fromJson(e,n){return new ex().fromJson(e,n)}static fromJsonString(e,n){return new ex().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(ex,e,n)}constructor(e){super(),this.transport={case:void 0},es.w.util.initPartial(e,this)}}ex.runtime=es.w,ex.typeName="yuhaiin.listener.transport",ex.fields=es.w.util.newFieldList(()=>[{no:12,name:"normal",kind:"message",T:eF,oneof:"transport"},{no:1,name:"tls",kind:"message",T:eV,oneof:"transport"},{no:2,name:"mux",kind:"message",T:ey,oneof:"transport"},{no:5,name:"http2",kind:"message",T:eL,oneof:"transport"},{no:6,name:"websocket",kind:"message",T:eB,oneof:"transport"},{no:11,name:"grpc",kind:"message",T:eI,oneof:"transport"},{no:10,name:"reality",kind:"message",T:eD,oneof:"transport"}]);class eg extends ea.v{static fromBinary(e,n){return new eg().fromBinary(e,n)}static fromJson(e,n){return new eg().fromJson(e,n)}static fromJsonString(e,n){return new eg().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(eg,e,n)}constructor(e){super(),es.w.util.initPartial(e,this)}}eg.runtime=es.w,eg.typeName="yuhaiin.listener.empty",eg.fields=es.w.util.newFieldList(()=>[]);class ey extends ea.v{static fromBinary(e,n){return new ey().fromBinary(e,n)}static fromJson(e,n){return new ey().fromJson(e,n)}static fromJsonString(e,n){return new ey().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(ey,e,n)}constructor(e){super(),es.w.util.initPartial(e,this)}}ey.runtime=es.w,ey.typeName="yuhaiin.listener.mux",ey.fields=es.w.util.newFieldList(()=>[]);class ew extends ea.v{static fromBinary(e,n){return new ew().fromBinary(e,n)}static fromJson(e,n){return new ew().fromJson(e,n)}static fromJsonString(e,n){return new ew().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(ew,e,n)}constructor(e){super(),this.host="",this.control=0,es.w.util.initPartial(e,this)}}ew.runtime=es.w,ew.typeName="yuhaiin.listener.tcpudp",ew.fields=es.w.util.newFieldList(()=>[{no:1,name:"host",kind:"scalar",T:9},{no:2,name:"control",kind:"enum",T:es.w.getEnumType(d)}]);class eb extends ea.v{static fromBinary(e,n){return new eb().fromBinary(e,n)}static fromJson(e,n){return new eb().fromJson(e,n)}static fromJsonString(e,n){return new eb().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(eb,e,n)}constructor(e){super(),this.host="",es.w.util.initPartial(e,this)}}eb.runtime=es.w,eb.typeName="yuhaiin.listener.quic2",eb.fields=es.w.util.newFieldList(()=>[{no:1,name:"host",kind:"scalar",T:9},{no:3,name:"tls",kind:"message",T:eR}]);class ej extends ea.v{static fromBinary(e,n){return new ej().fromBinary(e,n)}static fromJson(e,n){return new ej().fromJson(e,n)}static fromJsonString(e,n){return new ej().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(ej,e,n)}constructor(e){super(),this.hijackDns=!1,this.hijackDnsFakeip=!1,this.servers={},this.inbounds={},es.w.util.initPartial(e,this)}}ej.runtime=es.w,ej.typeName="yuhaiin.listener.inbound_config",ej.fields=es.w.util.newFieldList(()=>[{no:2,name:"hijack_dns",jsonName:"hijack_dns",kind:"scalar",T:8},{no:3,name:"hijack_dns_fakeip",jsonName:"hijack_dns_fakeip",kind:"scalar",T:8},{no:5,name:"servers",kind:"map",K:9,V:{kind:"message",T:ef}},{no:1,name:"inbounds",kind:"map",K:9,V:{kind:"message",T:ev}}]);class ek extends ea.v{static fromBinary(e,n){return new ek().fromBinary(e,n)}static fromJson(e,n){return new ek().fromJson(e,n)}static fromJsonString(e,n){return new ek().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(ek,e,n)}constructor(e){super(),this.host="",this.username="",this.password="",es.w.util.initPartial(e,this)}}ek.runtime=es.w,ek.typeName="yuhaiin.listener.http",ek.fields=es.w.util.newFieldList(()=>[{no:1,name:"host",kind:"scalar",T:9},{no:3,name:"username",kind:"scalar",T:9},{no:4,name:"password",kind:"scalar",T:9}]);class eC extends ea.v{static fromBinary(e,n){return new eC().fromBinary(e,n)}static fromJson(e,n){return new eC().fromJson(e,n)}static fromJsonString(e,n){return new eC().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(eC,e,n)}constructor(e){super(),this.host="",this.username="",this.password="",this.udp=!1,es.w.util.initPartial(e,this)}}eC.runtime=es.w,eC.typeName="yuhaiin.listener.socks5",eC.fields=es.w.util.newFieldList(()=>[{no:1,name:"host",kind:"scalar",T:9},{no:3,name:"username",kind:"scalar",T:9},{no:4,name:"password",kind:"scalar",T:9},{no:5,name:"udp",kind:"scalar",T:8}]);class eN extends ea.v{static fromBinary(e,n){return new eN().fromBinary(e,n)}static fromJson(e,n){return new eN().fromJson(e,n)}static fromJsonString(e,n){return new eN().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(eN,e,n)}constructor(e){super(),this.host="",this.username="",es.w.util.initPartial(e,this)}}eN.runtime=es.w,eN.typeName="yuhaiin.listener.socks4a",eN.fields=es.w.util.newFieldList(()=>[{no:1,name:"host",kind:"scalar",T:9},{no:2,name:"username",kind:"scalar",T:9}]);class eT extends ea.v{static fromBinary(e,n){return new eT().fromBinary(e,n)}static fromJson(e,n){return new eT().fromJson(e,n)}static fromJsonString(e,n){return new eT().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(eT,e,n)}constructor(e){super(),this.host="",this.username="",this.password="",es.w.util.initPartial(e,this)}}eT.runtime=es.w,eT.typeName="yuhaiin.listener.mixed",eT.fields=es.w.util.newFieldList(()=>[{no:1,name:"host",kind:"scalar",T:9},{no:3,name:"username",kind:"scalar",T:9},{no:4,name:"password",kind:"scalar",T:9}]);class eZ extends ea.v{static fromBinary(e,n){return new eZ().fromBinary(e,n)}static fromJson(e,n){return new eZ().fromJson(e,n)}static fromJsonString(e,n){return new eZ().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(eZ,e,n)}constructor(e){super(),this.host="",es.w.util.initPartial(e,this)}}eZ.runtime=es.w,eZ.typeName="yuhaiin.listener.redir",eZ.fields=es.w.util.newFieldList(()=>[{no:1,name:"host",kind:"scalar",T:9}]);class eJ extends ea.v{static fromBinary(e,n){return new eJ().fromBinary(e,n)}static fromJson(e,n){return new eJ().fromJson(e,n)}static fromJsonString(e,n){return new eJ().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(eJ,e,n)}constructor(e){super(),this.host="",this.dnsHijacking=!1,this.forceFakeip=!1,es.w.util.initPartial(e,this)}}eJ.runtime=es.w,eJ.typeName="yuhaiin.listener.tproxy",eJ.fields=es.w.util.newFieldList(()=>[{no:1,name:"host",kind:"scalar",T:9},{no:2,name:"dns_hijacking",jsonName:"dns_hijacking",kind:"scalar",T:8},{no:3,name:"force_fakeip",jsonName:"force_fakeip",kind:"scalar",T:8}]);class e_ extends ea.v{static fromBinary(e,n){return new e_().fromBinary(e,n)}static fromJson(e,n){return new e_().fromJson(e,n)}static fromJsonString(e,n){return new e_().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(e_,e,n)}constructor(e){super(),this.name="",this.mtu=0,this.gateway="",this.dnsHijacking=!1,this.forceFakeip=!1,this.skipMulticast=!1,this.driver=0,this.portal="",this.portalV6="",es.w.util.initPartial(e,this)}}e_.runtime=es.w,e_.typeName="yuhaiin.listener.tun",e_.fields=es.w.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"mtu",kind:"scalar",T:5},{no:3,name:"gateway",kind:"scalar",T:9},{no:4,name:"dns_hijacking",jsonName:"dns_hijacking",kind:"scalar",T:8},{no:9,name:"force_fakeip",jsonName:"force_fakeip",kind:"scalar",T:8},{no:6,name:"skip_multicast",jsonName:"skip_multicast",kind:"scalar",T:8},{no:7,name:"driver",kind:"enum",T:es.w.getEnumType(h)},{no:8,name:"portal",kind:"scalar",T:9},{no:11,name:"portal_v6",jsonName:"portal_v6",kind:"scalar",T:9},{no:10,name:"route",kind:"message",T:eS}]),(o=h||(h={}))[o.fdbased=0]="fdbased",o[o.channel=1]="channel",o[o.system_gvisor=2]="system_gvisor",es.w.util.setEnumType(h,"yuhaiin.listener.tun.endpoint_driver",[{no:0,name:"fdbased"},{no:1,name:"channel"},{no:2,name:"system_gvisor"}]);class eS extends ea.v{static fromBinary(e,n){return new eS().fromBinary(e,n)}static fromJson(e,n){return new eS().fromJson(e,n)}static fromJsonString(e,n){return new eS().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(eS,e,n)}constructor(e){super(),this.routes=[],this.excludes=[],es.w.util.initPartial(e,this)}}eS.runtime=es.w,eS.typeName="yuhaiin.listener.route",eS.fields=es.w.util.newFieldList(()=>[{no:1,name:"routes",kind:"scalar",T:9,repeated:!0},{no:2,name:"excludes",kind:"scalar",T:9,repeated:!0}]);class eP extends ea.v{static fromBinary(e,n){return new eP().fromBinary(e,n)}static fromJson(e,n){return new eP().fromJson(e,n)}static fromJsonString(e,n){return new eP().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(eP,e,n)}constructor(e){super(),this.host="",this.password="",this.forceDisableEncrypt=!1,this.mux=!1,this.protocol={case:void 0},es.w.util.initPartial(e,this)}}eP.runtime=es.w,eP.typeName="yuhaiin.listener.yuubinsya",eP.fields=es.w.util.newFieldList(()=>[{no:1,name:"host",kind:"scalar",T:9},{no:2,name:"password",kind:"scalar",T:9},{no:8,name:"force_disable_encrypt",jsonName:"force_disable_encrypt",kind:"scalar",T:8},{no:11,name:"mux",kind:"scalar",T:8},{no:3,name:"normal",kind:"message",T:eF,oneof:"protocol"},{no:4,name:"tls",kind:"message",T:eV,oneof:"protocol"},{no:5,name:"quic",kind:"message",T:eE,oneof:"protocol"},{no:6,name:"websocket",kind:"message",T:eB,oneof:"protocol"},{no:7,name:"grpc",kind:"message",T:eI,oneof:"protocol"},{no:9,name:"http2",kind:"message",T:eL,oneof:"protocol"},{no:10,name:"reality",kind:"message",T:eD,oneof:"protocol"}]);class eq extends ea.v{static fromBinary(e,n){return new eq().fromBinary(e,n)}static fromJson(e,n){return new eq().fromJson(e,n)}static fromJsonString(e,n){return new eq().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(eq,e,n)}constructor(e){super(),es.w.util.initPartial(e,this)}}eq.runtime=es.w,eq.typeName="yuhaiin.listener.yuubinsya.protocol_normal",eq.fields=es.w.util.newFieldList(()=>[]);class eF extends ea.v{static fromBinary(e,n){return new eF().fromBinary(e,n)}static fromJson(e,n){return new eF().fromJson(e,n)}static fromJsonString(e,n){return new eF().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(eF,e,n)}constructor(e){super(),es.w.util.initPartial(e,this)}}eF.runtime=es.w,eF.typeName="yuhaiin.listener.normal",eF.fields=es.w.util.newFieldList(()=>[]);class eB extends ea.v{static fromBinary(e,n){return new eB().fromBinary(e,n)}static fromJson(e,n){return new eB().fromJson(e,n)}static fromJsonString(e,n){return new eB().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(eB,e,n)}constructor(e){super(),es.w.util.initPartial(e,this)}}eB.runtime=es.w,eB.typeName="yuhaiin.listener.websocket",eB.fields=es.w.util.newFieldList(()=>[{no:1,name:"tls",kind:"message",T:eR}]);class eE extends ea.v{static fromBinary(e,n){return new eE().fromBinary(e,n)}static fromJson(e,n){return new eE().fromJson(e,n)}static fromJsonString(e,n){return new eE().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(eE,e,n)}constructor(e){super(),es.w.util.initPartial(e,this)}}eE.runtime=es.w,eE.typeName="yuhaiin.listener.quic",eE.fields=es.w.util.newFieldList(()=>[{no:1,name:"tls",kind:"message",T:eR}]);class eV extends ea.v{static fromBinary(e,n){return new eV().fromBinary(e,n)}static fromJson(e,n){return new eV().fromJson(e,n)}static fromJsonString(e,n){return new eV().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(eV,e,n)}constructor(e){super(),es.w.util.initPartial(e,this)}}eV.runtime=es.w,eV.typeName="yuhaiin.listener.tls",eV.fields=es.w.util.newFieldList(()=>[{no:1,name:"tls",kind:"message",T:eR}]);class eI extends ea.v{static fromBinary(e,n){return new eI().fromBinary(e,n)}static fromJson(e,n){return new eI().fromJson(e,n)}static fromJsonString(e,n){return new eI().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(eI,e,n)}constructor(e){super(),es.w.util.initPartial(e,this)}}eI.runtime=es.w,eI.typeName="yuhaiin.listener.grpc",eI.fields=es.w.util.newFieldList(()=>[{no:1,name:"tls",kind:"message",T:eR}]);class eL extends ea.v{static fromBinary(e,n){return new eL().fromBinary(e,n)}static fromJson(e,n){return new eL().fromJson(e,n)}static fromJsonString(e,n){return new eL().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(eL,e,n)}constructor(e){super(),es.w.util.initPartial(e,this)}}eL.runtime=es.w,eL.typeName="yuhaiin.listener.http2",eL.fields=es.w.util.newFieldList(()=>[{no:1,name:"tls",kind:"message",T:eR}]);class eD extends ea.v{static fromBinary(e,n){return new eD().fromBinary(e,n)}static fromJson(e,n){return new eD().fromJson(e,n)}static fromJsonString(e,n){return new eD().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(eD,e,n)}constructor(e){super(),this.shortId=[],this.serverName=[],this.dest="",this.privateKey="",this.debug=!1,es.w.util.initPartial(e,this)}}eD.runtime=es.w,eD.typeName="yuhaiin.listener.reality",eD.fields=es.w.util.newFieldList(()=>[{no:1,name:"short_id",jsonName:"short_id",kind:"scalar",T:9,repeated:!0},{no:2,name:"server_name",jsonName:"server_name",kind:"scalar",T:9,repeated:!0},{no:3,name:"dest",kind:"scalar",T:9},{no:4,name:"private_key",jsonName:"private_key",kind:"scalar",T:9},{no:5,name:"debug",kind:"scalar",T:8}]);class eR extends ea.v{static fromBinary(e,n){return new eR().fromBinary(e,n)}static fromJson(e,n){return new eR().fromJson(e,n)}static fromJsonString(e,n){return new eR().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(eR,e,n)}constructor(e){super(),this.certificates=[],this.nextProtos=[],this.serverNameCertificate={},es.w.util.initPartial(e,this)}}eR.runtime=es.w,eR.typeName="yuhaiin.listener.tls_config",eR.fields=es.w.util.newFieldList(()=>[{no:1,name:"certificates",kind:"message",T:eO,repeated:!0},{no:3,name:"next_protos",jsonName:"next_protos",kind:"scalar",T:9,repeated:!0},{no:4,name:"server_name_certificate",jsonName:"server_name_certificate",kind:"map",K:9,V:{kind:"message",T:eO}}]);class eO extends ea.v{static fromBinary(e,n){return new eO().fromBinary(e,n)}static fromJson(e,n){return new eO().fromJson(e,n)}static fromJsonString(e,n){return new eO().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(eO,e,n)}constructor(e){super(),this.cert=new Uint8Array(0),this.key=new Uint8Array(0),this.certFilePath="",this.keyFilePath="",es.w.util.initPartial(e,this)}}eO.runtime=es.w,eO.typeName="yuhaiin.listener.certificate",eO.fields=es.w.util.newFieldList(()=>[{no:1,name:"cert",kind:"scalar",T:12},{no:2,name:"key",kind:"scalar",T:12},{no:3,name:"cert_file_path",jsonName:"cert_file_path",kind:"scalar",T:9},{no:4,name:"key_file_path",jsonName:"key_file_path",kind:"scalar",T:9}]);let eK=v.memo(e=>{let n=n=>{n(e.http),e.onChange(e.http)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(en.Vf,{label:"Host",value:e.http.host,onChange:e=>n(n=>n.host=e)}),(0,f.jsx)(en.Vf,{label:"Username",value:e.http.username,onChange:e=>n(n=>n.username=e)}),(0,f.jsx)(en.Vf,{label:"Password",value:e.http.password,onChange:e=>n(n=>n.password=e)})]})}),eH=v.memo(e=>{let n=n=>{n(e.redir),e.onChange(e.redir)};return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(en.Vf,{label:"Host",value:e.redir.host,onChange:e=>n(n=>n.host=e)})})}),eG=v.memo(e=>{let n=n=>{n(e.tproxy),e.onChange(e.tproxy)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(et.J,{label:"DNS Hijacking",checked:e.tproxy.dnsHijacking,onChange:()=>n(e=>e.dnsHijacking=!e.dnsHijacking)}),(0,f.jsx)(et.J,{label:"Force Fake IP",checked:e.tproxy.forceFakeip,onChange:()=>n(e=>e.forceFakeip=!e.forceFakeip)}),(0,f.jsx)(en.Vf,{label:"Host",value:e.tproxy.host,onChange:e=>n(n=>n.host=e)})]})}),eU=v.memo(e=>{let n=n=>{n(e.socks5),e.onChange(e.socks5)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(en.Vf,{label:"Host",value:e.socks5.host,onChange:e=>n(n=>n.host=e)}),(0,f.jsx)(en.Vf,{label:"Username",value:e.socks5.username,onChange:e=>n(n=>n.username=e)}),(0,f.jsx)(en.Vf,{label:"Password",value:e.socks5.password,onChange:e=>n(n=>n.password=e)})]})}),eA=v.memo(e=>{let n=n=>{n(e.mixed),e.onChange(e.mixed)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(en.Vf,{label:"Host",value:e.mixed.host,onChange:e=>n(n=>n.host=e)}),(0,f.jsx)(en.Vf,{label:"Username",value:e.mixed.username,onChange:e=>n(n=>n.username=e)}),(0,f.jsx)(en.Vf,{label:"Password",value:e.mixed.password,onChange:e=>n(n=>n.password=e)})]})}),eM=v.memo(e=>{var n;let t=n=>{n(e.tun),e.onChange(e.tun)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(et.J,{checked:e.tun.skipMulticast,onChange:()=>t(e=>e.skipMulticast=!e.skipMulticast),label:"Skip Multicast"}),(0,f.jsx)(en.Vf,{label:"Name",value:e.tun.name,onChange:e=>t(n=>n.name=e)}),(0,f.jsx)(en.Vf,{label:"MTU",value:e.tun.mtu,onChange:e=>t(n=>n.mtu=isNaN(Number(e))?n.mtu:Number(e))}),(0,f.jsx)(en.Vf,{label:"IPv4",value:e.tun.portal,onChange:e=>t(n=>n.portal=e)}),(0,f.jsx)(en.Vf,{label:"IPv6",value:e.tun.portalV6,onChange:e=>t(n=>n.portalV6=e)}),(0,f.jsx)(function(e){return(0,f.jsxs)($.Z.Group,{as:z.Z,className:"mb-3",children:[(0,f.jsx)($.Z.Label,{column:!0,sm:2,children:e.label}),(0,f.jsx)(X.Z,{sm:10,children:(0,f.jsxs)($.Z.Select,{value:h[void 0===e.value||null===e.value?h.fdbased:e.value],onChange:n=>e.onChange(h[n.target.value]),children:[(0,f.jsx)("option",{value:h[h.fdbased],children:"Fdbased"}),(0,f.jsx)("option",{value:h[h.channel],children:"Channel"}),(0,f.jsx)("option",{value:h[h.system_gvisor],children:"System"})]})})]})},{label:"Stack",value:e.tun.driver,onChange:e=>t(n=>n.driver=e)}),(0,f.jsx)(en.yh,{title:"Routes",data:null===(n=e.tun.route)||void 0===n?void 0:n.routes,onChange:e=>t(n=>{n.route||(n.route=new eS),e||(e=[]),n.route&&(n.route.routes=e)})})]})}),eY=e=>null==e||void 0===e.certificates&&void 0===e.nextProtos&&void 0===e.serverNameCertificate,eW=v.memo(e=>{let n=n=>{n(e.cert),e.onChange(e.cert)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(en.NZ,{label:"Cert",value:new TextDecoder().decode(e.cert.cert),onChange:e=>n(n=>{n.cert=new TextEncoder().encode(e)})}),(0,f.jsx)(en.NZ,{label:"Key",value:new TextDecoder().decode(e.cert.key),onChange:e=>n(n=>{n.key=new TextEncoder().encode(e)})}),(0,f.jsx)(en.Vf,{label:"Cert File",value:e.cert.certFilePath,onChange:e=>n(n=>{n.certFilePath=e})}),(0,f.jsx)(en.Vf,{label:"Key File",value:e.cert.keyFilePath,onChange:e=>n(n=>{n.keyFilePath=e})})]})}),eQ=v.memo(e=>{var n;let[t,s]=(0,v.useState)("www.example.com"),a=n=>{n(e.tls),e.onChange(e.tls)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(en.yh,{title:"Next Protos",data:null===(n=e.tls)||void 0===n?void 0:n.nextProtos,onChange:e=>a(n=>{e&&(n.nextProtos=e)})}),e.tls&&e.tls.certificates.map((e,n)=>(0,f.jsx)(x.Z,{className:"mb-2",children:(0,f.jsxs)(x.Z.Body,{children:[(0,f.jsx)(x.Z.Title,{className:"d-flex justify-content-end align-items-center",children:(0,f.jsx)(Q.Z,{variant:"outline-danger",onClick:()=>a(e=>{(null==e?void 0:e.certificates)!==void 0&&e.certificates.splice(n,1)}),children:(0,f.jsx)("i",{className:"bi bi-x-lg"})})}),(0,f.jsx)(eW,{cert:new eO(e),onChange:e=>a(t=>{(null==t?void 0:t.certificates)!==void 0&&(t.certificates[n]=e)})})]})},"tls_certificates"+n)),(0,f.jsx)(ee.Z,{className:"d-flex justify-content-end mb-2",children:(0,f.jsxs)(Q.Z,{variant:"outline-success",onClick:()=>a(e=>{e.certificates.push(new eO({cert:new Uint8Array(0),key:new Uint8Array(0),certFilePath:"",keyFilePath:""}))}),children:[(0,f.jsx)("i",{className:"bi bi-plus-lg"}),"New Certificate"]})}),e.tls&&e.tls.serverNameCertificate&&Object.entries(e.tls.serverNameCertificate).map(e=>{let[n,t]=e;return(0,f.jsx)(x.Z,{className:"mb-2",children:(0,f.jsxs)(x.Z.Body,{children:[(0,f.jsxs)(x.Z.Title,{className:"d-flex justify-content-between align-items-center",children:[n,(0,f.jsx)(Q.Z,{variant:"outline-danger",onClick:()=>a(e=>{null==e||delete e.serverNameCertificate[n]}),children:(0,f.jsx)("i",{className:"bi bi-x-lg"})})]}),(0,f.jsx)(eW,{cert:new eO(t),onChange:e=>a(t=>{t.serverNameCertificate[n]=e})})]})},"server_name_certificate"+n)}),(0,f.jsxs)(ee.Z,{className:"d-flex justify-content-end",children:[(0,f.jsx)($.Z.Control,{value:t,onChange:e=>s(e.target.value)}),(0,f.jsxs)(Q.Z,{variant:"outline-success",onClick:()=>a(e=>{""!==t&&(e.serverNameCertificate[t]=new eO({}))}),children:[(0,f.jsx)("i",{className:"bi bi-plus-lg"}),"New SNI Certificate"]})]})]})}),e$=v.memo(e=>{var n;let t=n=>{eY(e.websocket.tls)&&(e.websocket.tls=void 0),n(e.websocket),e.onChange(e.websocket)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(en.Vf,{plaintext:!0,label:"Protocol",value:"Websocket"}),e.websocket.tls&&(0,f.jsx)(eQ,{tls:new eR(null!==(n=e.websocket.tls)&&void 0!==n?n:void 0),onChange:e=>t(n=>n.tls=e)})]})}),ez=v.memo(e=>{let n=n=>{eY(e.quic.tls)&&(e.quic.tls=void 0),n(e.quic),e.onChange(e.quic)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(en.Vf,{plaintext:!0,label:"Protocol",value:"QUIC"}),e.quic.tls&&(0,f.jsx)(eQ,{tls:new eR(null!==e.quic.tls?e.quic.tls:void 0),onChange:e=>n(n=>n.tls=e)})]})}),eX=v.memo(e=>{let n=n=>{eY(e.grpc.tls)&&(e.grpc.tls=void 0),n(e.grpc),e.onChange(e.grpc)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(en.Vf,{plaintext:!0,label:"Protocol",value:"GRPC"}),e.grpc.tls&&(0,f.jsx)(eQ,{tls:new eR(e.grpc.tls),onChange:e=>n(n=>n.tls=e)})]})}),e0=v.memo(e=>{let n=n=>{eY(e.tls.tls)&&(e.tls.tls=void 0),n(e.tls),e.onChange(e.tls)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(en.Vf,{plaintext:!0,label:"Protocol",value:"TLS"}),e.tls.tls&&(0,f.jsx)(eQ,{tls:new eR(e.tls.tls),onChange:e=>n(n=>n.tls=e)})]})}),e1=v.memo(e=>{let n=n=>{eY(e.http2.tls)&&(e.http2.tls=void 0),n(e.http2),e.onChange(e.http2)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(en.Vf,{plaintext:!0,label:"Protocol",value:"HTTP2"}),e.http2.tls&&(0,f.jsx)(eQ,{tls:new eR(e.http2.tls),onChange:e=>n(n=>n.tls=e)})]})}),e2=v.memo(e=>{let n=n=>{n(e.reality),e.onChange(e.reality)},[t,s]=(0,v.useState)({value:""}),[a,r]=(0,v.useState)({value:""});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(en.Vf,{plaintext:!0,label:"Protocol",value:"Reality"}),(0,f.jsx)(en.Vf,{label:"Dest",value:e.reality.dest,onChange:e=>n(n=>n.dest=e)}),(0,f.jsx)(en.Vf,{label:"Private Key",value:e.reality.privateKey,onChange:e=>n(n=>n.privateKey=e)}),(0,f.jsxs)($.Z.Group,{as:z.Z,className:"mb-3",children:[(0,f.jsx)($.Z.Label,{column:!0,sm:2,className:"nowrap",children:"Short ID"}),e.reality.shortId.map((e,t)=>(0,f.jsx)(X.Z,{sm:{span:10,offset:0!==t?2:0},children:(0,f.jsxs)(ee.Z,{className:"mb-2",children:[(0,f.jsx)($.Z.Control,{value:e,onChange:e=>n(n=>{n.shortId[t]=e.target.value})}),(0,f.jsx)(Q.Z,{variant:"outline-danger",onClick:()=>n(e=>{e.shortId.splice(t,1)}),children:(0,f.jsx)("i",{className:"bi bi-x-lg"})})]})},t)),(0,f.jsx)(X.Z,{sm:{span:10,offset:0!==e.reality.shortId.length?2:0},children:(0,f.jsxs)(ee.Z,{className:"mb-2",children:[(0,f.jsx)($.Z.Control,{value:t.value,onChange:e=>s({value:e.target.value})}),(0,f.jsx)(Q.Z,{variant:"outline-success",onClick:()=>n(e=>{e.shortId.push(t.value)}),children:(0,f.jsx)("i",{className:"bi bi-plus-lg"})})]})})]}),(0,f.jsxs)($.Z.Group,{as:z.Z,className:"mb-3",children:[(0,f.jsx)($.Z.Label,{column:!0,sm:2,className:"nowrap",children:"Server Name"}),e.reality.serverName.map((e,t)=>(0,f.jsx)(X.Z,{sm:{span:10,offset:0!==t?2:0},children:(0,f.jsxs)(ee.Z,{className:"mb-2",children:[(0,f.jsx)($.Z.Control,{value:e,onChange:e=>n(n=>{n.serverName[t]=e.target.value})}),(0,f.jsx)(Q.Z,{variant:"outline-danger",onClick:()=>n(e=>{e.serverName.splice(t,1)}),children:(0,f.jsx)("i",{className:"bi bi-x-lg"})})]})},t)),(0,f.jsx)(X.Z,{sm:{span:10,offset:0!==e.reality.serverName.length?2:0},children:(0,f.jsxs)(ee.Z,{className:"mb-2",children:[(0,f.jsx)($.Z.Control,{value:a.value,onChange:e=>r({value:e.target.value})}),(0,f.jsx)(Q.Z,{variant:"outline-success",onClick:()=>n(e=>{e.serverName.push(a.value)}),children:(0,f.jsx)("i",{className:"bi bi-plus-lg"})})]})})]})]})}),e9=v.memo(e=>{let n=n=>{n(e.yuubinsya),e.onChange(e.yuubinsya)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(et.J,{label:"Force Disable Encrypt",checked:e.yuubinsya.forceDisableEncrypt,onChange:()=>n(e=>e.forceDisableEncrypt=!e.forceDisableEncrypt)}),(0,f.jsx)(et.J,{label:"Mux",checked:e.yuubinsya.mux,onChange:()=>n(e=>e.mux=!e.mux)}),(0,f.jsx)(en.Vf,{label:"Host",value:e.yuubinsya.host,onChange:e=>n(n=>n.host=e)}),(0,f.jsx)(en.Vf,{label:"Password",value:e.yuubinsya.password,onChange:e=>n(n=>n.password=e)}),(()=>{switch(e.yuubinsya.protocol.case){case"websocket":return(0,f.jsx)(e$,{websocket:new eB(e.yuubinsya.protocol.value),onChange:e=>n(n=>n.protocol.value=e)});case"quic":return(0,f.jsx)(ez,{quic:new eE(e.yuubinsya.protocol.value),onChange:e=>n(n=>n.protocol.value=e)});case"grpc":return(0,f.jsx)(eX,{grpc:new eI(e.yuubinsya.protocol.value),onChange:e=>n(n=>n.protocol.value=e)});case"http2":return(0,f.jsx)(e1,{http2:new eL(e.yuubinsya.protocol.value),onChange:e=>n(n=>n.protocol.value=e)});case"reality":return(0,f.jsx)(e2,{reality:new eD(e.yuubinsya.protocol.value),onChange:e=>n(n=>n.protocol.value=e)});case"tls":return(0,f.jsx)(e0,{tls:new eV(e.yuubinsya.protocol.value),onChange:e=>n(n=>n.protocol.value=e)})}})()]})}),e6=v.memo(e=>{let n=n=>{n(e.protocol),e.onChange(e.protocol)};switch(e.protocol.protocol.case){case"http":return(0,f.jsx)(eK,{http:new ek(e.protocol.protocol.value),onChange:e=>n(n=>n.protocol.value=e)});case"socks5":return(0,f.jsx)(eU,{socks5:new eC(e.protocol.protocol.value),onChange:e=>n(n=>n.protocol.value=e)});case"mix":return(0,f.jsx)(eA,{mixed:new eT(e.protocol.protocol.value),onChange:e=>n(n=>n.protocol.value=e)});case"redir":return(0,f.jsx)(eH,{redir:new eZ(e.protocol.protocol.value),onChange:e=>n(n=>n.protocol.value=e)});case"tun":return(0,f.jsx)(eM,{tun:new e_(e.protocol.protocol.value),onChange:e=>n(n=>n.protocol.value=e)});case"yuubinsya":return(0,f.jsx)(e9,{yuubinsya:new eP(e.protocol.protocol.value),onChange:e=>n(n=>n.protocol.value=e)});case"tproxy":return(0,f.jsx)(eG,{tproxy:new eJ(e.protocol.protocol.value),onChange:e=>n(n=>n.protocol.value=e)})}return(0,f.jsx)(f.Fragment,{})}),e4=v.memo(e=>{let[n,t]=(0,v.useState)({value:"http",name:""}),s=n=>{n(e.server),e.onChange(e.server)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(et.J,{label:"DNS Hijack",checked:!!e.server.hijackDns,onChange:()=>s(e=>e.hijackDns=!e.hijackDns)}),(0,f.jsx)(et.J,{label:"Fakedns",checked:!!e.server.hijackDnsFakeip,onChange:()=>s(e=>e.hijackDnsFakeip=!e.hijackDnsFakeip)}),(0,f.jsx)("hr",{}),Object.entries(e.server.servers).sort((e,n)=>e[0]<=n[0]?-1:1).map(e=>{let[n,t]=e;return(0,f.jsxs)("div",{children:[(0,f.jsxs)(x.Z.Title,{className:"d-flex justify-content-between align-items-center",children:[n,(0,f.jsx)(Q.Z,{variant:"outline-danger",onClick:()=>s(e=>{e.servers&&delete e.servers[n]}),children:(0,f.jsx)("i",{className:"bi bi-x-lg"})})]}),(0,f.jsx)(et.J,{label:"Enabled",checked:t.enabled,onChange:()=>s(e=>e.servers[n].enabled=!e.servers[n].enabled)}),(0,f.jsx)(e6,{protocol:new ef(t),onChange:e=>s(t=>t.servers[n]=e)}),(0,f.jsx)("hr",{})]},n)}),(0,f.jsxs)(ee.Z,{className:"d-flex justify-content-end",children:[(0,f.jsx)($.Z.Control,{value:n.name,onChange:e=>t({...n,name:e.target.value})}),(0,f.jsxs)($.Z.Select,{value:n.value,onChange:e=>t({...n,value:e.target.value}),children:[(0,f.jsx)("option",{value:"mix",children:"Mixed"}),(0,f.jsx)("option",{value:"http",children:"HTTP"}),(0,f.jsx)("option",{value:"socks5",children:"SOCKS5"}),(0,f.jsx)("option",{value:"tun",children:"TUN"}),(0,f.jsx)("option",{value:"redir",children:"Redir"}),(0,f.jsx)("option",{value:"tproxy",children:"TProxy"}),(0,f.jsx)("option",{value:"yuubinsya",children:"Yuubinsya"}),(0,f.jsx)("option",{value:"yuubinsya-websocket",children:"Yuubinsya Websocket"}),(0,f.jsx)("option",{value:"yuubinsya-tls",children:"Yuubinsya TLS"}),(0,f.jsx)("option",{value:"yuubinsya-grpc",children:"Yuubinsya GRPC"}),(0,f.jsx)("option",{value:"yuubinsya-quic",children:"Yuubinsya QUIC"}),(0,f.jsx)("option",{value:"yuubinsya-http2",children:"Yuubinsya HTTP2"}),(0,f.jsx)("option",{value:"yuubinsya-reality",children:"Yuubinsya Reality"})]}),(0,f.jsxs)(Q.Z,{variant:"outline-success",onClick:()=>s(e=>{console.log(n),e3(e.servers,n.name,n.value)}),children:[(0,f.jsx)("i",{className:"bi bi-plus-lg"}),"New Inbound"]})]})]})}),e3=(e,n,t)=>{if(""===n||void 0!==e[n])return;let s=new ef({name:n,enabled:!1});switch(t){case"http":s.protocol={case:"http",value:new ek({host:":8188",username:"",password:""})};break;case"socks5":s.protocol={case:"socks5",value:new eC({host:":1080",password:"",username:""})};break;case"mix":s.protocol={case:"mix",value:new eT({host:":1080",password:"",username:""})};break;case"tun":s.protocol={case:"tun",value:new e_({name:"tun://tun0",mtu:1500,gateway:"172.16.0.1",dnsHijacking:!0,skipMulticast:!1,driver:h.system_gvisor,portal:"172.16.0.2"})};break;case"redir":s.protocol={case:"redir",value:new eZ({host:":8088"})};break;case"yuubinsya":s.protocol={case:"yuubinsya",value:new eP({host:":2096",forceDisableEncrypt:!1,password:"password",protocol:{case:"normal",value:new eF({})}})};break;case"yuubinsya-websocket":s.protocol={case:"yuubinsya",value:new eP({host:":2096",forceDisableEncrypt:!1,password:"password",protocol:{case:"websocket",value:new eB({tls:{}})}})};break;case"yuubinsya-tls":s.protocol={case:"yuubinsya",value:new eP({host:":2096",forceDisableEncrypt:!1,password:"password",protocol:{case:"tls",value:new eV({tls:{}})}})};break;case"yuubinsya-grpc":s.protocol={case:"yuubinsya",value:new eP({host:":2096",forceDisableEncrypt:!1,password:"password",protocol:{case:"grpc",value:new eI({tls:{}})}})};break;case"yuubinsya-quic":s.protocol={case:"yuubinsya",value:new eP({host:":2096",forceDisableEncrypt:!1,password:"password",protocol:{case:"quic",value:new eE({tls:{}})}})};break;case"yuubinsya-http2":s.protocol={case:"yuubinsya",value:new eP({host:":2096",forceDisableEncrypt:!1,password:"password",protocol:{case:"http2",value:new eL({tls:{}})}})};break;case"yuubinsya-reality":s.protocol={case:"yuubinsya",value:new eP({host:":2096",forceDisableEncrypt:!1,password:"password",protocol:{case:"reality",value:new eD({shortId:["123456"],serverName:["www.example.com"],privateKey:"",dest:"dl.google.com:443",debug:!1})}})};break;case"tproxy":s.protocol={case:"tproxy",value:new eJ({host:"0.0.0.0:8083"})};break;default:return}e[n]=new ef(s)};var e8=t(6491),e5=t(6756),e7=t(1252),ne=t(8224),nn=t(2283),nt=t.n(nn);(l=p||(p={}))[l.verbose=0]="verbose",l[l.debug=1]="debug",l[l.info=2]="info",l[l.warning=3]="warning",l[l.error=4]="error",l[l.fatal=5]="fatal",es.w.util.setEnumType(p,"yuhaiin.log.log_level",[{no:0,name:"verbose"},{no:1,name:"debug"},{no:2,name:"info"},{no:3,name:"warning"},{no:4,name:"error"},{no:5,name:"fatal"}]);class ns extends ea.v{static fromBinary(e,n){return new ns().fromBinary(e,n)}static fromJson(e,n){return new ns().fromJson(e,n)}static fromJsonString(e,n){return new ns().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(ns,e,n)}constructor(e){super(),this.level=0,this.save=!1,es.w.util.initPartial(e,this)}}ns.runtime=es.w,ns.typeName="yuhaiin.log.logcat",ns.fields=es.w.util.newFieldList(()=>[{no:1,name:"level",kind:"enum",T:es.w.getEnumType(p)},{no:2,name:"save",kind:"scalar",T:8}]);class na extends ea.v{static fromBinary(e,n){return new na().fromBinary(e,n)}static fromJson(e,n){return new na().fromJson(e,n)}static fromJsonString(e,n){return new na().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(na,e,n)}constructor(e){super(),this.ipv6=!1,this.netInterface="",es.w.util.initPartial(e,this)}}na.runtime=es.w,na.typeName="yuhaiin.config.setting",na.fields=es.w.util.newFieldList(()=>[{no:7,name:"ipv6",kind:"scalar",T:8},{no:6,name:"net_interface",jsonName:"net_interface",kind:"scalar",T:9},{no:1,name:"system_proxy",jsonName:"system_proxy",kind:"message",T:nr},{no:2,name:"bypass",kind:"message",T:eu},{no:4,name:"dns",kind:"message",T:ei},{no:5,name:"server",kind:"message",T:ej},{no:8,name:"logcat",kind:"message",T:ns}]);class nr extends ea.v{static fromBinary(e,n){return new nr().fromBinary(e,n)}static fromJson(e,n){return new nr().fromJson(e,n)}static fromJsonString(e,n){return new nr().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(nr,e,n)}constructor(e){super(),this.http=!1,this.socks5=!1,es.w.util.initPartial(e,this)}}nr.runtime=es.w,nr.typeName="yuhaiin.config.system_proxy",nr.fields=es.w.util.newFieldList(()=>[{no:2,name:"http",kind:"scalar",T:8},{no:3,name:"socks5",kind:"scalar",T:8}]);class ni extends ea.v{static fromBinary(e,n){return new ni().fromBinary(e,n)}static fromJson(e,n){return new ni().fromJson(e,n)}static fromJsonString(e,n){return new ni().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(ni,e,n)}constructor(e){super(),this.version="",this.commit="",this.buildTime="",this.goVersion="",this.arch="",this.platform="",this.os="",this.compiler="",this.build=[],es.w.util.initPartial(e,this)}}ni.runtime=es.w,ni.typeName="yuhaiin.config.info",ni.fields=es.w.util.newFieldList(()=>[{no:1,name:"version",kind:"scalar",T:9},{no:2,name:"commit",kind:"scalar",T:9},{no:3,name:"build_time",jsonName:"build_time",kind:"scalar",T:9},{no:4,name:"go_version",jsonName:"go_version",kind:"scalar",T:9},{no:5,name:"arch",kind:"scalar",T:9},{no:6,name:"platform",kind:"scalar",T:9},{no:7,name:"os",kind:"scalar",T:9},{no:8,name:"compiler",kind:"scalar",T:9},{no:9,name:"build",kind:"scalar",T:9,repeated:!0}]);class no extends ea.v{static fromBinary(e,n){return new no().fromBinary(e,n)}static fromJson(e,n){return new no().fromJson(e,n)}static fromJsonString(e,n){return new no().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(no,e,n)}constructor(e){super(),this.interfaces=[],es.w.util.initPartial(e,this)}}no.runtime=es.w,no.typeName="yuhaiin.tools.Interfaces",no.fields=es.w.util.newFieldList(()=>[{no:1,name:"interfaces",kind:"message",T:nl,repeated:!0}]);class nl extends ea.v{static fromBinary(e,n){return new nl().fromBinary(e,n)}static fromJson(e,n){return new nl().fromJson(e,n)}static fromJsonString(e,n){return new nl().fromJsonString(e,n)}static equals(e,n){return es.w.util.equals(nl,e,n)}constructor(e){super(),this.name="",this.addresses=[],es.w.util.initPartial(e,this)}}nl.runtime=es.w,nl.typeName="yuhaiin.tools.Interface",nl.fields=es.w.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"addresses",kind:"scalar",T:9,repeated:!0}]);var nu=function(){let e=(0,v.useContext)(e5.P),{data:n,error:t,isLoading:s,mutate:a}=(0,e7.ZP)("/config",(0,ne.D4)(new na),{revalidateOnFocus:!1}),{data:r}=(0,e7.ZP)("/info",(0,ne.D4)(new ni),{}),{data:i}=(0,e7.ZP)("/interfaces",(0,ne.D4)(new no),{revalidateOnFocus:!0});if(void 0!==t)return(0,f.jsx)(nt(),{statusCode:t.code,title:t.msg});if(s||void 0===n)return(0,f.jsx)(e8.Z,{});let o=e=>{a(n=>{let t=new na(n);return e(t),t},!1)};return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(x.Z,{className:"mb-3",children:(0,f.jsxs)(x.Z.Body,{children:[(0,f.jsxs)(H,{defaultActiveKey:"home",className:"mb-3",children:[(0,f.jsxs)(W,{eventKey:"home",title:"Home",children:[(0,f.jsx)(et.J,{label:"IPv6",checked:n.ipv6,onChange:()=>a(new na({...n,ipv6:!n.ipv6}),!1)}),(0,f.jsx)(en.Vf,{label:"Network Interface",value:n.netInterface,onChange:e=>o(n=>n.netInterface=e),reminds:null==i?void 0:i.interfaces.map(e=>{if(e.name){var n;return{label:e.name,value:e.name,label_children:null===(n=e.addresses)||void 0===n?void 0:n.map(e=>e||"")}}}).filter(e=>!!e)}),(0,f.jsx)("hr",{}),(0,f.jsx)(x.Z.Title,{className:"mb-2",children:"System Proxy"}),(0,f.jsx)(et.J,{label:"SOCKS5",checked:n.systemProxy.socks5,onChange:()=>o(e=>{var n;return e.systemProxy.socks5=!(null===(n=e.systemProxy)||void 0===n?void 0:n.socks5)})}),(0,f.jsx)(et.J,{label:"HTTP",checked:n.systemProxy.http,onChange:()=>o(e=>e.systemProxy.http=!e.systemProxy.http)}),(0,f.jsx)("hr",{}),(0,f.jsx)(x.Z.Title,{className:"mb-2",children:"Logcat"}),(0,f.jsx)(et.J,{label:"Save",checked:n.logcat.save,onChange:()=>o(e=>e.logcat.save=!e.logcat.save)}),(0,f.jsx)(nc,{label:"Level",value:n.logcat.level,onChange:e=>o(n=>{n.logcat.level=e})})]}),(0,f.jsx)(W,{eventKey:"bypass",title:"Bypass",children:(0,f.jsx)(em,{bypass:new eu(n.bypass),onChange:e=>o(n=>n.bypass=e)})}),(0,f.jsx)(W,{eventKey:"dns",title:"DNS",children:(0,f.jsx)(eo,{data:new ei(n.dns),onChange:e=>o(n=>n.dns=e)})}),(0,f.jsx)(W,{eventKey:"inbound",title:"Inbound",children:(0,f.jsx)(e4,{server:n.server,onChange:e=>o(n=>n.server=e)})}),(0,f.jsxs)(W,{eventKey:"info",title:"Info",children:[(0,f.jsx)(en.Vf,{plaintext:!0,mb:"mb-0",label:"Version",value:null==r?void 0:r.version}),(0,f.jsx)(en.Vf,{url:"https://github.com/yuhaiin/yuhaiin/commit/"+(null==r?void 0:r.commit),plaintext:!0,mb:"mb-0",label:"Commit",value:null==r?void 0:r.commit}),(0,f.jsx)(en.Vf,{plaintext:!0,mb:"mb-0",label:"Build Time",value:null==r?void 0:r.buildTime}),(0,f.jsx)(en.Vf,{plaintext:!0,mb:"mb-0",label:"Go Version",value:null==r?void 0:r.goVersion}),(0,f.jsx)(en.Vf,{url:"https://github.com/yuhaiin/yuhaiin",plaintext:!0,mb:"mb-0",label:"Github",value:"yuhaiin/yuhaiin"}),(0,f.jsx)(en.Vf,{plaintext:!0,mb:"mb-0",label:"OS",value:null==r?void 0:r.os}),(0,f.jsx)(en.Vf,{plaintext:!0,mb:"mb-0",label:"Arch",value:null==r?void 0:r.arch}),(0,f.jsx)(en.Vf,{plaintext:!0,mb:"mb-0",label:"Compiler",value:null==r?void 0:r.compiler}),(0,f.jsx)(en.Vf,{plaintext:!0,mb:"mb-0",label:"Platform",value:null==r?void 0:r.platform}),(0,f.jsx)(en.sr,{title:"Build",data:null==r?void 0:r.build,mb:"mb-0"})]})]}),(null==r?void 0:r.os)!="android"&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("hr",{}),(0,f.jsx)(Q.Z,{onClick:()=>{(0,ne.Uo)("/config",{body:n.toBinary()}).then(async n=>{let{error:t}=n;void 0!==t?e.Error("save config failed, ".concat(t.code,"| ").concat(await t.msg)):(e.Info("Save Config Successfully"),a())})},children:"Save"})]})]})})})};function nc(e){return(0,f.jsxs)($.Z.Group,{as:z.Z,className:"mb-3",children:[(0,f.jsx)($.Z.Label,{column:!0,sm:2,children:e.label}),(0,f.jsx)(X.Z,{sm:10,children:(0,f.jsxs)($.Z.Select,{value:p[e.value],onChange:n=>e.onChange(p[n.target.value]),children:[(0,f.jsx)("option",{value:p[p.debug],children:"DEBUG"}),(0,f.jsx)("option",{value:p[p.info],children:"INFO"}),(0,f.jsx)("option",{value:p[p.warning],children:"WARN"}),(0,f.jsx)("option",{value:p[p.error],children:"ERROR"})]})})]})}},7848:function(e,n,t){"use strict";var s=t(9476),a=t(1564),r=t(2265);n.Z=function({children:e,in:n,onExited:t,mountOnEnter:i,unmountOnExit:o}){let l=(0,r.useRef)(null),u=(0,r.useRef)(n),c=(0,s.Z)(t);(0,r.useEffect)(()=>{n?u.current=!0:c(l.current)},[n,c]);let m=(0,a.Z)(l,e.ref),d=(0,r.cloneElement)(e,{ref:m});return n?d:o||!u.current&&i?null:d}},1680:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return(0,a.default)(function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];var a=null;return n.forEach(function(e){if(null==a){var n=e.apply(void 0,t);null!=n&&(a=n)}}),a})};var s,a=(s=t(4704))&&s.__esModule?s:{default:s};e.exports=n.default},4704:function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){function n(n,t,s,a,r,i){var o=a||"<<anonymous>>",l=i||s;if(null==t[s])return n?Error("Required "+r+" `"+l+"` was not specified in `"+o+"`."):null;for(var u=arguments.length,c=Array(u>6?u-6:0),m=6;m<u;m++)c[m-6]=arguments[m];return e.apply(void 0,[t,s,o,r,l].concat(c))}var t=n.bind(null,!1);return t.isRequired=n.bind(null,!0),t},e.exports=n.default},6871:function(e,n,t){"use strict";var s=t(6480),a=t.n(s);t(1680);var r=t(2265),i=t(2540),o=t(7841),l=t(2865),u=t(7061),c=t(2937),m=t(1881),d=t(2812),h=t(7437);let p=r.forwardRef((e,n)=>{let t,s;let{as:m="div",bsPrefix:d,variant:p,fill:f=!1,justify:v=!1,navbar:x,navbarScroll:g,className:y,activeKey:w,...b}=(0,i.Ch)(e,{activeKey:"onSelect"}),j=(0,l.vE)(d,"nav"),k=!1,C=(0,r.useContext)(u.Z),N=(0,r.useContext)(c.Z);return C?(t=C.bsPrefix,k=null==x||x):N&&({cardHeaderBsPrefix:s}=N),(0,h.jsx)(o.Z,{as:m,ref:n,activeKey:w,className:a()(y,{[j]:!k,["".concat(t,"-nav")]:k,["".concat(t,"-nav-scroll")]:k&&g,["".concat(s,"-").concat(p)]:!!s,["".concat(j,"-").concat(p)]:!!p,["".concat(j,"-fill")]:f,["".concat(j,"-justified")]:v}),...b})});p.displayName="Nav",n.Z=Object.assign(p,{Item:m.Z,Link:d.Z})},1881:function(e,n,t){"use strict";var s=t(2265),a=t(6480),r=t.n(a),i=t(2865),o=t(7437);let l=s.forwardRef((e,n)=>{let{className:t,bsPrefix:s,as:a="div",...l}=e;return s=(0,i.vE)(s,"nav-item"),(0,o.jsx)(a,{ref:n,className:r()(t,s),...l})});l.displayName="NavItem",n.Z=l},2812:function(e,n,t){"use strict";var s=t(6480),a=t.n(s),r=t(2265),i=t(7160),o=t(9396),l=t(5450),u=t(2865),c=t(7437);let m=r.forwardRef((e,n)=>{let{bsPrefix:t,className:s,as:r=i.Z,active:m,eventKey:d,disabled:h=!1,...p}=e;t=(0,u.vE)(t,"nav-link");let[f,v]=(0,o.v)({key:(0,l.h)(d,p.href),active:m,disabled:h,...p});return(0,c.jsx)(r,{...p,...f,ref:n,disabled:h,className:a()(s,t,h&&"disabled",v.isActive&&"active")})});m.displayName="NavLink",n.Z=m}},function(e){e.O(0,[465,149,329,728,414,713,971,69,744],function(){return e(e.s=6320)}),_N_E=e.O()}]);