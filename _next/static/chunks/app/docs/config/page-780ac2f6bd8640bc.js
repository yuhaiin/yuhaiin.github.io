(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[779],{6381:(e,a,l)=>{Promise.resolve().then(l.bind(l,493))},7294:(e,a,l)=>{"use strict";l.d(a,{R:()=>h,O:()=>v});var s=l(2115),n=l(7021),t=l(6788),r=l(4395),o=l(9297);let i=(0,t.w)("ChF0b29scy90b29scy5wcm90bxINeXVoYWlpbi50b29scyI6CgpJbnRlcmZhY2VzEiwKCmludGVyZmFjZXMYASADKAsyGC55dWhhaWluLnRvb2xzLkludGVyZmFjZSIsCglJbnRlcmZhY2USDAoEbmFtZRgBIAEoCRIRCglhZGRyZXNzZXMYAiADKAkySwoFdG9vbHMSQgoNZ2V0X2ludGVyZmFjZRIWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRoZLnl1aGFpaW4udG9vbHMuSW50ZXJmYWNlc0IvWi1naXRodWIuY29tL0FzdXRvcnVmYS95dWhhaWluL3BrZy9wcm90b3MvdG9vbHNiBnByb3RvMw",[o.t]),d=(0,r.Z)(i,0);var c=l(8927);let v=(0,s.createContext)([]);function h(){let{data:e}=(0,n.Ay)("/interfaces",(0,c.AD)(d.method.get_interface),{revalidateOnFocus:!1});return e?e.interfaces:[]}},2859:(e,a,l)=>{"use strict";l.d(a,{$d:()=>o,FX:()=>c,Vx:()=>i,no:()=>d});var s=l(5155),n=l(6180),t=l(6121),r=l(3667);let o=e=>{let{label:a,checked:l,onChange:o,className:i}=e;return(0,s.jsxs)(n.A.Group,{as:t.A,className:i,children:[(0,s.jsx)(n.A.Label,{column:!0,sm:2,children:a}),(0,s.jsx)(r.A,{sm:10,className:"d-flex align-items-center",children:(0,s.jsx)(n.A.Check,{className:"d-flex align-items-center",type:"switch",checked:l,onChange:e=>o(e.target.checked)})})]})},i=e=>{var a;let{...l}=e;return(0,s.jsxs)(n.A.Group,{as:t.A,className:l.lastElem?"":"mb-2",children:[(0,s.jsx)(n.A.Label,{column:!0,sm:2,children:l.label}),(0,s.jsx)(r.A,{sm:10,children:(0,s.jsx)(n.A.Select,{value:l.value,onChange:e=>l.onChange(Number(e.target.value)),children:l.type.values.filter(null!==(a=l.filter)&&void 0!==a?a:()=>!0).map(e=>(0,s.jsx)("option",{value:e.number,children:l.format?l.format(e.number):e.name},e.number))})})]})},d=e=>{let{label:a,values:l,onChange:o,value:i,emptyChoose:d,lastElem:c}=e;return(0,s.jsxs)(n.A.Group,{as:t.A,className:c?"":"mb-2",children:[(0,s.jsx)(n.A.Label,{column:!0,sm:2,children:a}),(0,s.jsx)(r.A,{sm:10,children:(0,s.jsxs)(n.A.Select,{value:i,onChange:e=>o(e.target.value),children:[d&&(0,s.jsx)("option",{value:"",children:"Choose..."}),l.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})})]})},c=e=>{let{values:a,onChange:l,value:t,emptyChoose:r,format:o}=e;return(0,s.jsxs)(n.A.Select,{value:t,onChange:e=>l(e.target.value),children:[r&&(0,s.jsx)("option",{value:"",children:"Choose..."}),a.map(e=>{let a="string"==typeof e?e:e[0],l="string"==typeof e?e:e[1];return(0,s.jsx)("option",{value:l,children:o?o(a):a},a)})]})}},148:(e,a,l)=>{"use strict";l.d(a,{u:()=>o,y:()=>i});var s=l(5155),n=l(2115),t=l(1757),r=l(491);let o=(0,n.createContext)({Info:e=>{console.log(e)},Error:e=>{console.error(e)}}),i=e=>{let{children:a}=e,[l,i]=(0,n.useState)({value:{},index:0}),d=(e,a)=>i(l=>({value:{...l.value,[l.index]:{text:e,type:a}},index:l.index+1}));return(0,s.jsxs)(o.Provider,{value:{Info:e=>{console.log(e),d(e,"success")},Error:e=>{console.error(e),d(e,"danger")}},children:[(0,s.jsx)(t.A,{className:"p-3",position:"top-center",containerPosition:"fixed",style:{zIndex:999999},children:Object.entries(l.value).map(e=>{let[a,l]=e;return(0,s.jsxs)(r.A,{role:"alert","aria-live":"assertive",show:!0,bg:l.type,onClose:()=>{i(e=>{let l={...e.value};return delete l[a],{...e,value:l}})},"aria-atomic":"true",delay:4e3,autohide:!0,animation:!0,children:[(0,s.jsxs)(r.A.Header,{children:[(0,s.jsx)("strong",{className:"me-auto",children:"Notification"}),(0,s.jsx)("small",{className:"text-muted",children:"just now"})]}),(0,s.jsx)(r.A.Body,{className:"text-center",children:l.text})]},"toast"+a)})}),a]})}},493:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>R});var s=l(5155),n=l(3577),t=l(2115),r=l(7471),o=l(2981),i=l(3360),d=l(6180),c=l(6121),v=l(3667),h=l(5166),u=l(8627),x=l(2963),m=l(7021),j=l(7294),g=l(9169),b=l(8927),p=l(2859),C=l(148),A=l(878),f=l(1463),y=l(6863),k=l(4431),N=l(7204),S=l(8003);let I=e=>{let{title:a,value:l,onChange:n}=e;return(0,s.jsx)(N.mc,{title:a,className:"mt-2",hideClose:!0,children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(N.a9,{label:"Host",value:l.host,onChange:e=>n({...l,host:e})}),(0,s.jsx)(p.Vx,{label:"Type",type:f.m9,value:l.type,onChange:e=>n({...l,type:e})}),(0,s.jsx)(N.a9,{label:"Subnet",value:l.subnet,onChange:e=>n({...l,subnet:e})}),(0,s.jsx)(N.a9,{className:"",label:"SNI",value:l.tlsServername,onChange:e=>n({...l,tlsServername:e})})]})})},F=e=>{var a,l,r;let[o,i]=(0,t.useState)({key:"",value:""});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(N.a9,{label:"Server",value:e.value.server,onChange:a=>e.onChange({...e.value,server:a})}),(0,s.jsx)(N.mc,{title:"FakeDNS",hideClose:!0,children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.$d,{label:"Enabled",checked:e.value.fakedns,onChange:()=>e.onChange({...e.value,fakedns:!e.value.fakedns})}),(0,s.jsx)(N.a9,{label:"IPv4 Range",value:e.value.fakednsIpRange,onChange:a=>e.onChange({...e.value,fakednsIpRange:a})}),(0,s.jsx)(N.a9,{label:"IPv6 Range",value:e.value.fakednsIpv6Range,onChange:a=>e.onChange({...e.value,fakednsIpv6Range:a})}),(0,s.jsx)(N.e9,{title:"Whitelist",data:e.value.fakednsWhitelist,onChange:a=>e.onChange({...e.value,fakednsWhitelist:a})})]})}),(0,s.jsx)(I,{title:"Local DNS",value:null!==(a=e.value.local)&&void 0!==a?a:(0,n.v)(f.Rx,{}),onChange:a=>e.onChange({...e.value,local:a})}),(0,s.jsx)(I,{title:"Remote DNS",value:null!==(l=e.value.remote)&&void 0!==l?l:(0,n.v)(f.Rx,{}),onChange:a=>e.onChange({...e.value,remote:a})}),(0,s.jsx)(I,{title:"Bootstrap DNS",value:null!==(r=e.value.bootstrap)&&void 0!==r?r:(0,n.v)(f.Rx,{}),onChange:a=>e.onChange({...e.value,bootstrap:a})}),(0,s.jsx)(N.mc,{title:"Hosts",className:"mt-2",hideClose:!0,children:(0,s.jsxs)(s.Fragment,{children:[Object.entries(e.value.hosts).sort((e,a)=>{let[l]=e,[s]=a;return l>s?-1:1}).map(a=>{let[l,n]=a;return(0,s.jsxs)(S.A,{className:"mb-2",children:[(0,s.jsx)(d.A.Control,{readOnly:!0,value:l}),(0,s.jsx)(S.A.Text,{children:(0,s.jsx)("i",{className:"bi bi-arrow-right"})}),(0,s.jsx)(d.A.Control,{value:n,onChange:a=>e.onChange({...e.value,hosts:{...e.value.hosts,[l]:a.target.value}})}),(0,s.jsx)(x.A,{variant:"outline-danger",onClick:()=>{let a={...e.value.hosts};delete a[l],e.onChange({...e.value,hosts:a})},children:(0,s.jsx)("i",{className:"bi bi-x-lg"})})]},"hosts"+l)}),(0,s.jsxs)(S.A,{children:[(0,s.jsx)(d.A.Control,{value:o.key,onChange:e=>i({...o,key:e.target.value})}),(0,s.jsx)(S.A.Text,{children:(0,s.jsx)("i",{className:"bi bi-arrow-right"})}),(0,s.jsx)(d.A.Control,{value:o.value,onChange:e=>i({...o,value:e.target.value})}),(0,s.jsx)(x.A,{variant:"outline-success",onClick:()=>{""!==o.key&&void 0===e.value.hosts[o.key]&&e.onChange({...e.value,hosts:{...e.value.hosts,[o.key]:o.value}})},children:(0,s.jsx)("i",{className:"bi bi-plus-lg"})})]})]})})]})},R=function(){var e,a,l,S,I,R,w,D,Z;let P=(0,t.useContext)(C.u),{data:L,error:W,isLoading:G,mutate:E}=(0,m.Ay)("/config",(0,b.AD)(y.hF.method.load),{revalidateOnFocus:!1}),O=(0,j.R)();if(void 0!==W)return(0,s.jsx)(g.$,{statusCode:W.code,title:W.msg});if(G||void 0===L)return(0,s.jsx)(g.A,{});let V=e=>{var a,l;let s=[];return(null===(a=e.systemProxy)||void 0===a?void 0:a.http)&&s.push(1),(null===(l=e.systemProxy)||void 0===l?void 0:l.socks5)&&s.push(2),s};return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(r.A.Container,{defaultActiveKey:"home",children:(0,s.jsxs)(o.A,{className:"mb-3",children:[(0,s.jsx)(o.A.Header,{children:(0,s.jsxs)(i.A,{variant:"tabs",style:{flexWrap:"nowrap",overflow:"auto hidden"},children:[(0,s.jsx)(i.A.Item,{children:(0,s.jsx)(i.A.Link,{eventKey:"home",children:"Setting"})}),(0,s.jsx)(i.A.Item,{children:(0,s.jsx)(i.A.Link,{eventKey:"dns",children:"DNS(Deprecated)"})})]})}),(0,s.jsx)(o.A.Body,{children:(0,s.jsxs)(r.A.Content,{children:[(0,s.jsx)(r.A.Pane,{eventKey:"home",children:(0,s.jsxs)("fieldset",{disabled:null===(e=L.platform)||void 0===e?void 0:e.androidApp,children:[(0,s.jsx)(p.$d,{label:"IPv6",checked:L.ipv6,onChange:()=>E({...L,ipv6:!L.ipv6},!1)}),(0,s.jsx)(N.a9,{label:"Network Interface",value:L.netInterface,onChange:e=>E({...L,netInterface:e},!1),reminds:O.map(e=>{var a;if(e.name)return{label:e.name,value:e.name,label_children:null===(a=e.addresses)||void 0===a?void 0:a.map(e=>e||"")}}).filter(e=>!!e)}),(0,s.jsxs)(d.A.Group,{as:c.A,className:"mb-2",children:[(0,s.jsx)(d.A.Label,{column:!0,sm:2,className:"nowrap",children:"System Proxy"}),(0,s.jsx)(v.A,{sm:10,children:(0,s.jsxs)(h.A,{type:"checkbox",className:"d-flex",defaultValue:V(L),value:V(L),onChange:e=>{let a=!1,l=!1;for(let s of e)1===s&&(a=!0),2===s&&(l=!0);E({...L,systemProxy:(0,n.v)(A.Oe,{http:a,socks5:l})},!1)},children:[(0,s.jsx)(u.A,{variant:"outline-primary",className:"w-100",id:"system-proxy-tbg-btn-1",value:1,children:"HTTP"}),(0,s.jsx)(u.A,{variant:"outline-primary",className:"w-100",id:"system-proxy-tbg-btn-2",value:2,children:"SOCKS5"})]})})]}),(0,s.jsx)("hr",{}),(0,s.jsx)(o.A.Title,{className:"mb-2",children:"Inbound"}),(0,s.jsx)(p.$d,{label:"DNS Hijack",checked:null!==(a=L.server)&&void 0!==a&&!!a.hijackDns,onChange:()=>E({...L,server:{...L.server,hijackDns:!L.server.hijackDns}},!1)}),(0,s.jsx)(p.$d,{label:"Fakedns",checked:null!==(l=L.server)&&void 0!==l&&!!l.hijackDnsFakeip,onChange:()=>E({...L,server:{...L.server,hijackDnsFakeip:!L.server.hijackDnsFakeip}},!1)}),(0,s.jsx)(p.$d,{label:"Sniff",checked:null!==(I=L.server)&&void 0!==I&&null!==(S=I.sniff)&&void 0!==S&&!!S.enabled,onChange:()=>E({...L,server:{...L.server,sniff:{...L.server.sniff,enabled:!L.server.sniff.enabled}}},!1)}),(0,s.jsx)("hr",{}),(0,s.jsx)(o.A.Title,{className:"mb-2",children:"DNS"}),(0,s.jsx)(N.a9,{label:"DNS Server",value:(null===(R=L.dns)||void 0===R?void 0:R.server)?null===(w=L.dns)||void 0===w?void 0:w.server:"",onChange:e=>E({...L,dns:{...L.dns,server:e}},!1)}),(0,s.jsx)("hr",{}),(0,s.jsx)(o.A.Title,{className:"mb-2",children:"Logcat"}),(0,s.jsx)(p.$d,{label:"Save",checked:L.logcat.save,onChange:e=>E({...L,logcat:{...L.logcat,save:e}},!1)}),(0,s.jsx)(p.Vx,{label:"Level",type:k.LM,value:L.logcat.level,filter:e=>e.number!==k.cP.verbose&&e.number!==k.cP.fatal,onChange:e=>E({...L,logcat:{...L.logcat,level:e}},!1)})]})}),(0,s.jsx)(r.A.Pane,{eventKey:"dns",title:"DNS",children:(0,s.jsx)("fieldset",{disabled:null===(D=L.platform)||void 0===D?void 0:D.androidApp,children:(0,s.jsx)(F,{value:(0,n.v)(f.ct,L.dns),onChange:e=>E({...L,dns:e},!1)})})})]})}),!(null===(Z=L.platform)||void 0===Z?void 0:Z.androidApp)&&(0,s.jsx)(o.A.Footer,{className:"d-flex justify-content-md-end",children:(0,s.jsx)(x.A,{variant:"outline-primary",onClick:()=>{(0,b.kP)(y.hF.method.save,"/config","POST",L).then(async e=>{let{error:a}=e;void 0!==a?P.Error("save config failed, ".concat(a.code,"| ").concat(await a.msg)):(P.Info("Save Config Successfully"),E())})},children:"Save"})})]})})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[295,867,306,920,818,637,100,922,863,441,517,358],()=>a(6381)),_N_E=e.O()}]);