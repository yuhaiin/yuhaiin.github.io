(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[23],{4667:function(e,t,a){Promise.resolve().then(a.bind(a,3823))},2159:function(e,t,a){"use strict";a.d(t,{P:function(){return l},t:function(){return GlobalToastProvider}});var s=a(7437),o=a(2265),n=a(5632),r=a(5140);let l=(0,o.createContext)({Info:e=>{},Error:e=>{}}),GlobalToastProvider=e=>{let{children:t}=e,[a,i]=(0,o.useState)({value:{},index:0}),msg=(e,t)=>{i(a=>(a.value[a.index]={text:e,type:t},a.index++,{...a}))};return(0,s.jsxs)(l.Provider,{value:{Info:e=>{console.log(e),msg(e,"success")},Error:e=>{console.error(e),msg(e,"danger")}},children:[(0,s.jsx)(r.Z,{className:"p-3",position:"top-center",containerPosition:"fixed",style:{zIndex:1},children:Object.entries(a.value).map(e=>{let[t,o]=e;return(0,s.jsxs)(n.Z,{role:"alert","aria-live":"assertive",show:!0,bg:o.type,onClose:()=>{let e=a.value;delete e[t],i({...a,value:e}),console.log("close: "+t)},"aria-atomic":"true",delay:4e3,autohide:!0,animation:!0,children:[(0,s.jsxs)(n.Z.Header,{children:[(0,s.jsx)("strong",{className:"me-auto",children:"Notification"}),(0,s.jsx)("small",{className:"text-muted",children:"just now"})]}),(0,s.jsx)(n.Z.Body,{className:"text-center",children:o.text})]},"toast"+t)})}),t]})}},3823:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return NewNode}});var s=a(7437),o=a(2265),n=a(2806),r=a(7017),l=a(2154),i=a(8649),c=a(1567),d=a(2159),u=a(9226),p=a(116);let m=p.yE.point.point,h=p.yE.point.origin;function NewNode(){let[e,t]=(0,o.useState)({value:["simple"]}),[a,v]=(0,o.useState)({value:"simple"}),[f,w]=(0,o.useState)({value:""}),j=(0,o.useContext)(d.P);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Z,{className:"mb-3",children:(0,s.jsxs)(i.Z,{variant:"flush",children:[(0,s.jsx)(i.Z.Item,{children:(0,s.jsxs)(c.Z,{children:[(0,s.jsx)(r.Z.Select,{value:a.value,onChange:e=>v({value:e.target.value}),children:Object.keys(x).map(e=>(0,s.jsx)("option",{value:e,children:e}))}),(0,s.jsx)(n.Z,{variant:"outline-secondary",onClick:()=>{let s=e.value;s.push(a.value),t({value:s})},children:"Add"}),(0,s.jsx)(n.Z,{variant:"outline-secondary",onClick:async()=>{let t=new p.yE.point.point({group:"template_group",name:"template_name",origin:h.manual});e.value.map(e=>{let a=x[e];a&&t.protocols.push(a)}),w({value:JSON.stringify(m.toObject(t,u.Ts),null,"   ")})},children:"Generate"})]})}),e.value.map((a,o)=>(0,s.jsx)(i.Z.Item,{children:(0,s.jsxs)("div",{className:"d-sm-flex",children:[(0,s.jsx)("div",{className:"endpoint-name flex-grow-1 notranslate",children:a}),(0,s.jsx)(n.Z,{variant:"outline-danger",className:"notranslate",onClick:()=>{let a=e.value;a.splice(o,1),t({value:a})},children:"Delete"})]})},o))]})}),(0,s.jsx)(l.Z,{className:"mb-3",children:(0,s.jsxs)(l.Z.Body,{children:[(0,s.jsx)(r.Z.Control,{as:"textarea",style:{height:"500px",fontFamily:"monospace"},className:"mb-3",value:f.value,onChange:e=>w({value:e.target.value})}),(0,s.jsx)(n.Z,{className:"outline-primary me-2",onClick:async()=>{let{error:e}=await (0,u.Uo)("/node",{method:"PATCH",body:m.encode(m.fromObject(JSON.parse(f.value))).finish()});e?j.Error("Add new node failed ".concat(e.code,"| ").concat(await e.msg,".")):j.Info("Add New Node Successful")},children:"Save"})]})})]})}let v=new p.yE.protocol.tls_config({enable:!1,ca_cert:[new Uint8Array([0,1,2,3,4,5,6,7,8,9,0])],insecure_skip_verify:!1,next_protos:["h2"],server_names:["www.example.com"]}),x={simple:{simple:{host:"",alternate_host:[],port:1080,packet_conn_direct:!1,timeout:0,tls:v}},none:{none:{}},websocket:{websocket:{host:"www.example.com",path:"/msg",tls_enabled:!1}},quic:{quic:{tls:v}},shadowsocks:{shadowsocks:{method:"CHACHA20-IETF-POLY1305",password:"password"}},obfshttp:{obfs_http:{host:"www.example.com",port:"443"}},shadowsocksr:{shadowsocksr:{method:"chacha20-ietf",obfs:"http_post",obfsparam:"#name=v",password:"password",port:"1080",protocol:"auth_aes128_sha1",protoparam:"",server:"127.0.0.1"}},vmess:{vmess:{alter_id:"0",security:"chacha20-poly1305",uuid:"9d5031b6-4ef5-11ee-be56-0242ac120002"}},trojan:{trojan:{password:"password",peer:"peer"}},socks5:{socks5:{hostname:"127.0.0.1:1080",password:"password",user:"username"}},http:{http:{password:"password",user:"username"}},direct:{direct:{}},yuubinsya:{yuubinsya:{encrypted:!0,password:"password"}},wireguard:{wireguard:{endpoint:["10.0.0.2/32"],mtu:1500,num_workers:6,reserved:new Uint8Array([0,0,0]),secret_key:"SHVqHEGI7k2+OQ/oWMmWY2EQObbRQjRBdDPimh0h1WY=",peers:[{allowed_ips:["0.0.0.0/0"],endpoint:"127.0.0.1:51820",public_key:"SHVqHEGI7k2+OQ/oWMmWY2EQObbRQjRBdDPimh0h1WY="}]}}}},1567:function(e,t,a){"use strict";var s=a(4440),o=a.n(s),n=a(2265),r=a(6552),l=a(1980),i=a(2811),c=a(1704),d=a(7437);let u=(0,r.Z)("input-group-text",{Component:"span"}),p=n.forwardRef((e,t)=>{let{bsPrefix:a,size:s,hasValidation:r,className:i,as:u="div",...p}=e;a=(0,l.vE)(a,"input-group");let m=(0,n.useMemo)(()=>({}),[]);return(0,d.jsx)(c.Z.Provider,{value:m,children:(0,d.jsx)(u,{ref:t,...p,className:o()(i,a,s&&"".concat(a,"-").concat(s),r&&"has-validation")})})});p.displayName="InputGroup",t.Z=Object.assign(p,{Text:u,Radio:e=>(0,d.jsx)(u,{children:(0,d.jsx)(i.Z,{type:"radio",...e})}),Checkbox:e=>(0,d.jsx)(u,{children:(0,d.jsx)(i.Z,{type:"checkbox",...e})})})},1704:function(e,t,a){"use strict";var s=a(2265);let o=s.createContext(null);o.displayName="InputGroupContext",t.Z=o},8649:function(e,t,a){"use strict";a.d(t,{Z:function(){return v}});var s=a(4440),o=a.n(s),n=a(2265);a(267);var r=a(4061),l=a(7194),i=a(1980),c=a(5113),d=a(7410),u=a(1066),p=a(7437);let m=n.forwardRef((e,t)=>{let{bsPrefix:a,active:s,disabled:n,eventKey:r,className:l,variant:m,action:h,as:v,...x}=e;a=(0,i.vE)(a,"list-group-item");let[f,w]=(0,d.v)({key:(0,u.h)(r,x.href),active:s,...x}),j=(0,c.Z)(e=>{if(n){e.preventDefault(),e.stopPropagation();return}f.onClick(e)});n&&void 0===x.tabIndex&&(x.tabIndex=-1,x["aria-disabled"]=!0);let b=v||(h?x.href?"a":"button":"div");return(0,p.jsx)(b,{ref:t,...x,...f,onClick:j,className:o()(l,a,w.isActive&&"active",n&&"disabled",m&&"".concat(a,"-").concat(m),h&&"".concat(a,"-action"))})});m.displayName="ListGroupItem";let h=n.forwardRef((e,t)=>{let a;let{className:s,bsPrefix:n,variant:c,horizontal:d,numbered:u,as:m="div",...h}=(0,r.Ch)(e,{activeKey:"onSelect"}),v=(0,i.vE)(n,"list-group");return d&&(a=!0===d?"horizontal":"horizontal-".concat(d)),(0,p.jsx)(l.Z,{ref:t,...h,as:m,className:o()(s,v,c&&"".concat(v,"-").concat(c),a&&"".concat(v,"-").concat(a),u&&"".concat(v,"-numbered"))})});h.displayName="ListGroup";var v=Object.assign(h,{Item:m})}},function(e){e.O(0,[708,507,331,790,258,971,864,744],function(){return e(e.s=4667)}),_N_E=e.O()}]);