(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{9490:(t,e,o)=>{Promise.resolve().then(o.bind(o,9567))},744:(t,e,o)=>{"use strict";o.d(e,{DH:()=>l,G_:()=>p,Ow:()=>i,Oz:()=>r,VN:()=>_,X3:()=>u,_s:()=>m,dp:()=>y,h$:()=>g,kP:()=>n,mv:()=>h,oH:()=>a,r3:()=>c,u1:()=>s});var n="",r="https://clients3.google.com/generate_204",c="dns.nextdns.io:853",a=!0,l="http://ip.sb",s="stun.syncthing.net:3478",u="stun.nextcloud.com:443";let d=()=>{let t=localStorage.getItem("api_url");n=null!==t?t:"",t=localStorage.getItem("remote_bypass"),null!==(t=localStorage.getItem("latency_http_url"))&&(r=t),null!==(t=localStorage.getItem("latency_dns_url"))&&(c=t),null!==(t=localStorage.getItem("latency_ipv6"))&&(a="true"===t),null!==(t=localStorage.getItem("latency_ip_url"))&&(l=t),null!==(t=localStorage.getItem("latency_stun_url"))&&(s=t),null!==(t=localStorage.getItem("latency_stun_tcp_url"))&&(u=t)},i=t=>{v("api_url",t)},y=t=>{v("latency_dns_url",t)},p=t=>{v("latency_http_url",t)},h=t=>{v("latency_ipv6",t.toString())},g=t=>{v("latency_ip_url",t)},m=t=>{v("latency_stun_url",t)},_=t=>{v("latency_stun_tcp_url",t)},v=(t,e)=>{""===e?localStorage.removeItem(t):localStorage.setItem(t,e),d()};d()},8927:(t,e,o)=>{"use strict";o.d(e,{AD:()=>l,EY:()=>u,Fp:()=>i,L1:()=>s,gR:()=>y,kP:()=>d});var n=o(744),r=o(950),c=o(6989),a=o(7558);function l(t,e,o,a){return l=>a?(0,r.o)(t,a):fetch("".concat(n.kP).concat(l),{method:e,body:o}).then(async e=>{if(!e.ok)throw{code:e.status,msg:e.statusText,raw:e.text()};return(0,c.Er)(t,new Uint8Array(await e.arrayBuffer()))})}function s(t,e,o,l){return s=>l?(0,r.o)(t.output,l):fetch("".concat(n.kP).concat(s),{method:e,body:o?(0,a.R)(t.input,o):void 0}).then(async e=>{if(!e.ok)throw{code:e.status,msg:e.statusText,raw:e.text()};return(0,c.Er)(t.output,new Uint8Array(await e.arrayBuffer()))})}function u(t,e,o,r){return a=>fetch("".concat(n.kP).concat(a),{method:o,body:r}).then(async o=>{if(!o.ok)throw{code:o.status,msg:o.statusText,raw:o.text()};return e((0,c.Er)(t,new Uint8Array(await o.arrayBuffer())))})}async function d(t,e,o,n){return i(e,{method:o,body:n?(0,a.R)(t.input,n):void 0,process:async e=>(0,c.Er)(t.output,new Uint8Array(await e.arrayBuffer()))})}let i=async(t,e)=>{let o=await fetch("".concat(n.kP).concat(t),{method:void 0!==e.method?e.method:"POST",body:e.body});return o.ok?void 0===e.process?{}:{data:e.process(o)}:{error:{code:o.status,msg:o.text()}}};function y(t,e,o){return(r,a)=>{let l,{next:s}=a,u=new URL(""!==n.kP?n.kP:window.location.toString());u.pathname=r,u.protocol="https:"===u.protocol?"wss:":"ws:";let d=!1,i=()=>{d||(console.log("connecting to: ".concat(u)),(l=new WebSocket(u)).binaryType="arraybuffer",l.addEventListener("open",e=>{console.log("connect to: ".concat(u,", event type: ").concat(e.type)),null==l||l.send(t)}),l.addEventListener("message",t=>{let n=(0,c.Er)(e,new Uint8Array(t.data));s(null,t=>o(t,n))}),l.addEventListener("error",t=>{let e="websocket have some error";s({msg:e,code:500}),console.log(e,t.type)}),l.addEventListener("close",t=>{console.log("websocket closed, code: "+t.code),s(null,void 0),d||(console.log("reconnect after 1 seconds"),setTimeout(i,1e3))}))};return i(),()=>{d=!0,void 0!==l&&(console.log("close: ".concat(r)),l.close(),l=void 0)}}}},9567:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>g});var n=o(5155),r=o(2981),c=o(9169),a=o(4995),l=o(8927),s=o(5554),u=o.n(s),d=o(9969),i=o(9093),y=o(3577),p=o(2049);let h=function(){var t,e;let{data:o,error:s,isLoading:h}=(0,a.Ay)("/node/now",(0,l.L1)(d.rH.method.now));return void 0!==s?(0,n.jsx)(u(),{statusCode:s.code,title:s.msg}):h||void 0===o?(0,n.jsx)(c.A,{}):(0,n.jsxs)("div",{children:[(0,n.jsxs)(r.A,{className:"mb-3",children:[(0,n.jsx)(r.A.Header,{children:"TCP"}),(0,n.jsx)(r.A.Body,{children:(0,n.jsx)("pre",{children:(0,i.J7)(p.Ac,null!==(t=o.tcp)&&void 0!==t?t:(0,y.v)(p.Ac,{}),{prettySpaces:2})})})]}),(0,n.jsxs)(r.A,{className:"mb-3",children:[(0,n.jsx)(r.A.Header,{children:"UDP"}),(0,n.jsx)(r.A.Body,{children:(0,n.jsx)("pre",{children:(0,i.J7)(p.Ac,null!==(e=o.udp)&&void 0!==e?e:(0,y.v)(p.Ac,{}),{prettySpaces:2})})})]})]})};function g(){return(0,n.jsx)("div",{children:(0,n.jsx)(h,{})})}}},t=>{var e=e=>t(t.s=e);t.O(0,[488,995,708,64,145,441,517,358],()=>e(9490)),_N_E=t.O()}]);