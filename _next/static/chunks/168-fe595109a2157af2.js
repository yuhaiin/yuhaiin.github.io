"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[168],{6347:function(e,t,n){n.d(t,{P:function(){return r},t:function(){return s}});var o=n(7437),i=n(2265),a=n(8215),l=n(9023);let r=(0,i.createContext)({Info:e=>{},Error:e=>{}}),s=e=>{let{children:t}=e,[n,s]=(0,i.useState)({value:{},index:0}),d=(e,t)=>{s(n=>(n.value[n.index]={text:e,type:t},n.index++,{...n}))};return(0,o.jsxs)(r.Provider,{value:{Info:e=>{console.log(e),d(e,"success")},Error:e=>{console.error(e),d(e,"danger")}},children:[(0,o.jsx)(l.Z,{className:"p-3",position:"top-center",containerPosition:"fixed",style:{zIndex:1},children:Object.entries(n.value).map(e=>{let[t,i]=e;return(0,o.jsxs)(a.Z,{role:"alert","aria-live":"assertive",show:!0,bg:i.type,onClose:()=>{let e=n.value;delete e[t],s({...n,value:e}),console.log("close: "+t)},"aria-atomic":"true",delay:4e3,autohide:!0,animation:!0,children:[(0,o.jsxs)(a.Z.Header,{children:[(0,o.jsx)("strong",{className:"me-auto",children:"Notification"}),(0,o.jsx)("small",{className:"text-muted",children:"just now"})]}),(0,o.jsx)(a.Z.Body,{className:"text-center",children:i.text})]},"toast"+t)})}),t]})}},6168:function(e,t,n){var o=n(7437),i=n(2265),a=n(4297),l=n(1701),r=n(733),s=n(6879),d=n(713),c=n(6934),u=n(7337),v=n(1308),h=n(1375),x=n.n(h),f=n(6347),m=n(7684);t.Z=function(e){let t=(0,i.useContext)(f.P);console.log(e.hash);let{data:n,error:h,isLoading:g,mutate:j}=(0,d.ZP)(void 0===e.point&&""!==e.hash&&void 0!==e.hash?"/node":null,(0,c.Dw)(u.xm,"POST",m.Gm.encode({value:e.hash}).finish())),[p,Z]=(0,i.useState)({msg:"",code:0});return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(l.Z,{show:e.show,"aria-labelledby":"contained-modal-title-vcenter",size:"xl",onHide:()=>{e.onHide()},centered:!0,children:[(0,o.jsx)(l.Z.Header,{closeButton:!0,children:(0,o.jsx)(l.Z.Title,{id:"contained-modal-title-vcenter",children:e.hash})}),(0,o.jsx)(l.Z.Body,{children:void 0!==h?(0,o.jsx)(x(),{statusCode:h.code,title:h.msg}):g?(0,o.jsx)(v.Z,{}):(0,o.jsx)(r.Z.Control,{as:"textarea",value:void 0!==n?n:e.point,style:{height:"65vh",fontFamily:"monospace"},readOnly:!e.editable,onChange:t=>{void 0!==e.hash&&j(t.target.value,!1),void 0!==e.point&&void 0!==e.onChangePoint&&e.onChangePoint(t.target.value)}})}),(0,o.jsxs)(l.Z.Footer,{children:[""!==p.msg&&(0,o.jsxs)(s.Z,{bg:"danger",children:[p.code," | ",p.msg]}),(0,o.jsx)(a.Z,{variant:"secondary",onClick:()=>{e.onHide()},children:"Close"}),(0,o.jsx)(()=>void 0!==e.editable&&e.editable?(0,o.jsx)(a.Z,{variant:"primary",active:!g&&void 0===h,onClick:()=>{(0,c.Uo)("/node",{method:"PATCH",body:u.xm.encode(u.xm.fromJSON(JSON.parse(void 0!==n?n:void 0!==e.point?e.point:"{}"))).finish()}).then(async n=>{let{error:o}=n;if(void 0===o)t.Info("save successful"),void 0!==e.onSave&&e.onSave(),e.onHide();else{let e=await o.msg;t.Error(e),Z({msg:e,code:o.code}),setTimeout(()=>{Z({msg:"",code:0})},5e3)}})},children:"Save"}):(0,o.jsx)(o.Fragment,{}),{})]})]})})}},7684:function(e,t,n){n.d(t,{Gm:function(){return r}});var o=n(7508),i=n(4481),a=n.n(i);function l(){return{value:""}}let r={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a().Writer.create();return""!==e.value&&t.uint32(10).string(e.value),t},decode(e,t){let n=e instanceof a().Reader?e:a().Reader.create(e),o=void 0===t?n.len:n.pos+t,i=l();for(;n.pos<o;){let e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;i.value=n.string();continue}if((7&e)==4||0===e)break;n.skipType(7&e)}return i},fromJSON:e=>({value:null!=e.value?String(e.value):""}),toJSON(e){let t={};return""!==e.value&&(t.value=e.value),t},create:e=>r.fromPartial(null!=e?e:{}),fromPartial(e){var t;let n=l();return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:window,a().util.Long!==o.Z&&(a().util.Long=o.Z,a().configure())}}]);