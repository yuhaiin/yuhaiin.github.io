"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6251],{96251:(e,t,s)=>{s.r(t),s.d(t,{TLSServerComponents:()=>d,UnWrapTls:()=>C});var a=s(95155),n=s(47319),l=s(12115),r=s(85387),i=s(65117),c=s(30641),o=s(63196),h=s(91602),x=s(6169);let d=e=>{var t,s;let[d,C]=(0,l.useState)("www.example.com");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.e9,{title:"Next Protos",className:"mb-2",data:null!=(s=null==(t=e.tls)?void 0:t.nextProtos)?s:[],onChange:t=>e.onChange({...e.tls,nextProtos:t})}),e.tls&&e.tls.certificates.map((t,s)=>(0,a.jsx)(r.A,{className:"mb-2",children:(0,a.jsxs)(r.A.Body,{children:[(0,a.jsx)(r.A.Title,{className:"d-flex justify-content-end align-items-center",children:(0,a.jsx)(i.A,{variant:"outline-danger",onClick:()=>e.onChange({...e.tls,certificates:e.tls.certificates.filter((e,t)=>t!==s)}),children:(0,a.jsx)("i",{className:"bi bi-x-lg"})})}),(0,a.jsx)(j,{cert:(0,n.v)(x.f6,t),onChange:t=>{e.onChange({...e.tls,certificates:[...e.tls.certificates.slice(0,s),t,...e.tls.certificates.slice(s+1)]})}})]})},"tls_certificates"+s)),(0,a.jsx)(c.A,{className:"d-flex justify-content-end mb-2",children:(0,a.jsxs)(i.A,{variant:"outline-success",onClick:()=>e.onChange({...e.tls,certificates:[...e.tls.certificates,(0,n.v)(x.f6,{cert:new Uint8Array(0),key:new Uint8Array(0),certFilePath:"",keyFilePath:""})]}),children:[(0,a.jsx)("i",{className:"bi bi-plus-lg"}),"New Certificate"]})}),e.tls&&e.tls.serverNameCertificate&&Object.entries(e.tls.serverNameCertificate).map(t=>{let[s,l]=t;return(0,a.jsx)(r.A,{className:"mb-2",children:(0,a.jsxs)(r.A.Body,{children:[(0,a.jsxs)(r.A.Title,{className:"d-flex justify-content-between align-items-center",children:[s,(0,a.jsx)(i.A,{variant:"outline-danger",onClick:()=>{let t={...e.tls.serverNameCertificate};delete t[s],e.onChange({...e.tls,serverNameCertificate:t})},children:(0,a.jsx)("i",{className:"bi bi-x-lg"})})]}),(0,a.jsx)(j,{cert:(0,n.v)(x.f6,l),onChange:t=>{e.onChange({...e.tls,serverNameCertificate:{...e.tls.serverNameCertificate,[s]:t}})}})]})},"server_name_certificate"+s)}),(0,a.jsxs)(c.A,{className:"d-flex justify-content-end",children:[(0,a.jsx)(o.A.Control,{value:d,onChange:e=>C(e.target.value)}),(0,a.jsxs)(i.A,{variant:"outline-success",onClick:()=>{d&&e.onChange({...e.tls,serverNameCertificate:{...e.tls.serverNameCertificate,[d]:(0,n.v)(x.f6,{})}})},children:[(0,a.jsx)("i",{className:"bi bi-plus-lg"}),"New SNI Certificate"]})]})]})},C=e=>{let{value:t,onChange:s}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(d,{tls:t.tls,onChange:e=>s({...t,tls:e})})})},j=e=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.jU,{label:"Cert",value:new TextDecoder().decode(e.cert.cert),onChange:t=>e.onChange({...e.cert,cert:new TextEncoder().encode(t)})}),(0,a.jsx)(h.jU,{label:"Key",value:new TextDecoder().decode(e.cert.key),onChange:t=>e.onChange({...e.cert,key:new TextEncoder().encode(t)})}),(0,a.jsx)(h.a9,{label:"Cert File",value:e.cert.certFilePath,onChange:t=>e.onChange({...e.cert,certFilePath:t})}),(0,a.jsx)(h.a9,{label:"Key File",value:e.cert.keyFilePath,onChange:t=>e.onChange({...e.cert,keyFilePath:t})})]})}}]);