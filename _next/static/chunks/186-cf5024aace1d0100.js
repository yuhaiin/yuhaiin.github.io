"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[186],{6491:function(e,n,t){var s=t(7437),r=t(477),i=t(2283),a=t.n(i);n.Z=function(e){return(0,s.jsxs)("div",{className:"z-1090 d-flex flex-column justify-content-center align-items-center",style:{height:"100px"},children:[void 0!==e.children&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(a(),{className:"p2",statusCode:void 0!==e.code?e.code:500,title:e.children})}),(0,s.jsx)("div",{className:"p2",children:(0,s.jsx)(r.Z,{})})]})}},6756:function(e,n,t){t.d(n,{P:function(){return o},t:function(){return u}});var s=t(7437),r=t(2265),i=t(4349),a=t(4051);let o=(0,r.createContext)({Info:e=>{},Error:e=>{}}),u=e=>{let{children:n}=e,[t,u]=(0,r.useState)({value:{},index:0}),l=(e,n)=>u(t=>({value:{...t.value,[t.index]:{text:e,type:n}},index:t.index+1}));return(0,s.jsxs)(o.Provider,{value:{Info:e=>{console.log(e),l(e,"success")},Error:e=>{console.error(e),l(e,"danger")}},children:[(0,s.jsx)(i.Z,{className:"p-3",position:"top-center",containerPosition:"fixed",style:{zIndex:1},children:Object.entries(t.value).map(e=>{let[n,r]=e;return(0,s.jsxs)(a.Z,{role:"alert","aria-live":"assertive",show:!0,bg:r.type,onClose:()=>{let e=t.value;delete e[n],u({...t,value:e}),console.log("close: "+n)},"aria-atomic":"true",delay:4e3,autohide:!0,animation:!0,children:[(0,s.jsxs)(a.Z.Header,{children:[(0,s.jsx)("strong",{className:"me-auto",children:"Notification"}),(0,s.jsx)("small",{className:"text-muted",children:"just now"})]}),(0,s.jsx)(a.Z.Body,{className:"text-center",children:r.text})]},"toast"+n)})}),n]})}},5952:function(e,n,t){var s=t(7437),r=t(2265),i=t(6879),a=t(1355),o=t(9317),u=t(5097),l=t(1252),c=t(8224),m=t(6491),d=t(2283),f=t.n(d),h=t(6756),w=t(5299),p=t(3525);n.Z=function(e){let n=(0,r.useContext)(h.P),{data:t,error:d,isLoading:g,mutate:y}=(0,l.ZP)(!e.point&&e.hash?"/node":null,(0,c.kr)(new w.x,"POST",new p.Gm({value:e.hash}).toBinary())),[v,x]=(0,r.useState)({msg:"",code:0});return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(a.Z,{show:e.show,"aria-labelledby":"contained-modal-title-vcenter",size:"xl",onHide:()=>{e.onHide()},centered:!0,children:[(0,s.jsx)(a.Z.Header,{closeButton:!0,children:(0,s.jsx)(a.Z.Title,{id:"contained-modal-title-vcenter",children:e.hash})}),(0,s.jsx)(a.Z.Body,{children:d?(0,s.jsx)(f(),{statusCode:d.code,title:d.msg}):g?(0,s.jsx)(m.Z,{}):(0,s.jsx)(o.Z.Control,{as:"textarea",value:null!=t?t:e.point,style:{height:"65vh",fontFamily:"monospace"},readOnly:!e.editable,onChange:n=>{e.hash&&y(n.target.value,!1),e.point&&e.onChangePoint&&e.onChangePoint(n.target.value)}})}),(0,s.jsxs)(a.Z.Footer,{children:[v.msg&&(0,s.jsxs)(u.Z,{bg:"danger",children:[v.code," | ",v.msg]}),(0,s.jsx)(i.Z,{variant:"secondary",onClick:()=>{e.onHide()},children:"Close"}),(0,s.jsx)(()=>e.editable?(0,s.jsx)(i.Z,{variant:"primary",active:!g&&!d,onClick:()=>{var s;(0,c.Uo)("/node",{method:"PATCH",body:new w.x().fromJson(JSON.parse(null!==(s=null!=t?t:e.point)&&void 0!==s?s:"{}")).toBinary()}).then(async t=>{let{error:s}=t;if(void 0===s)n.Info("save successful"),void 0!==e.onSave&&e.onSave(),e.onHide();else{let e=await s.msg;n.Error(e),x({msg:e,code:s.code}),setTimeout(()=>{x({msg:"",code:0})},5e3)}})},children:"Save"}):(0,s.jsx)(s.Fragment,{}),{})]})]})})}},5051:function(e,n,t){t.d(n,{DL:function(){return m},Gy:function(){return l},O1:function(){return c},W:function(){return u},hr:function(){return f},pe:function(){return d}});var s=t(4272),r=t(7866),i=t(5299),a=t(7465),o=t(7682);class u extends s.v{static fromBinary(e,n){return new u().fromBinary(e,n)}static fromJson(e,n){return new u().fromJson(e,n)}static fromJsonString(e,n){return new u().fromJsonString(e,n)}static equals(e,n){return r.w.util.equals(u,e,n)}constructor(e){super(),r.w.util.initPartial(e,this)}}u.runtime=r.w,u.typeName="yuhaiin.protos.node.service.now_resp",u.fields=r.w.util.newFieldList(()=>[{no:1,name:"tcp",kind:"message",T:i.x},{no:2,name:"udp",kind:"message",T:i.x}]);class l extends s.v{static fromBinary(e,n){return new l().fromBinary(e,n)}static fromJson(e,n){return new l().fromJson(e,n)}static fromJsonString(e,n){return new l().fromJsonString(e,n)}static equals(e,n){return r.w.util.equals(l,e,n)}constructor(e){super(),this.tcp=!1,this.udp=!1,this.hash="",r.w.util.initPartial(e,this)}}l.runtime=r.w,l.typeName="yuhaiin.protos.node.service.use_req",l.fields=r.w.util.newFieldList(()=>[{no:1,name:"tcp",kind:"scalar",T:8},{no:2,name:"udp",kind:"scalar",T:8},{no:3,name:"hash",kind:"scalar",T:9}]);class c extends s.v{static fromBinary(e,n){return new c().fromBinary(e,n)}static fromJson(e,n){return new c().fromJson(e,n)}static fromJsonString(e,n){return new c().fromJsonString(e,n)}static equals(e,n){return r.w.util.equals(c,e,n)}constructor(e){super(),this.links=[],r.w.util.initPartial(e,this)}}c.runtime=r.w,c.typeName="yuhaiin.protos.node.service.save_link_req",c.fields=r.w.util.newFieldList(()=>[{no:1,name:"links",kind:"message",T:a.p,repeated:!0}]);class m extends s.v{static fromBinary(e,n){return new m().fromBinary(e,n)}static fromJson(e,n){return new m().fromJson(e,n)}static fromJsonString(e,n){return new m().fromJsonString(e,n)}static equals(e,n){return r.w.util.equals(m,e,n)}constructor(e){super(),this.names=[],r.w.util.initPartial(e,this)}}m.runtime=r.w,m.typeName="yuhaiin.protos.node.service.link_req",m.fields=r.w.util.newFieldList(()=>[{no:1,name:"names",kind:"scalar",T:9,repeated:!0}]);class d extends s.v{static fromBinary(e,n){return new d().fromBinary(e,n)}static fromJson(e,n){return new d().fromJson(e,n)}static fromJsonString(e,n){return new d().fromJsonString(e,n)}static equals(e,n){return r.w.util.equals(d,e,n)}constructor(e){super(),this.links={},r.w.util.initPartial(e,this)}}d.runtime=r.w,d.typeName="yuhaiin.protos.node.service.get_links_resp",d.fields=r.w.util.newFieldList(()=>[{no:1,name:"links",kind:"map",K:9,V:{kind:"message",T:a.p}}]);class f extends s.v{static fromBinary(e,n){return new f().fromBinary(e,n)}static fromJson(e,n){return new f().fromJson(e,n)}static fromJsonString(e,n){return new f().fromJsonString(e,n)}static equals(e,n){return r.w.util.equals(f,e,n)}constructor(e){super(),this.tag="",this.type=o.f.node,this.hash="",r.w.util.initPartial(e,this)}}f.runtime=r.w,f.typeName="yuhaiin.protos.node.service.save_tag_req",f.fields=r.w.util.newFieldList(()=>[{no:1,name:"tag",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:r.w.getEnumType(o.f)},{no:2,name:"hash",kind:"scalar",T:9}])},4344:function(e,n,t){t.d(n,{BP:function(){return c}});var s=t(4272),r=t(7866),i=t(5299),a=t(7465),o=t(7682);class u extends s.v{static fromBinary(e,n){return new u().fromBinary(e,n)}static fromJson(e,n){return new u().fromJson(e,n)}static fromJsonString(e,n){return new u().fromJsonString(e,n)}static equals(e,n){return r.w.util.equals(u,e,n)}constructor(e){super(),this.links={},r.w.util.initPartial(e,this)}}u.runtime=r.w,u.typeName="yuhaiin.node.node",u.fields=r.w.util.newFieldList(()=>[{no:4,name:"tcp",kind:"message",T:i.x},{no:5,name:"udp",kind:"message",T:i.x},{no:2,name:"links",kind:"map",K:9,V:{kind:"message",T:a.p}},{no:3,name:"manager",kind:"message",T:c}]);class l extends s.v{static fromBinary(e,n){return new l().fromBinary(e,n)}static fromJson(e,n){return new l().fromJson(e,n)}static fromJsonString(e,n){return new l().fromJsonString(e,n)}static equals(e,n){return r.w.util.equals(l,e,n)}constructor(e){super(),this.nodesV2={},r.w.util.initPartial(e,this)}}l.runtime=r.w,l.typeName="yuhaiin.node.nodes",l.fields=r.w.util.newFieldList(()=>[{no:3,name:"nodesV2",jsonName:"node_hash_map",kind:"map",K:9,V:{kind:"scalar",T:9}}]);class c extends s.v{static fromBinary(e,n){return new c().fromBinary(e,n)}static fromJson(e,n){return new c().fromJson(e,n)}static fromJsonString(e,n){return new c().fromJsonString(e,n)}static equals(e,n){return r.w.util.equals(c,e,n)}constructor(e){super(),this.groupsV2={},this.nodes={},this.tags={},r.w.util.initPartial(e,this)}}c.runtime=r.w,c.typeName="yuhaiin.node.manager",c.fields=r.w.util.newFieldList(()=>[{no:2,name:"groupsV2",jsonName:"group_nodes_map",kind:"map",K:9,V:{kind:"message",T:l}},{no:3,name:"nodes",kind:"map",K:9,V:{kind:"message",T:i.x}},{no:4,name:"tags",kind:"map",K:9,V:{kind:"message",T:o.p}}])},7465:function(e,n,t){t.d(n,{d:function(){return r},p:function(){return o}});var s,r,i=t(7866),a=t(4272);(s=r||(r={}))[s.reserve=0]="reserve",s[s.trojan=1]="trojan",s[s.vmess=2]="vmess",s[s.shadowsocks=3]="shadowsocks",s[s.shadowsocksr=4]="shadowsocksr",i.w.util.setEnumType(r,"yuhaiin.subscribe.type",[{no:0,name:"reserve"},{no:1,name:"trojan"},{no:2,name:"vmess"},{no:3,name:"shadowsocks"},{no:4,name:"shadowsocksr"}]);class o extends a.v{static fromBinary(e,n){return new o().fromBinary(e,n)}static fromJson(e,n){return new o().fromJson(e,n)}static fromJsonString(e,n){return new o().fromJsonString(e,n)}static equals(e,n){return i.w.util.equals(o,e,n)}constructor(e){super(),this.name="",this.type=0,this.url="",i.w.util.initPartial(e,this)}}o.runtime=i.w,o.typeName="yuhaiin.subscribe.link",o.fields=i.w.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:i.w.getEnumType(r)},{no:3,name:"url",kind:"scalar",T:9}])},7682:function(e,n,t){t.d(n,{f:function(){return r},p:function(){return o}});var s,r,i=t(7866),a=t(4272);(s=r||(r={}))[s.node=0]="node",s[s.mirror=1]="mirror",i.w.util.setEnumType(r,"yuhaiin.tag.tag_type",[{no:0,name:"node"},{no:1,name:"mirror"}]);class o extends a.v{static fromBinary(e,n){return new o().fromBinary(e,n)}static fromJson(e,n){return new o().fromJson(e,n)}static fromJsonString(e,n){return new o().fromJsonString(e,n)}static equals(e,n){return i.w.util.equals(o,e,n)}constructor(e){super(),this.tag="",this.type=0,this.hash=[],i.w.util.initPartial(e,this)}}o.runtime=i.w,o.typeName="yuhaiin.tag.tags",o.fields=i.w.util.newFieldList(()=>[{no:1,name:"tag",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:i.w.getEnumType(r)},{no:2,name:"hash",kind:"scalar",T:9,repeated:!0}])}}]);