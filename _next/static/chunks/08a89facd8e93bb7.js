(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55398,e=>{e.v({accordion:"group-module__EjcyqW__accordion",accordionBody:"group-module__EjcyqW__accordionBody",accordionHeader:"group-module__EjcyqW__accordionHeader",accordionIcon:"group-module__EjcyqW__accordionIcon",actionFooter:"group-module__EjcyqW__actionFooter",btn:"group-module__EjcyqW__btn",buttonGroup:"group-module__EjcyqW__buttonGroup",collapsed:"group-module__EjcyqW__collapsed","dropdown-toggle":"group-module__EjcyqW__dropdown-toggle",dropdownItem:"group-module__EjcyqW__dropdownItem",dropdownMenu:"group-module__EjcyqW__dropdownMenu",headerActions:"group-module__EjcyqW__headerActions",infoCard:"group-module__EjcyqW__infoCard",infoGrid:"group-module__EjcyqW__infoGrid",infoLabel:"group-module__EjcyqW__infoLabel",infoValue:"group-module__EjcyqW__infoValue","latency-avg":"group-module__EjcyqW__latency-avg","latency-bad":"group-module__EjcyqW__latency-bad","latency-good":"group-module__EjcyqW__latency-good","latency-invalid":"group-module__EjcyqW__latency-invalid",pageHeader:"group-module__EjcyqW__pageHeader",pageTitle:"group-module__EjcyqW__pageTitle"})},7713,e=>{"use strict";var t,a,n,r=e.i(43476),o=e.i(932),s=e.i(91287),l=e.i(74217),i=e.i(14511),c=e.i(57897),d=e.i(82280),u=e.i(6322),p=e.i(65209),m=e.i(77755),f=e.i(95560),g=e.i(71811),h=e.i(24407),y=e.i(14156);e.i(61847);let v=(0,h.fileDesc)("Chxnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvEg9nb29nbGUucHJvdG9idWYihAEKBlN0cnVjdBIzCgZmaWVsZHMYASADKAsyIy5nb29nbGUucHJvdG9idWYuU3RydWN0LkZpZWxkc0VudHJ5GkUKC0ZpZWxkc0VudHJ5EgsKA2tleRgBIAEoCRIlCgV2YWx1ZRgCIAEoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZToCOAEi6gEKBVZhbHVlEjAKCm51bGxfdmFsdWUYASABKA4yGi5nb29nbGUucHJvdG9idWYuTnVsbFZhbHVlSAASFgoMbnVtYmVyX3ZhbHVlGAIgASgBSAASFgoMc3RyaW5nX3ZhbHVlGAMgASgJSAASFAoKYm9vbF92YWx1ZRgEIAEoCEgAEi8KDHN0cnVjdF92YWx1ZRgFIAEoCzIXLmdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RIABIwCgpsaXN0X3ZhbHVlGAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZUgAQgYKBGtpbmQiMwoJTGlzdFZhbHVlEiYKBnZhbHVlcxgBIAMoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZSobCglOdWxsVmFsdWUSDgoKTlVMTF9WQUxVRRAAQn8KE2NvbS5nb29nbGUucHJvdG9idWZCC1N0cnVjdFByb3RvUAFaL2dvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3N0cnVjdHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),N=(0,y.messageDesc)(v,0),b=(0,y.messageDesc)(v,1),x=(0,y.messageDesc)(v,2);(t=n||(n={}))[t.NULL_VALUE=0]="NULL_VALUE";var _=e.i(47767);let j={ignoreUnknownFields:!1},S=new WeakMap;function w(e,t,a){var n;if(function(e,t,a){if(!e.desc.typeName.startsWith("google.protobuf."))return!1;switch(e.desc.typeName){case"google.protobuf.Any":return function(e,t,a){var n;if(null===t||Array.isArray(t)||"object"!=typeof t)throw Error(`cannot decode message ${e.$typeName} from JSON: expected object but got ${(0,u.formatVal)(t)}`);if(0==Object.keys(t).length)return;let r=t["@type"];if("string"!=typeof r||""==r)throw Error(`cannot decode message ${e.$typeName} from JSON: "@type" is empty`);let o=r.includes("/")?r.substring(r.lastIndexOf("/")+1):r;if(!o.length)throw Error(`cannot decode message ${e.$typeName} from JSON: "@type" is invalid`);let s=null==(n=a.registry)?void 0:n.getMessage(o);if(!s)throw Error(`cannot decode message ${e.$typeName} from JSON: ${r} is not in the type registry`);let l=(0,c.reflect)(s);if(o.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(t,"value"))w(l,t.value,a);else{let e=Object.assign({},t);delete e["@type"],w(l,e,a)}(0,g.anyPack)(l.desc,l.message,e)}(e.message,t,a),!0;case"google.protobuf.Timestamp":return function(e,t){if("string"!=typeof t)throw Error(`cannot decode message ${e.$typeName} from JSON: ${(0,u.formatVal)(t)}`);let a=t.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\.([0-9]{1,9}))?(?:Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!a)throw Error(`cannot decode message ${e.$typeName} from JSON: invalid RFC 3339 string`);let n=Date.parse(a[1]+"-"+a[2]+"-"+a[3]+"T"+a[4]+":"+a[5]+":"+a[6]+(a[8]?a[8]:"Z"));if(Number.isNaN(n))throw Error(`cannot decode message ${e.$typeName} from JSON: invalid RFC 3339 string`);if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw Error(`cannot decode message ${e.$typeName} from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);e.seconds=i.protoInt64.parse(n/1e3),e.nanos=0,a[7]&&(e.nanos=parseInt("1"+a[7]+"0".repeat(9-a[7].length))-1e9)}(e.message,t),!0;case"google.protobuf.Duration":return function(e,t){if("string"!=typeof t)throw Error(`cannot decode message ${e.$typeName} from JSON: ${(0,u.formatVal)(t)}`);let a=t.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(null===a)throw Error(`cannot decode message ${e.$typeName} from JSON: ${(0,u.formatVal)(t)}`);let n=Number(a[1]);if(n>315576e6||n<-315576e6)throw Error(`cannot decode message ${e.$typeName} from JSON: ${(0,u.formatVal)(t)}`);e.seconds=i.protoInt64.parse(n),"string"!=typeof a[2]||(e.nanos=parseInt(a[2]+"0".repeat(9-a[2].length)),(n<0||Object.is(n,-0))&&(e.nanos=-e.nanos))}(e.message,t),!0;case"google.protobuf.FieldMask":return function(e,t){if("string"!=typeof t)throw Error(`cannot decode message ${e.$typeName} from JSON: ${(0,u.formatVal)(t)}`);""!==t&&(e.paths=t.split(",").map(t=>{if(t.includes("_"))throw Error(`cannot decode message ${e.$typeName} from JSON: path names must be lowerCamelCase`);return(0,p.protoSnakeCase)(t)}))}(e.message,t),!0;case"google.protobuf.Struct":return D(e.message,t),!0;case"google.protobuf.Value":return L(e.message,t),!0;case"google.protobuf.ListValue":return V(e.message,t),!0;default:if((0,f.isWrapperDesc)(e.desc)){let a=e.desc.fields[0];return null===t?e.clear(a):e.set(a,I(a,t)),!0}return!1}}(e,t,a))return;if(null==t||Array.isArray(t)||"object"!=typeof t)throw Error(`cannot decode ${e.desc} from JSON: ${(0,u.formatVal)(t)}`);let r=new Map;for(let[o,s]of Object.entries(t)){let t=function(e,t){var a;if(!S.has(e)){let t=new Map;for(let a of e.fields)t.set(a.name,a).set(a.jsonName,a);S.set(e,t)}return null==(a=S.get(e))?void 0:a.get(t)}(e.desc,o);if(t){if(t.oneof){if(null===s&&"scalar"==t.fieldKind)continue;let e=r.get(t.oneof);if(void 0!==e)throw new d.FieldError(t.oneof,`oneof set multiple times by ${e.name} and ${t.name}`);r.set(t.oneof,t)}A(e,t,s,a)}else{let t;if(o.startsWith("[")&&o.endsWith("]")&&(t=null==(n=a.registry)?void 0:n.getExtension(o.substring(1,o.length-1)))&&t.extendee.typeName===e.desc.typeName){let[n,r,o]=(0,_.createExtensionContainer)(t);A(n,r,s,a),(0,_.setExtension)(e.message,t,o())}if(!t&&!a.ignoreUnknownFields)throw Error(`cannot decode ${e.desc} from JSON: key "${o}" is unknown`)}}}function A(e,t,a,n){switch(t.fieldKind){case"scalar":var r,o,s;r=e,o=t,null===(s=a)?r.clear(o):r.set(o,I(o,s));break;case"enum":!function(e,t,a,n){if(T(t,a))return e.clear(t);let r=C(t.enum,a,n.ignoreUnknownFields);r!==$&&e.set(t,r)}(e,t,a,n);break;case"message":!function(e,t,a,n){if(T(t,a))return e.clear(t);let r=e.isSet(t)?e.get(t):(0,c.reflect)(t.message);w(r,a,n),e.set(t,r)}(e,t,a,n);break;case"list":!function(e,t,a){if(null===t)return;let n=e.field();if(!Array.isArray(t))throw new d.FieldError(n,"expected Array, got "+(0,u.formatVal)(t));for(let r of t){let t=E(n,r,a);t!==$&&e.add(t)}}(e.get(t),a,n);break;case"map":!function(e,t,a){if(null===t)return;let n=e.field();if("object"!=typeof t||Array.isArray(t))throw new d.FieldError(n,"expected object, got "+(0,u.formatVal)(t));for(let[r,o]of Object.entries(t)){let t=function(e,t){switch(e){case l.ScalarType.BOOL:switch(t){case"true":return!0;case"false":return!1}return t;case l.ScalarType.INT32:case l.ScalarType.FIXED32:case l.ScalarType.UINT32:case l.ScalarType.SFIXED32:case l.ScalarType.SINT32:return W(t);default:return t}}(n.mapKey,r),s=E(n,o,a);s!==$&&e.set(t,s)}}(e.get(t),a,n)}}function E(e,t,a){if(e.scalar&&null!==t)return I(e,t);if(e.message&&!T(e,t)){let n=(0,c.reflect)(e.message);return w(n,t,a),n}if(e.enum&&!T(e,t))return C(e.enum,t,a.ignoreUnknownFields);throw new d.FieldError(e,`${"list"===e.fieldKind?"list item":"map value"} must not be null`)}function T(e,t){var a,n;return null===t&&(null==(a=e.message)?void 0:a.typeName)!="google.protobuf.Value"&&(null==(n=e.enum)?void 0:n.typeName)!="google.protobuf.NullValue"}let $=Symbol();function C(e,t,a){if(null===t)return e.values[0].number;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":let n=e.values.find(e=>e.name===t);if(void 0!==n)return n.number;if(a)return $}throw Error(`cannot decode ${e} from JSON: ${(0,u.formatVal)(t)}`)}function I(e,t){switch(e.scalar){case l.ScalarType.DOUBLE:case l.ScalarType.FLOAT:if("NaN"===t)return NaN;if("Infinity"===t)return 1/0;if("-Infinity"===t)return-1/0;if("number"==typeof t){if(Number.isNaN(t))throw new d.FieldError(e,"unexpected NaN number");if(!Number.isFinite(t))throw new d.FieldError(e,"unexpected infinite number");break}if("string"==typeof t){if(""===t||t.trim().length!==t.length)break;let e=Number(t);if(!Number.isFinite(e))break;return e}break;case l.ScalarType.INT32:case l.ScalarType.FIXED32:case l.ScalarType.SFIXED32:case l.ScalarType.SINT32:case l.ScalarType.UINT32:return W(t);case l.ScalarType.BYTES:if("string"==typeof t){if(""===t)return new Uint8Array(0);try{return(0,m.base64Decode)(t)}catch(a){let t=a instanceof Error?a.message:String(a);throw new d.FieldError(e,t)}}}return t}function W(e){if("string"==typeof e){if(""===e||e.trim().length!==e.length)return e;let t=Number(e);return Number.isNaN(t)?e:t}return e}function D(e,t){if("object"!=typeof t||null==t||Array.isArray(t))throw Error(`cannot decode message ${e.$typeName} from JSON ${(0,u.formatVal)(t)}`);for(let[a,n]of Object.entries(t)){let t=(0,s.create)(b);L(t,n),e.fields[a]=t}}function L(e,t){switch(typeof t){case"number":e.kind={case:"numberValue",value:t};break;case"string":e.kind={case:"stringValue",value:t};break;case"boolean":e.kind={case:"boolValue",value:t};break;case"object":if(null===t)e.kind={case:"nullValue",value:n.NULL_VALUE};else if(Array.isArray(t)){let a=(0,s.create)(x);V(a,t),e.kind={case:"listValue",value:a}}else{let a=(0,s.create)(N);D(a,t),e.kind={case:"structValue",value:a}}break;default:throw Error(`cannot decode message ${e.$typeName} from JSON ${(0,u.formatVal)(t)}`)}return e}function V(e,t){if(!Array.isArray(t))throw Error(`cannot decode message ${e.$typeName} from JSON ${(0,u.formatVal)(t)}`);for(let a of t){let t=(0,s.create)(b);L(t,a),e.values.push(t)}}var F=e.i(95901),U=e.i(78438),k=e.i(71645),O=e.i(7670),P=e.i(82182),B=e.i(36333),R=e.i(63177);function K(e,t){return Array.isArray(e)?e.includes(t):e===t}let J=k.createContext({});J.displayName="AccordionContext";let Z=k.forwardRef(({as:e="div",bsPrefix:t,className:a,children:n,eventKey:o,...s},l)=>{let{activeEventKey:i}=(0,k.useContext)(J);return t=(0,B.useBootstrapPrefix)(t,"accordion-collapse"),(0,r.jsx)(R.default,{ref:l,in:K(i,o),...s,className:(0,O.default)(a,t),children:(0,r.jsx)(e,{children:k.Children.only(n)})})});Z.displayName="AccordionCollapse";let q=k.createContext({eventKey:""});q.displayName="AccordionItemContext";let H=k.forwardRef(({as:e="div",bsPrefix:t,className:a,onEnter:n,onEntering:o,onEntered:s,onExit:l,onExiting:i,onExited:c,...d},u)=>{t=(0,B.useBootstrapPrefix)(t,"accordion-body");let{eventKey:p}=(0,k.useContext)(q);return(0,r.jsx)(Z,{eventKey:p,onEnter:n,onEntering:o,onEntered:s,onExit:l,onExiting:i,onExited:c,children:(0,r.jsx)(e,{ref:u,...d,className:(0,O.default)(a,t)})})});H.displayName="AccordionBody";let G=k.forwardRef(({as:e="button",bsPrefix:t,className:a,onClick:n,...o},s)=>{t=(0,B.useBootstrapPrefix)(t,"accordion-button");let{eventKey:l}=(0,k.useContext)(q),i=function(e,t){let{activeEventKey:a,onSelect:n,alwaysOpen:r}=(0,k.useContext)(J);return o=>{let s=e===a?null:e;r&&(s=Array.isArray(a)?a.includes(e)?a.filter(t=>t!==e):[...a,e]:[e]),null==n||n(s,o),null==t||t(o)}}(l,n),{activeEventKey:c}=(0,k.useContext)(J);return"button"===e&&(o.type="button"),(0,r.jsx)(e,{ref:s,onClick:i,...o,"aria-expanded":Array.isArray(c)?c.includes(l):l===c,className:(0,O.default)(a,t,!K(c,l)&&"collapsed")})});G.displayName="AccordionButton";let M=k.forwardRef(({as:e="h2","aria-controls":t,bsPrefix:a,className:n,children:o,disabled:s,onClick:l,...i},c)=>(a=(0,B.useBootstrapPrefix)(a,"accordion-header"),(0,r.jsx)(e,{ref:c,...i,className:(0,O.default)(n,a),children:(0,r.jsx)(G,{onClick:l,"aria-controls":t,disabled:s,children:o})})));M.displayName="AccordionHeader";let Y=k.forwardRef(({as:e="div",bsPrefix:t,className:a,eventKey:n,...o},s)=>{t=(0,B.useBootstrapPrefix)(t,"accordion-item");let l=(0,k.useMemo)(()=>({eventKey:n}),[n]);return(0,r.jsx)(q.Provider,{value:l,children:(0,r.jsx)(e,{ref:s,...o,className:(0,O.default)(a,t)})})});Y.displayName="AccordionItem";let z=k.forwardRef((e,t)=>{let{as:a="div",activeKey:n,bsPrefix:o,className:s,onSelect:l,flush:i,alwaysOpen:c,...d}=(0,P.useUncontrolled)(e,{activeKey:"onSelect"}),u=(0,B.useBootstrapPrefix)(o,"accordion"),p=(0,k.useMemo)(()=>({activeEventKey:n,onSelect:l,alwaysOpen:c}),[n,l,c]);return(0,r.jsx)(J.Provider,{value:p,children:(0,r.jsx)(a,{ref:t,...d,className:(0,O.default)(s,u,i&&`${u}-flush`)})})});z.displayName="Accordion";let X=Object.assign(z,{Button:G,Collapse:Z,Item:Y,Header:M,Body:H});var Q=e.i(18818),ee=e.i(45535),et=e.i(7495),ea=e.i(48323),en=e.i(10446),er=e.i(78817),eo=e.i(5260),es=e.i(59852),el=e.i(39839),ei=e.i(66702),ec=e.i(70436),ed=e.i(69632),eu=e.i(2495),ep=e.i(39848),em=e.i(77352),ef=e.i(41703),eg=e.i(37039),eh=e.i(24736),ey=e.i(55398);function ev(e){if(0===e.nanos&&0===Number(e.seconds))return"timeout";let t=1e9*Number(e.seconds)+ +e.nanos;return t>=36e11?`${t/36e11} h`:t>=6e10?`${t/6e10} m`:t>=1e9?`${t/1e9} s`:t>=1e6?`${t/1e6} ms`:t>=1e3?`${t/1e3} us`:`${t/1} ns`}var eN=((a=eN||{}).TCP="tcp",a.UDP="udp",a.IP="ip",a.STUN="stun",a.STUNTCP="stun-tcp",a);let eb=e=>{switch(e){case eg.nat_type.NAT_UNKNOWN:return"unknown";case eg.nat_type.NAT_NO_RESULT:return"noresult";case eg.nat_type.NAT_AddressAndPortDependent:return"address-and-port-dependent";case eg.nat_type.NAT_AddressDependent:return"address-dependent";case eg.nat_type.NAT_EndpointIndependent:return"endpoint-independent";case eg.nat_type.NAT_EndpointIndependentNoNAT:return"endpoint-independent-no-nat";case eg.nat_type.NAT_ServerNotSupportChangePort:return"server-not-support";default:return"unknown"}};class ex{point;hash;show;onDelete;isNew;constructor(e){this.point=e?.point,this.hash=e?.hash??"",this.show=e?.show??!1,this.onDelete=e?.onDelete}}function e_(e,t){return(0,r.jsx)(ea.Dropdown.Item,{className:ey.default.dropdownItem,eventKey:t,children:e.name},t)}function ej(e){return e.name}let eS=e=>{switch(e.case){case"http":return(0,s.create)(eg.request_protocolSchema,{protocol:{case:"http",value:(0,s.create)(eg.http_testSchema,{url:e.url})}});case"dnsOverQuic":return(0,s.create)(eg.request_protocolSchema,{protocol:{case:"dnsOverQuic",value:(0,s.create)(eg.dns_over_quicSchema,{host:e.host,targetDomain:e.targetDomain})}});case"ip":return(0,s.create)(eg.request_protocolSchema,{protocol:{case:"ip",value:(0,s.create)(eg.ipSchema,{url:e.url,userAgent:e.userAgent})}});case"stun":return(0,s.create)(eg.request_protocolSchema,{protocol:{case:"stun",value:(0,s.create)(eg.stunSchema,{host:e.host,tcp:e.tcp})}})}},ew=e=>{let t=(e=>{if(!e||"N/A"===e||e.includes("error")||e.includes("timeout"))return -1;let t=e.trim(),a=parseFloat(t);return isNaN(a)?-1:t.endsWith("ns")?a/1e6:t.endsWith("µs")||t.endsWith("us")?a/1e3:t.endsWith("ms")?a:t.endsWith("s")&&!t.endsWith("ms")?1e3*a:t.endsWith("m")?60*a*1e3:a})(e);return t<0?ey.default["latency-invalid"]:t<200?ey.default["latency-good"]:t<999?ey.default["latency-avg"]:ey.default["latency-bad"]},eA=e=>{let t,a,n,s,l=(0,o.c)(11),{label:i,value:c,loading:d,colorClass:u}=e;l[0]!==i?(t=(0,r.jsx)("span",{className:ey.default.infoLabel,children:i}),l[0]=i,l[1]=t):t=l[1];let p=`${ey.default.infoValue} ${u||""} text-break`;return l[2]!==d||l[3]!==c?(a=d?(0,r.jsx)(es.Spinner,{animation:"border",size:"sm",variant:"secondary"}):c||"N/A",l[2]=d,l[3]=c,l[4]=a):a=l[4],l[5]!==p||l[6]!==a?(n=(0,r.jsx)("div",{className:p,children:a}),l[5]=p,l[6]=a,l[7]=n):n=l[7],l[8]!==t||l[9]!==n?(s=(0,r.jsxs)("div",{className:ey.default.infoCard,children:[t,n]}),l[8]=t,l[9]=n,l[10]=s):s=l[10],s},eE=e=>{let t,a,n,l,i,c,d,u,p,m,f,g,h,y,v,N,b,x,_,j,S,w,A,E,T,$,C,I,W,D,L,V,F,U,O,P,B,R,K,J,Z,q,H,G,M,Y,z=(0,o.c)(105),{hash:er,name:eo,onClickEdit:ei,ipv6:ed,urls:eu}=e,em=(0,k.useContext)(ec.GlobalToastContext);z[0]===Symbol.for("react.memo_cache_sentinel")?(t={tcp:{loading:!1,value:"N/A"},udp:{loading:!1,value:"N/A"}},z[0]=t):t=z[0];let[eh,eN]=(0,el.useLocalStorage)(`latency-${er}`,t);z[1]!==er||z[2]!==ed||z[3]!==eh||z[4]!==eN||z[5]!==eu?(a=e=>{let{request:t,setLoading:a,setResult:n}=((e,t,a,n)=>{switch(e){case"tcp":return{request:eS({case:"http",url:n.tcp}),setLoading:(e,t)=>{a(t=>({...t,tcp:{...t.tcp,loading:e}})),t&&a(e=>({...e,tcp:{loading:!1,value:t}}))},setResult:e=>{if("latency"===e.reply.case){let t=ev(e.reply.value);a(e=>({...e,tcp:{value:t,loading:!1}}))}}};case"udp":return{request:eS({case:"dnsOverQuic",host:n.udp,targetDomain:"www.google.com"}),setLoading:(e,t)=>{a(t=>({...t,udp:{...t.udp,loading:e}})),t&&a(e=>({...e,udp:{loading:!1,value:t}}))},setResult:e=>{if("latency"===e.reply.case){let t=ev(e.reply.value);a(e=>({...e,udp:{value:t,loading:!1}}))}}};case"ip":return{request:eS({case:"ip",url:n.ip}),setLoading:(e,n)=>{a(a=>({...a,ip:{loading:e,ipv4:t.ip?t.ip.ipv4:"N/A",ipv6:t.ip?t.ip.ipv6:"N/A"}})),n&&a(e=>({...e,ip:{loading:!1,ipv4:n,ipv6:n}}))},setResult:e=>{if("ip"===e.reply.case){let t=e.reply.value.ipv4,n=e.reply.value.ipv6;a(e=>({...e,ip:{ipv4:t,ipv6:n,loading:!1}}))}}};case"stun-tcp":return{request:eS({case:"stun",host:n.stunTCP,tcp:!0}),setLoading:(e,n)=>{a(a=>({...a,stun_tcp:{loading:e,ip:t.stun_tcp?t.stun_tcp.ip:"N/A"}})),n&&a(e=>({...e,stun_tcp:{loading:!1,ip:n}}))},setResult:e=>{if("stun"===e.reply.case){let t=e.reply.value.mappedAddress;a(e=>({...e,stun_tcp:{ip:t,loading:!1}}))}}};case"stun":return{request:eS({case:"stun",host:n.stun,tcp:!1}),setLoading:(e,n)=>{a(a=>({...a,stun:{loading:e,mappedAddress:t.stun?t.stun.mappedAddress:"N/A",mapping:t.stun?t.stun.mapping:"N/A",filtering:t.stun?t.stun.filtering:"N/A"}})),n&&a(e=>({...e,stun:{loading:!1,mappedAddress:n,mapping:n,filtering:n}}))},setResult:e=>{if("stun"===e.reply.case){let t=eb(e.reply.value.Mapping),n=eb(e.reply.value.Filtering),r=e.reply.value.mappedAddress;a(e=>({...e,stun:{loading:!1,mapping:t,filtering:n,mappedAddress:r}}))}}}}})(e,eh,eN,eu);a(!0),(0,ep.FetchProtobuf)(ef.node.method.latency,(0,s.create)(eg.requestsSchema,{requests:[{hash:er,id:"latency",ipv6:ed,method:t}]})).then(async e=>{let{data:t,error:r}=e;if(r){console.log(`test failed ${r.code}| ${r.msg}`),a(!1,`${r.code}| ${r.msg}`);return}if(t&&t.idLatencyMap.latency){let e=t.idLatencyMap.latency;if("error"===e.reply.case){console.log(`test failed ${e.reply.value.msg}`),a(!1,e.reply.value.msg);return}a(!1),n(e)}else a(!1,"timeout")})},z[1]=er,z[2]=ed,z[3]=eh,z[4]=eN,z[5]=eu,z[6]=a):a=z[6];let ex=a;if(z[7]!==eh)n=eh.tcp.loading||eh.udp.loading||eh.ip?.loading||eh.stun?.loading||eh.stun_tcp?.loading||!1,z[7]=eh,z[8]=n;else n=z[8];let e_=n,ej=`bi bi-hdd-network fs-5 flex-shrink-0 ${ew(eh.tcp.value)===ey.default["latency-good"]?"text-success":"N/A"!==eh.tcp.value&&!eh.tcp.value.includes("timeout")?"text-primary":"text-muted"}`;z[9]!==ej?(l=(0,r.jsx)("i",{className:ej}),z[9]=ej,z[10]=l):l=z[10],z[11]!==eo?(i=(0,r.jsx)("span",{className:"fw-bold text-truncate",children:eo}),z[11]=eo,z[12]=i):i=z[12],z[13]===Symbol.for("react.memo_cache_sentinel")?(c={fontSize:"0.75rem"},z[13]=c):c=z[13],z[14]!==er?(d=er.substring(0,8),z[14]=er,z[15]=d):d=z[15],z[16]!==d?(u=(0,r.jsx)("span",{className:"text-muted font-monospace opacity-75",children:d}),z[16]=d,z[17]=u):u=z[17],z[18]!==ed?(p=ed&&(0,r.jsx)(Q.Badge,{bg:"info",className:"text-dark py-0 px-1",style:{fontSize:"0.65rem"},children:"IPv6"}),z[18]=ed,z[19]=p):p=z[19],z[20]!==p||z[21]!==u?(m=(0,r.jsxs)("div",{className:"d-flex gap-2 align-items-center",style:c,children:[u,p]}),z[20]=p,z[21]=u,z[22]=m):m=z[22],z[23]!==m||z[24]!==i?(f=(0,r.jsxs)("div",{className:"d-flex flex-column text-truncate",children:[i,m]}),z[23]=m,z[24]=i,z[25]=f):f=z[25],z[26]!==f||z[27]!==l?(g=(0,r.jsxs)("div",{className:"d-flex align-items-center gap-3 w-100 mb-2 mb-sm-0",children:[l,f]}),z[26]=f,z[27]=l,z[28]=g):g=z[28],z[29]===Symbol.for("react.memo_cache_sentinel")?(h=(0,r.jsx)("span",{className:"text-uppercase text-muted",style:{fontSize:"0.65rem",fontWeight:700},children:"TCP"}),z[29]=h):h=z[29],z[30]!==eh.tcp.value?(y=ew(eh.tcp.value),z[30]=eh.tcp.value,z[31]=y):y=z[31];let eE=`font-monospace fw-bold ${y}`;z[32]!==eh.tcp.value||z[33]!==eE?(v=(0,r.jsxs)("div",{className:"d-flex gap-2 align-items-center",children:[h,(0,r.jsx)("span",{className:eE,children:eh.tcp.value})]}),z[32]=eh.tcp.value,z[33]=eE,z[34]=v):v=z[34],z[35]===Symbol.for("react.memo_cache_sentinel")?(N=(0,r.jsx)("span",{className:"text-uppercase text-muted",style:{fontSize:"0.65rem",fontWeight:700},children:"UDP"}),z[35]=N):N=z[35],z[36]!==eh.udp.value?(b=ew(eh.udp.value),z[36]=eh.udp.value,z[37]=b):b=z[37];let eT=`font-monospace fw-bold ${b}`;z[38]!==eh.udp.value||z[39]!==eT?(x=(0,r.jsxs)("div",{className:"d-flex gap-2 align-items-center",children:[N,(0,r.jsx)("span",{className:eT,children:eh.udp.value})]}),z[38]=eh.udp.value,z[39]=eT,z[40]=x):x=z[40],z[41]!==v||z[42]!==x?(_=(0,r.jsx)("div",{className:"d-flex w-100 w-sm-auto align-items-center justify-content-between justify-content-sm-end ps-0 ps-sm-2",children:(0,r.jsxs)("div",{className:"d-flex gap-4 text-muted small align-items-center",children:[v,x]})}),z[41]=v,z[42]=x,z[43]=_):_=z[43],z[44]!==g||z[45]!==_?(j=(0,r.jsx)(X.Header,{className:ey.default.nodeHeader,children:(0,r.jsxs)("div",{className:"d-flex w-100 flex-column flex-sm-row align-items-start align-items-sm-center pe-2",children:[g,_]})}),z[44]=g,z[45]=_,z[46]=j):j=z[46];let e$=eh.tcp.value,eC=eh.tcp.loading;z[47]!==eh.tcp.value?(S=ew(eh.tcp.value),z[47]=eh.tcp.value,z[48]=S):S=z[48],z[49]!==eh.tcp.loading||z[50]!==eh.tcp.value||z[51]!==S?(w=(0,r.jsx)(eA,{label:"TCP Latency",value:e$,loading:eC,colorClass:S}),z[49]=eh.tcp.loading,z[50]=eh.tcp.value,z[51]=S,z[52]=w):w=z[52];let eI=eh.udp.value,eW=eh.udp.loading;return z[53]!==eh.udp.value?(A=ew(eh.udp.value),z[53]=eh.udp.value,z[54]=A):A=z[54],z[55]!==eh.udp.loading||z[56]!==eh.udp.value||z[57]!==A?(E=(0,r.jsx)(eA,{label:"UDP Latency",value:eI,loading:eW,colorClass:A}),z[55]=eh.udp.loading,z[56]=eh.udp.value,z[57]=A,z[58]=E):E=z[58],z[59]!==eh.ip?(T=eh.ip&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eA,{label:"IPv4",value:eh.ip.ipv4,loading:eh.ip.loading}),(0,r.jsx)(eA,{label:"IPv6",value:eh.ip.ipv6,loading:eh.ip.loading})]}),z[59]=eh.ip,z[60]=T):T=z[60],z[61]!==w||z[62]!==E||z[63]!==T?($=(0,r.jsxs)("div",{className:ey.default.infoGrid,children:[w,E,T]}),z[61]=w,z[62]=E,z[63]=T,z[64]=$):$=z[64],z[65]!==eh.stun||z[66]!==eh.stun_tcp?(C=(eh.stun||eh.stun_tcp)&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h6",{className:"text-muted small fw-bold mb-2 ps-1",children:"NAT & STUN Details"}),(0,r.jsxs)("div",{className:ey.default.infoGrid,children:[eh.stun&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eA,{label:"NAT Type",value:eh.stun.mapping,loading:eh.stun.loading}),(0,r.jsx)(eA,{label:"Filtering",value:eh.stun.filtering,loading:eh.stun.loading}),(0,r.jsx)(eA,{label:"Mapped Address",value:eh.stun.mappedAddress,loading:eh.stun.loading})]}),eh.stun_tcp&&(0,r.jsx)(eA,{label:"STUN TCP IP",value:eh.stun_tcp.ip,loading:eh.stun_tcp.loading})]})]}),z[65]=eh.stun,z[66]=eh.stun_tcp,z[67]=C):C=z[67],z[68]!==e_?(I=e_?(0,r.jsx)(es.Spinner,{as:"span",animation:"border",size:"sm"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("i",{className:"bi bi-speedometer2"}),(0,r.jsx)("span",{className:"d-none d-sm-inline ms-2",children:"Test"})]}),z[68]=e_,z[69]=I):I=z[69],z[70]!==ex?(W=e=>ex(e),z[70]=ex,z[71]=W):W=z[71],z[72]===Symbol.for("react.memo_cache_sentinel")?(D=(0,r.jsx)(ea.Dropdown.Item,{eventKey:"tcp",children:"TCP Ping"}),L=(0,r.jsx)(ea.Dropdown.Item,{eventKey:"udp",children:"UDP Ping"}),V=(0,r.jsx)(ea.Dropdown.Divider,{}),F=(0,r.jsx)(ea.Dropdown.Item,{eventKey:"stun",children:"STUN Test"}),U=(0,r.jsx)(ea.Dropdown.Item,{eventKey:"stun-tcp",children:"STUN TCP Test"}),O=(0,r.jsx)(ea.Dropdown.Item,{eventKey:"ip",children:"IP Check"}),z[72]=D,z[73]=L,z[74]=V,z[75]=F,z[76]=U,z[77]=O):(D=z[72],L=z[73],V=z[74],F=z[75],U=z[76],O=z[77]),z[78]!==e_||z[79]!==I||z[80]!==W?(P=(0,r.jsxs)(en.DropdownButton,{as:et.ButtonGroup,variant:"outline-secondary",size:"sm",title:I,disabled:e_,onSelect:W,children:[D,L,V,F,U,O]}),z[78]=e_,z[79]=I,z[80]=W,z[81]=P):P=z[81],z[82]===Symbol.for("react.memo_cache_sentinel")?(B=(0,r.jsx)("i",{className:"bi bi-pencil"}),R=(0,r.jsx)("span",{className:"d-none d-sm-inline ms-2",children:"Edit"}),z[82]=B,z[83]=R):(B=z[82],R=z[83]),z[84]!==ei?(K=(0,r.jsxs)(ee.Button,{variant:"outline-secondary",size:"sm",onClick:ei,title:"Edit Configuration",children:[B,R]}),z[84]=ei,z[85]=K):K=z[85],z[86]!==em||z[87]!==er?(J=()=>{var e,t;return e=em,t=er,void(0,ep.FetchProtobuf)(ef.node.method.use,(0,s.create)(ef.use_reqSchema,{hash:t})).then(async({error:a})=>{void 0!==a?e.Error(`change node failed, ${a.code}| ${a.msg}`):e.Info(`Change Node To ${t} Successful`)})},z[86]=em,z[87]=er,z[88]=J):J=z[88],z[89]===Symbol.for("react.memo_cache_sentinel")?(Z=(0,r.jsx)("i",{className:"bi bi-check2-circle"}),q=(0,r.jsx)("span",{className:"d-none d-sm-inline ms-2",children:"Use"}),z[89]=Z,z[90]=q):(Z=z[89],q=z[90]),z[91]!==J?(H=(0,r.jsxs)(ee.Button,{variant:"primary",size:"sm",onClick:J,title:"Use Node",children:[Z,q]}),z[91]=J,z[92]=H):H=z[92],z[93]!==P||z[94]!==K||z[95]!==H?(G=(0,r.jsxs)("div",{className:ey.default.actionFooter,children:[P,K,H]}),z[93]=P,z[94]=K,z[95]=H,z[96]=G):G=z[96],z[97]!==$||z[98]!==C||z[99]!==G?(M=(0,r.jsxs)(X.Body,{className:ey.default.accordionBody,children:[$,C,G]}),z[97]=$,z[98]=C,z[99]=G,z[100]=M):M=z[100],z[101]!==er||z[102]!==j||z[103]!==M?(Y=(0,r.jsxs)(X.Item,{eventKey:er,className:ey.default.accordionItem,children:[j,M]}),z[101]=er,z[102]=j,z[103]=M,z[104]=Y):Y=z[104],Y},eT=e=>{let t,a,n,s,l,i,u,p,m,f,g,h=(0,o.c)(27),y=(0,k.useContext)(ec.GlobalToastContext);h[0]===Symbol.for("react.memo_cache_sentinel")?(t={data:""},h[0]=t):t=h[0];let[v,N]=(0,k.useState)(t);h[1]!==y||h[2]!==v||h[3]!==e?(a=()=>e.onSave?(0,r.jsx)(ee.Button,{variant:"outline-primary",onClick:()=>{var t;let a=function(e,t,a){let n=(0,c.reflect)(e);try{w(n,t,a?Object.assign(Object.assign({},j),a):j)}catch(e){if((0,d.isFieldError)(e))throw Error(`cannot decode ${e.field()} from JSON: ${e.message}`,{cause:e});throw e}return n.message}(t=eh.pointSchema,function(e,t){try{return JSON.parse(e)}catch(a){let e=a instanceof Error?a.message:String(a);throw Error(`cannot decode message ${t} from JSON: ${e}`,{cause:a})}}(v.data,t.typeName),void 0);e.isNew&&(a.hash=""),(0,ep.FetchProtobuf)(ef.node.method.save,a).then(async t=>{let{error:a}=t;void 0===a?(y.Info("save successful"),void 0!==e.onSave&&e.onSave()):y.Error(a.msg)})},children:"Save"}):(0,r.jsx)(r.Fragment,{}),h[1]=y,h[2]=v,h[3]=e,h[4]=a):a=h[4];let b=a;h[5]!==e?(n=()=>{e.onHide()},h[5]=e,h[6]=n):n=h[6],h[7]!==e.plaintext?(s=!e.plaintext&&(0,r.jsx)(eo.Modal.Header,{closeButton:!0,children:(0,r.jsx)(eo.Modal.Title,{id:"contained-modal-title-vcenter",children:"Import JSON"})}),h[7]=e.plaintext,h[8]=s):s=h[8];let x=e.data?e.data:v.data;return h[9]===Symbol.for("react.memo_cache_sentinel")?(l={height:"65vh",fontFamily:"monospace"},i=e=>{N({data:e.target.value})},h[9]=l,h[10]=i):(l=h[9],i=h[10]),h[11]!==e.plaintext||h[12]!==x?(u=(0,r.jsx)(eo.Modal.Body,{children:(0,r.jsx)(er.Form.Control,{as:"textarea",readOnly:e.plaintext,value:x,style:l,onChange:i})}),h[11]=e.plaintext,h[12]=x,h[13]=u):u=h[13],h[14]!==e?(p=(0,r.jsx)(ee.Button,{variant:"outline-secondary",onClick:()=>{e.onHide()},children:"Close"}),h[14]=e,h[15]=p):p=h[15],h[16]!==b?(m=(0,r.jsx)(b,{}),h[16]=b,h[17]=m):m=h[17],h[18]!==p||h[19]!==m?(f=(0,r.jsxs)(eo.Modal.Footer,{children:[p,m]}),h[18]=p,h[19]=m,h[20]=f):f=h[20],h[21]!==e.show||h[22]!==f||h[23]!==n||h[24]!==s||h[25]!==u?(g=(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(eo.Modal,{show:e.show,"aria-labelledby":"contained-modal-title-vcenter",size:"xl",onHide:n,centered:!0,children:[s,u,f]})}),h[21]=e.show,h[22]=f,h[23]=n,h[24]=s,h[25]=u,h[26]=g):g=h[26],g};e.s(["default",0,function(){let e,t,a,n,l,i,c,d,u,p,m,f,g,h,y,v,N,b,x,_,j,S,w,A,E=(0,o.c)(66),T=(0,k.useContext)(ec.GlobalToastContext),[$,C]=(0,k.useState)(-1);E[0]===Symbol.for("react.memo_cache_sentinel")?(e=new ex,E[0]=e):e=E[0];let[I,W]=(0,k.useState)(e);E[1]===Symbol.for("react.memo_cache_sentinel")?(t={data:!1},E[1]=t):t=E[1];let[D,L]=(0,k.useState)(t),[V]=(0,el.useLocalStorage)(ed.LatencyHTTPUrlKey,ed.LatencyHTTPUrlDefault),[O]=(0,el.useLocalStorage)(ed.LatencyDNSUrlKey,ed.LatencyDNSUrlDefault);(0,el.useLocalStorage)(ed.LatencyIPv6Key,ed.LatencyIPv6Default);let[P]=(0,el.useLocalStorage)(ed.LatencyIPUrlKey,ed.LatencyIPUrlDefault),[B]=(0,el.useLocalStorage)(ed.LatencyStunUrlKey,ed.LatencyStunUrlDefault),[R]=(0,el.useLocalStorage)(ed.LatencyStunTCPUrlKey,ed.LatencyStunTCPUrlDefault),{data:K,error:J,isLoading:Z,mutate:q}=(0,ep.useProtoSWR)(ef.node.method.list);if(void 0!==J){let e;return E[2]!==J.code||E[3]!==J.msg?(e=(0,r.jsx)(U.default,{statusCode:J.code,title:J.msg}),E[2]=J.code,E[3]=J.msg,E[4]=e):e=E[4],e}if(Z||void 0===K){let e;return E[5]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(ei.default,{}),E[5]=e):e=E[5],e}E[6]!==T||E[7]!==q?(a=e=>{W({hash:e,show:!0,onDelete:()=>{(0,ep.FetchProtobuf)(ef.node.method.remove,(0,s.create)(F.StringValueSchema,{value:e})).then(async t=>{let{error:a}=t;void 0!==a?T.Error(`Delete Node ${e} Failed ${a.code}| ${a.msg}`):(T.Info(`Delete Node ${e} Successful.`),q())})}})},E[6]=T,E[7]=q,E[8]=a):a=E[8];let H=a;E[9]!==K?(n=new eu.Nodes(K),E[9]=K,E[10]=n):n=E[10];let G=I.show,M=I.hash,Y=I.point,z=I.isNew,Q=I.onDelete;E[11]!==I?(l=()=>W({...I,show:!1}),E[11]=I,E[12]=l):l=E[12],E[13]!==q?(i=()=>q(),E[13]=q,E[14]=i):i=E[14],E[15]!==K.groups?(c=K.groups.map(ej),E[15]=K.groups,E[16]=c):c=E[16],E[17]!==I.hash||E[18]!==I.isNew||E[19]!==I.onDelete||E[20]!==I.point||E[21]!==I.show||E[22]!==i||E[23]!==c||E[24]!==l?(d=(0,r.jsx)(em.NodeModal,{show:G,hash:M,point:Y,isNew:z,onDelete:Q,editable:!0,onHide:l,onSave:i,groups:c}),E[17]=I.hash,E[18]=I.isNew,E[19]=I.onDelete,E[20]=I.point,E[21]=I.show,E[22]=i,E[23]=c,E[24]=l,E[25]=d):d=E[25],E[26]!==q?(u=()=>q(),E[26]=q,E[27]=u):u=E[27],E[28]===Symbol.for("react.memo_cache_sentinel")?(p=()=>L({data:!1}),E[28]=p):p=E[28],E[29]!==D.data||E[30]!==u?(m=(0,r.jsx)(eT,{show:D.data,onSave:u,onHide:p,isNew:!0}),E[29]=D.data,E[30]=u,E[31]=m):m=E[31],E[32]!==d||E[33]!==m||E[34]!==n?(f=(0,r.jsxs)(eu.NodesContext,{value:n,children:[d,m]}),E[32]=d,E[33]=m,E[34]=n,E[35]=f):f=E[35],E[36]===Symbol.for("react.memo_cache_sentinel")?(g=e=>{let t=Number(e);isNaN(t)||C(t)},E[36]=g):g=E[36];let en=$>=0&&K.groups.length>$?K.groups[$].name:"GROUP";return E[37]!==en?(h=(0,r.jsx)(ea.Dropdown.Toggle,{variant:"outline-primary",children:en}),E[37]=en,E[38]=h):h=E[38],E[39]===Symbol.for("react.memo_cache_sentinel")?(y=(0,r.jsx)(ea.Dropdown.Item,{className:ey.default.dropdownItem,eventKey:-1,children:"Select..."}),E[39]=y):y=E[39],E[40]!==K.groups?(v=K.groups?.map(e_),E[40]=K.groups,E[41]=v):v=E[41],E[42]!==v?(N=(0,r.jsxs)(ea.Dropdown.Menu,{className:ey.default.dropdownMenu,children:[y,v]}),E[42]=v,E[43]=N):N=E[43],E[44]!==h||E[45]!==N?(b=(0,r.jsxs)(ea.Dropdown,{onSelect:g,children:[h,N]}),E[44]=h,E[45]=N,E[46]=b):b=E[46],E[47]===Symbol.for("react.memo_cache_sentinel")?(x=(0,r.jsxs)(ee.Button,{variant:"outline-primary",onClick:()=>{W({point:(0,s.create)(eh.pointSchema,{group:"template_group",name:"template_name",origin:eh.origin.manual}),hash:"new node",show:!0,onDelete:void 0,isNew:!0})},children:[(0,r.jsx)("i",{className:"bi bi-plus-lg"})," New"]}),E[47]=x):x=E[47],E[48]===Symbol.for("react.memo_cache_sentinel")?(_=(0,r.jsxs)(et.ButtonGroup,{children:[x,(0,r.jsxs)(ee.Button,{variant:"outline-primary",onClick:()=>L({data:!0}),children:[(0,r.jsx)("i",{className:"bi bi-box-arrow-in-down"})," Import"]})]}),E[48]=_):_=E[48],E[49]!==b?(j=(0,r.jsx)("div",{className:ey.default.pageHeader,children:(0,r.jsxs)("div",{className:ey.default.headerActions,children:[b,_]})}),E[49]=b,E[50]=j):j=E[50],E[51]!==K.groups||E[52]!==$||E[53]!==O||E[54]!==V||E[55]!==P||E[56]!==R||E[57]!==B||E[58]!==H?(S=$>=0&&K.groups.length>$&&K.groups[$].nodes.length>0?K.groups[$].nodes.map(e=>(0,r.jsx)(eE,{hash:e.hash,name:e.name,onClickEdit:()=>{H(e.hash)},urls:{ip:P,tcp:V,udp:O,stun:B,stunTCP:R}},e.hash)):(0,r.jsx)("div",{className:"text-center text-secondary py-3",children:-1===$?"Please select a group to display nodes":"Current group has no nodes"}),E[51]=K.groups,E[52]=$,E[53]=O,E[54]=V,E[55]=P,E[56]=R,E[57]=B,E[58]=H,E[59]=S):S=E[59],E[60]!==S?(w=(0,r.jsx)(X,{className:ey.default.accordion,alwaysOpen:!0,id:"connections",children:S}),E[60]=S,E[61]=w):w=E[61],E[62]!==f||E[63]!==j||E[64]!==w?(A=(0,r.jsxs)(r.Fragment,{children:[f,j,w]}),E[62]=f,E[63]=j,E[64]=w,E[65]=A):A=E[65],A}],7713)}]);