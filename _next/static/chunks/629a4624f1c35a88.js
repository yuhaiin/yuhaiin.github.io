(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55398,e=>{e.v({accordion:"group-module__EjcyqW__accordion",accordionBody:"group-module__EjcyqW__accordionBody",accordionHeader:"group-module__EjcyqW__accordionHeader",accordionIcon:"group-module__EjcyqW__accordionIcon",actionFooter:"group-module__EjcyqW__actionFooter",btn:"group-module__EjcyqW__btn",buttonGroup:"group-module__EjcyqW__buttonGroup",collapsed:"group-module__EjcyqW__collapsed","dropdown-toggle":"group-module__EjcyqW__dropdown-toggle",dropdownItem:"group-module__EjcyqW__dropdownItem",dropdownMenu:"group-module__EjcyqW__dropdownMenu",headerActions:"group-module__EjcyqW__headerActions",infoCard:"group-module__EjcyqW__infoCard",infoGrid:"group-module__EjcyqW__infoGrid",infoLabel:"group-module__EjcyqW__infoLabel",infoValue:"group-module__EjcyqW__infoValue","latency-avg":"group-module__EjcyqW__latency-avg","latency-bad":"group-module__EjcyqW__latency-bad","latency-good":"group-module__EjcyqW__latency-good",pageHeader:"group-module__EjcyqW__pageHeader",pageTitle:"group-module__EjcyqW__pageTitle"})},7713,e=>{"use strict";var t,a,n,r=e.i(43476),o=e.i(932),s=e.i(91287),l=e.i(74217),i=e.i(14511),c=e.i(57897),d=e.i(82280),u=e.i(6322),p=e.i(42245),m=e.i(77755),f=e.i(95560),g=e.i(71811),h=e.i(24407),y=e.i(14156);e.i(61847);let v=(0,h.fileDesc)("Chxnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvEg9nb29nbGUucHJvdG9idWYihAEKBlN0cnVjdBIzCgZmaWVsZHMYASADKAsyIy5nb29nbGUucHJvdG9idWYuU3RydWN0LkZpZWxkc0VudHJ5GkUKC0ZpZWxkc0VudHJ5EgsKA2tleRgBIAEoCRIlCgV2YWx1ZRgCIAEoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZToCOAEi6gEKBVZhbHVlEjAKCm51bGxfdmFsdWUYASABKA4yGi5nb29nbGUucHJvdG9idWYuTnVsbFZhbHVlSAASFgoMbnVtYmVyX3ZhbHVlGAIgASgBSAASFgoMc3RyaW5nX3ZhbHVlGAMgASgJSAASFAoKYm9vbF92YWx1ZRgEIAEoCEgAEi8KDHN0cnVjdF92YWx1ZRgFIAEoCzIXLmdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RIABIwCgpsaXN0X3ZhbHVlGAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZUgAQgYKBGtpbmQiMwoJTGlzdFZhbHVlEiYKBnZhbHVlcxgBIAMoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZSobCglOdWxsVmFsdWUSDgoKTlVMTF9WQUxVRRAAQn8KE2NvbS5nb29nbGUucHJvdG9idWZCC1N0cnVjdFByb3RvUAFaL2dvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3N0cnVjdHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),b=(0,y.messageDesc)(v,0),N=(0,y.messageDesc)(v,1),x=(0,y.messageDesc)(v,2);(t=n||(n={}))[t.NULL_VALUE=0]="NULL_VALUE";var _=e.i(47767);let S={ignoreUnknownFields:!1};function j(e,t,a){var n;if(function(e,t,a){if(!e.desc.typeName.startsWith("google.protobuf."))return!1;switch(e.desc.typeName){case"google.protobuf.Any":return function(e,t,a){var n;if(null===t||Array.isArray(t)||"object"!=typeof t)throw Error(`cannot decode message ${e.$typeName} from JSON: expected object but got ${(0,u.formatVal)(t)}`);if(0==Object.keys(t).length)return;let r=t["@type"];if("string"!=typeof r||""==r)throw Error(`cannot decode message ${e.$typeName} from JSON: "@type" is empty`);let o=r.includes("/")?r.substring(r.lastIndexOf("/")+1):r;if(!o.length)throw Error(`cannot decode message ${e.$typeName} from JSON: "@type" is invalid`);let s=null==(n=a.registry)?void 0:n.getMessage(o);if(!s)throw Error(`cannot decode message ${e.$typeName} from JSON: ${r} is not in the type registry`);let l=(0,c.reflect)(s);if(o.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(t,"value"))j(l,t.value,a);else{let e=Object.assign({},t);delete e["@type"],j(l,e,a)}(0,g.anyPack)(l.desc,l.message,e)}(e.message,t,a),!0;case"google.protobuf.Timestamp":return function(e,t){if("string"!=typeof t)throw Error(`cannot decode message ${e.$typeName} from JSON: ${(0,u.formatVal)(t)}`);let a=t.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\.([0-9]{1,9}))?(?:Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!a)throw Error(`cannot decode message ${e.$typeName} from JSON: invalid RFC 3339 string`);let n=Date.parse(a[1]+"-"+a[2]+"-"+a[3]+"T"+a[4]+":"+a[5]+":"+a[6]+(a[8]?a[8]:"Z"));if(Number.isNaN(n))throw Error(`cannot decode message ${e.$typeName} from JSON: invalid RFC 3339 string`);if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw Error(`cannot decode message ${e.$typeName} from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);e.seconds=i.protoInt64.parse(n/1e3),e.nanos=0,a[7]&&(e.nanos=parseInt("1"+a[7]+"0".repeat(9-a[7].length))-1e9)}(e.message,t),!0;case"google.protobuf.Duration":return function(e,t){if("string"!=typeof t)throw Error(`cannot decode message ${e.$typeName} from JSON: ${(0,u.formatVal)(t)}`);let a=t.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(null===a)throw Error(`cannot decode message ${e.$typeName} from JSON: ${(0,u.formatVal)(t)}`);let n=Number(a[1]);if(n>315576e6||n<-315576e6)throw Error(`cannot decode message ${e.$typeName} from JSON: ${(0,u.formatVal)(t)}`);e.seconds=i.protoInt64.parse(n),"string"!=typeof a[2]||(e.nanos=parseInt(a[2]+"0".repeat(9-a[2].length)),(n<0||Object.is(n,-0))&&(e.nanos=-e.nanos))}(e.message,t),!0;case"google.protobuf.FieldMask":return function(e,t){if("string"!=typeof t)throw Error(`cannot decode message ${e.$typeName} from JSON: ${(0,u.formatVal)(t)}`);""!==t&&(e.paths=t.split(",").map(function(t){if(t.includes("_"))throw Error(`cannot decode message ${e.$typeName} from JSON: path names must be lowerCamelCase`);let a=t.replace(/[A-Z]/g,e=>"_"+e.toLowerCase());return"_"===a[0]?a.substring(1):a}))}(e.message,t),!0;case"google.protobuf.Struct":return L(e.message,t),!0;case"google.protobuf.Value":return W(e.message,t),!0;case"google.protobuf.ListValue":return D(e.message,t),!0;default:if((0,f.isWrapperDesc)(e.desc)){let a=e.desc.fields[0];return null===t?e.clear(a):e.set(a,C(a,t,!0)),!0}return!1}}(e,t,a))return;if(null==t||Array.isArray(t)||"object"!=typeof t)throw Error(`cannot decode ${e.desc} from JSON: ${(0,u.formatVal)(t)}`);let r=new Map,o=new Map;for(let t of e.desc.fields)o.set(t.name,t).set(t.jsonName,t);for(let[s,l]of Object.entries(t)){let t=o.get(s);if(t){if(t.oneof){if(null===l&&"scalar"==t.fieldKind)continue;let e=r.get(t.oneof);if(void 0!==e)throw new d.FieldError(t.oneof,`oneof set multiple times by ${e.name} and ${t.name}`);r.set(t.oneof,t)}w(e,t,l,a)}else{let t;if(s.startsWith("[")&&s.endsWith("]")&&(t=null==(n=a.registry)?void 0:n.getExtension(s.substring(1,s.length-1)))&&t.extendee.typeName===e.desc.typeName){let[n,r,o]=(0,_.createExtensionContainer)(t);w(n,r,l,a),(0,_.setExtension)(e.message,t,o())}if(!t&&!a.ignoreUnknownFields)throw Error(`cannot decode ${e.desc} from JSON: key "${s}" is unknown`)}}}function w(e,t,a,n){var r,o,s,i,p,m;switch(t.fieldKind){case"scalar":let f;r=e,(f=C(o=t,a,!1))===$?r.clear(o):r.set(o,f);break;case"enum":let g;s=e,i=t,p=a,m=n,(g=T(i.enum,p,m.ignoreUnknownFields,!1))===$?s.clear(i):g!==E&&s.set(i,g);break;case"message":!function(e,t,a,n){if(null===a&&"google.protobuf.Value"!=t.message.typeName)return e.clear(t);let r=e.isSet(t)?e.get(t):(0,c.reflect)(t.message);j(r,a,n),e.set(t,r)}(e,t,a,n);break;case"list":!function(e,t,a){if(null===t)return;let n=e.field();if(!Array.isArray(t))throw new d.FieldError(n,"expected Array, got "+(0,u.formatVal)(t));for(let r of t){if(null===r&&!A(n))throw new d.FieldError(n,"list item must not be null");switch(n.listKind){case"message":let t=(0,c.reflect)(n.message);j(t,r,a),e.add(t);break;case"enum":let o=T(n.enum,r,a.ignoreUnknownFields,!0);o!==E&&e.add(o);break;case"scalar":e.add(C(n,r,!0))}}}(e.get(t),a,n);break;case"map":!function(e,t,a){if(null===t)return;let n=e.field();if("object"!=typeof t||Array.isArray(t))throw new d.FieldError(n,"expected object, got "+(0,u.formatVal)(t));for(let[r,o]of Object.entries(t)){let t;if(null===o&&!A(n))throw new d.FieldError(n,"map value must not be null");switch(n.mapKind){case"message":let s=(0,c.reflect)(n.message);j(s,o,a),t=s;break;case"enum":if((t=T(n.enum,o,a.ignoreUnknownFields,!0))===E)return;break;case"scalar":t=C(n,o,!0)}let i=function(e,t){switch(e){case l.ScalarType.BOOL:switch(t){case"true":return!0;case"false":return!1}return t;case l.ScalarType.INT32:case l.ScalarType.FIXED32:case l.ScalarType.UINT32:case l.ScalarType.SFIXED32:case l.ScalarType.SINT32:return I(t);default:return t}}(n.mapKey,r);e.set(i,t)}}(e.get(t),a,n)}}function A(e){var t,a;return(null==(t=e.message)?void 0:t.typeName)=="google.protobuf.Value"||(null==(a=e.enum)?void 0:a.typeName)=="google.protobuf.NullValue"}let E=Symbol();function T(e,t,a,n){if(null===t)return"google.protobuf.NullValue"==e.typeName?0:n?e.values[0].number:$;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":let r=e.values.find(e=>e.name===t);if(void 0!==r)return r.number;if(a)return E}throw Error(`cannot decode ${e} from JSON: ${(0,u.formatVal)(t)}`)}let $=Symbol();function C(e,t,a){if(null===t)return a?(0,p.scalarZeroValue)(e.scalar,!1):$;switch(e.scalar){case l.ScalarType.DOUBLE:case l.ScalarType.FLOAT:if("NaN"===t)return NaN;if("Infinity"===t)return 1/0;if("-Infinity"===t)return-1/0;if("number"==typeof t){if(Number.isNaN(t))throw new d.FieldError(e,"unexpected NaN number");if(!Number.isFinite(t))throw new d.FieldError(e,"unexpected infinite number");break}if("string"==typeof t){if(""===t||t.trim().length!==t.length)break;let e=Number(t);if(!Number.isFinite(e))break;return e}break;case l.ScalarType.INT32:case l.ScalarType.FIXED32:case l.ScalarType.SFIXED32:case l.ScalarType.SINT32:case l.ScalarType.UINT32:return I(t);case l.ScalarType.BYTES:if("string"==typeof t){if(""===t)return new Uint8Array(0);try{return(0,m.base64Decode)(t)}catch(a){let t=a instanceof Error?a.message:String(a);throw new d.FieldError(e,t)}}}return t}function I(e){if("string"==typeof e){if(""===e||e.trim().length!==e.length)return e;let t=Number(e);return Number.isNaN(t)?e:t}return e}function L(e,t){if("object"!=typeof t||null==t||Array.isArray(t))throw Error(`cannot decode message ${e.$typeName} from JSON ${(0,u.formatVal)(t)}`);for(let[a,n]of Object.entries(t)){let t=(0,s.create)(N);W(t,n),e.fields[a]=t}}function W(e,t){switch(typeof t){case"number":e.kind={case:"numberValue",value:t};break;case"string":e.kind={case:"stringValue",value:t};break;case"boolean":e.kind={case:"boolValue",value:t};break;case"object":if(null===t)e.kind={case:"nullValue",value:n.NULL_VALUE};else if(Array.isArray(t)){let a=(0,s.create)(x);D(a,t),e.kind={case:"listValue",value:a}}else{let a=(0,s.create)(b);L(a,t),e.kind={case:"structValue",value:a}}break;default:throw Error(`cannot decode message ${e.$typeName} from JSON ${(0,u.formatVal)(t)}`)}return e}function D(e,t){if(!Array.isArray(t))throw Error(`cannot decode message ${e.$typeName} from JSON ${(0,u.formatVal)(t)}`);for(let a of t){let t=(0,s.create)(N);W(t,a),e.values.push(t)}}var V=e.i(95901),F=e.i(78438),k=e.i(71645),U=e.i(7670),O=e.i(82182),P=e.i(36333),B=e.i(63177);function K(e,t){return Array.isArray(e)?e.includes(t):e===t}let R=k.createContext({});R.displayName="AccordionContext";let Z=k.forwardRef(({as:e="div",bsPrefix:t,className:a,children:n,eventKey:o,...s},l)=>{let{activeEventKey:i}=(0,k.useContext)(R);return t=(0,P.useBootstrapPrefix)(t,"accordion-collapse"),(0,r.jsx)(B.default,{ref:l,in:K(i,o),...s,className:(0,U.default)(a,t),children:(0,r.jsx)(e,{children:k.Children.only(n)})})});Z.displayName="AccordionCollapse";let J=k.createContext({eventKey:""});J.displayName="AccordionItemContext";let q=k.forwardRef(({as:e="div",bsPrefix:t,className:a,onEnter:n,onEntering:o,onEntered:s,onExit:l,onExiting:i,onExited:c,...d},u)=>{t=(0,P.useBootstrapPrefix)(t,"accordion-body");let{eventKey:p}=(0,k.useContext)(J);return(0,r.jsx)(Z,{eventKey:p,onEnter:n,onEntering:o,onEntered:s,onExit:l,onExiting:i,onExited:c,children:(0,r.jsx)(e,{ref:u,...d,className:(0,U.default)(a,t)})})});q.displayName="AccordionBody";let H=k.forwardRef(({as:e="button",bsPrefix:t,className:a,onClick:n,...o},s)=>{t=(0,P.useBootstrapPrefix)(t,"accordion-button");let{eventKey:l}=(0,k.useContext)(J),i=function(e,t){let{activeEventKey:a,onSelect:n,alwaysOpen:r}=(0,k.useContext)(R);return o=>{let s=e===a?null:e;r&&(s=Array.isArray(a)?a.includes(e)?a.filter(t=>t!==e):[...a,e]:[e]),null==n||n(s,o),null==t||t(o)}}(l,n),{activeEventKey:c}=(0,k.useContext)(R);return"button"===e&&(o.type="button"),(0,r.jsx)(e,{ref:s,onClick:i,...o,"aria-expanded":Array.isArray(c)?c.includes(l):l===c,className:(0,U.default)(a,t,!K(c,l)&&"collapsed")})});H.displayName="AccordionButton";let G=k.forwardRef(({as:e="h2","aria-controls":t,bsPrefix:a,className:n,children:o,disabled:s,onClick:l,...i},c)=>(a=(0,P.useBootstrapPrefix)(a,"accordion-header"),(0,r.jsx)(e,{ref:c,...i,className:(0,U.default)(n,a),children:(0,r.jsx)(H,{onClick:l,"aria-controls":t,disabled:s,children:o})})));G.displayName="AccordionHeader";let M=k.forwardRef(({as:e="div",bsPrefix:t,className:a,eventKey:n,...o},s)=>{t=(0,P.useBootstrapPrefix)(t,"accordion-item");let l=(0,k.useMemo)(()=>({eventKey:n}),[n]);return(0,r.jsx)(J.Provider,{value:l,children:(0,r.jsx)(e,{ref:s,...o,className:(0,U.default)(a,t)})})});M.displayName="AccordionItem";let Y=k.forwardRef((e,t)=>{let{as:a="div",activeKey:n,bsPrefix:o,className:s,onSelect:l,flush:i,alwaysOpen:c,...d}=(0,O.useUncontrolled)(e,{activeKey:"onSelect"}),u=(0,P.useBootstrapPrefix)(o,"accordion"),p=(0,k.useMemo)(()=>({activeEventKey:n,onSelect:l,alwaysOpen:c}),[n,l,c]);return(0,r.jsx)(R.Provider,{value:p,children:(0,r.jsx)(a,{ref:t,...d,className:(0,U.default)(s,u,i&&`${u}-flush`)})})});Y.displayName="Accordion";let z=Object.assign(Y,{Button:H,Collapse:Z,Item:M,Header:G,Body:q});var X=e.i(18818),Q=e.i(45535),ee=e.i(7495),et=e.i(48323),ea=e.i(10446),en=e.i(78817),er=e.i(5260),eo=e.i(59852),es=e.i(39839),el=e.i(69632),ei=e.i(2893),ec=e.i(2495),ed=e.i(39848),eu=e.i(31786),ep=e.i(77352),em=e.i(41703),ef=e.i(37039),eg=e.i(24736),eh=e.i(55398);function ey(e){if(0===e.nanos&&0===Number(e.seconds))return"timeout";let t=1e9*Number(e.seconds)+ +e.nanos;return t>=36e11?`${t/36e11} h`:t>=6e10?`${t/6e10} m`:t>=1e9?`${t/1e9} s`:t>=1e6?`${t/1e6} ms`:t>=1e3?`${t/1e3} us`:`${t/1} ns`}var ev=((a=ev||{}).TCP="tcp",a.UDP="udp",a.IP="ip",a.STUN="stun",a.STUNTCP="stun-tcp",a);let eb=e=>{switch(e){case ef.nat_type.NAT_UNKNOWN:return"unknown";case ef.nat_type.NAT_NO_RESULT:return"noresult";case ef.nat_type.NAT_AddressAndPortDependent:return"address-and-port-dependent";case ef.nat_type.NAT_AddressDependent:return"address-dependent";case ef.nat_type.NAT_EndpointIndependent:return"endpoint-independent";case ef.nat_type.NAT_EndpointIndependentNoNAT:return"endpoint-independent-no-nat";case ef.nat_type.NAT_ServerNotSupportChangePort:return"server-not-support";default:return"unknown"}};class eN{point;hash;show;onDelete;isNew;constructor(e){this.point=e?.point,this.hash=e?.hash??"",this.show=e?.show??!1,this.onDelete=e?.onDelete}}function ex(e,t){return(0,r.jsx)(et.Dropdown.Item,{className:eh.default.dropdownItem,eventKey:t,children:e.name},t)}function e_(e){return e.name}let eS=e=>{switch(e.case){case"http":return(0,s.create)(ef.request_protocolSchema,{protocol:{case:"http",value:(0,s.create)(ef.http_testSchema,{url:e.url})}});case"dnsOverQuic":return(0,s.create)(ef.request_protocolSchema,{protocol:{case:"dnsOverQuic",value:(0,s.create)(ef.dns_over_quicSchema,{host:e.host,targetDomain:e.targetDomain})}});case"ip":return(0,s.create)(ef.request_protocolSchema,{protocol:{case:"ip",value:(0,s.create)(ef.ipSchema,{url:e.url,userAgent:e.userAgent})}});case"stun":return(0,s.create)(ef.request_protocolSchema,{protocol:{case:"stun",value:(0,s.create)(ef.stunSchema,{host:e.host,tcp:e.tcp})}})}},ej=e=>{let t,a,n,s,l=(0,o.c)(11),{label:i,value:c,loading:d,colorClass:u}=e;l[0]!==i?(t=(0,r.jsx)("span",{className:eh.default.infoLabel,children:i}),l[0]=i,l[1]=t):t=l[1];let p=`${eh.default.infoValue} ${u||""} text-break`;return l[2]!==d||l[3]!==c?(a=d?(0,r.jsx)(eo.Spinner,{animation:"border",size:"sm",variant:"secondary"}):c||"N/A",l[2]=d,l[3]=c,l[4]=a):a=l[4],l[5]!==p||l[6]!==a?(n=(0,r.jsx)("div",{className:p,children:a}),l[5]=p,l[6]=a,l[7]=n):n=l[7],l[8]!==t||l[9]!==n?(s=(0,r.jsxs)("div",{className:eh.default.infoCard,children:[t,n]}),l[8]=t,l[9]=n,l[10]=s):s=l[10],s},ew=e=>{let t=(e=>{if(!e||"N/A"===e||e.includes("error")||e.includes("timeout"))return -1;let t=e.trim(),a=parseFloat(t);return isNaN(a)?-1:t.endsWith("ns")?a/1e6:t.endsWith("µs")||t.endsWith("us")?a/1e3:t.endsWith("ms")?a:t.endsWith("s")&&!t.endsWith("ms")?1e3*a:t.endsWith("m")?60*a*1e3:a})(e);return t<0?"":t<100?eh.default["latency-good"]:t<400?eh.default["latency-avg"]:eh.default["latency-bad"]},eA=e=>{let t,a,n,l,i,c,d,u,p,m,f,g,h,y,v,b,N,x,_,S,j,w,A,E,T,$,C,I,L,W,D,V,F,U,O,P,B,K,R,Z,J,q,H,G,M,Y=(0,o.c)(104),{hash:en,name:er,onClickEdit:el,ipv6:ei,urls:ec}=e,ep=(0,k.useContext)(eu.GlobalToastContext);Y[0]===Symbol.for("react.memo_cache_sentinel")?(t={tcp:{loading:!1,value:"N/A"},udp:{loading:!1,value:"N/A"}},Y[0]=t):t=Y[0];let[eg,ev]=(0,es.useLocalStorage)(`latency-${en}`,t);Y[1]!==en||Y[2]!==ei||Y[3]!==eg||Y[4]!==ev||Y[5]!==ec?(a=e=>{let{request:t,setLoading:a,setResult:n}=((e,t,a,n)=>{switch(e){case"tcp":return{request:eS({case:"http",url:n.tcp}),setLoading:(e,t)=>{a(t=>({...t,tcp:{...t.tcp,loading:e}})),t&&a(e=>({...e,tcp:{loading:!1,value:t}}))},setResult:e=>{if("latency"===e.reply.case){let t=ey(e.reply.value);a(e=>({...e,tcp:{value:t,loading:!1}}))}}};case"udp":return{request:eS({case:"dnsOverQuic",host:n.udp,targetDomain:"www.google.com"}),setLoading:(e,t)=>{a(t=>({...t,udp:{...t.udp,loading:e}})),t&&a(e=>({...e,udp:{loading:!1,value:t}}))},setResult:e=>{if("latency"===e.reply.case){let t=ey(e.reply.value);a(e=>({...e,udp:{value:t,loading:!1}}))}}};case"ip":return{request:eS({case:"ip",url:n.ip}),setLoading:(e,n)=>{a(a=>({...a,ip:{loading:e,ipv4:t.ip?t.ip.ipv4:"N/A",ipv6:t.ip?t.ip.ipv6:"N/A"}})),n&&a(e=>({...e,ip:{loading:!1,ipv4:n,ipv6:n}}))},setResult:e=>{if("ip"===e.reply.case){let t=e.reply.value.ipv4,n=e.reply.value.ipv6;a(e=>({...e,ip:{ipv4:t,ipv6:n,loading:!1}}))}}};case"stun-tcp":return{request:eS({case:"stun",host:n.stunTCP,tcp:!0}),setLoading:(e,n)=>{a(a=>({...a,stun_tcp:{loading:e,ip:t.stun_tcp?t.stun_tcp.ip:"N/A"}})),n&&a(e=>({...e,stun_tcp:{loading:!1,ip:n}}))},setResult:e=>{if("stun"===e.reply.case){let t=e.reply.value.mappedAddress;a(e=>({...e,stun_tcp:{ip:t,loading:!1}}))}}};case"stun":return{request:eS({case:"stun",host:n.stun,tcp:!1}),setLoading:(e,n)=>{a(a=>({...a,stun:{loading:e,mappedAddress:t.stun?t.stun.mappedAddress:"N/A",mapping:t.stun?t.stun.mapping:"N/A",filtering:t.stun?t.stun.filtering:"N/A"}})),n&&a(e=>({...e,stun:{loading:!1,mappedAddress:n,mapping:n,filtering:n}}))},setResult:e=>{if("stun"===e.reply.case){let t=eb(e.reply.value.Mapping),n=eb(e.reply.value.Filtering),r=e.reply.value.mappedAddress;a(e=>({...e,stun:{loading:!1,mapping:t,filtering:n,mappedAddress:r}}))}}}}})(e,eg,ev,ec);a(!0),(0,ed.FetchProtobuf)(em.node.method.latency,(0,s.create)(ef.requestsSchema,{requests:[{hash:en,id:"latency",ipv6:ei,method:t}]})).then(async e=>{let{data:t,error:r}=e;if(r){console.log(`test failed ${r.code}| ${r.msg}`),a(!1,`${r.code}| ${r.msg}`);return}if(t&&t.idLatencyMap.latency){let e=t.idLatencyMap.latency;if("error"===e.reply.case){console.log(`test failed ${e.reply.value.msg}`),a(!1,e.reply.value.msg);return}a(!1),n(e)}else a(!1,"timeout")})},Y[1]=en,Y[2]=ei,Y[3]=eg,Y[4]=ev,Y[5]=ec,Y[6]=a):a=Y[6];let eN=a;if(Y[7]!==eg)n=eg.tcp.loading||eg.udp.loading||eg.ip?.loading||eg.stun?.loading||eg.stun_tcp?.loading||!1,Y[7]=eg,Y[8]=n;else n=Y[8];let ex=n,e_=`bi bi-hdd-network fs-5 ${"N/A"!==eg.tcp.value&&!eg.tcp.value.includes("timeout")?"text-primary":"text-muted"}`;Y[9]!==e_?(l=(0,r.jsx)("i",{className:e_}),Y[9]=e_,Y[10]=l):l=Y[10],Y[11]!==er?(i=(0,r.jsx)("span",{className:"fw-bold",children:er}),Y[11]=er,Y[12]=i):i=Y[12],Y[13]===Symbol.for("react.memo_cache_sentinel")?(c={fontSize:"0.75rem"},Y[13]=c):c=Y[13],Y[14]!==en?(d=en.substring(0,8),Y[14]=en,Y[15]=d):d=Y[15],Y[16]!==d?(u=(0,r.jsx)("span",{className:"text-muted font-monospace",children:d}),Y[16]=d,Y[17]=u):u=Y[17],Y[18]!==ei?(p=ei&&(0,r.jsx)(X.Badge,{bg:"info",className:"text-dark py-0 px-1",children:"IPv6"}),Y[18]=ei,Y[19]=p):p=Y[19],Y[20]!==p||Y[21]!==u?(m=(0,r.jsxs)("div",{className:"d-flex gap-2 align-items-center",style:c,children:[u,p]}),Y[20]=p,Y[21]=u,Y[22]=m):m=Y[22],Y[23]!==m||Y[24]!==i?(f=(0,r.jsxs)("div",{className:"d-flex flex-column",children:[i,m]}),Y[23]=m,Y[24]=i,Y[25]=f):f=Y[25],Y[26]!==f||Y[27]!==l?(g=(0,r.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[l,f]}),Y[26]=f,Y[27]=l,Y[28]=g):g=Y[28],Y[29]===Symbol.for("react.memo_cache_sentinel")?(h=(0,r.jsx)("span",{className:"text-uppercase",style:{fontSize:"0.7rem",fontWeight:700},children:"TCP"}),Y[29]=h):h=Y[29],Y[30]!==eg.tcp.value?(y=ew(eg.tcp.value),Y[30]=eg.tcp.value,Y[31]=y):y=Y[31];let eA=`font-monospace ${y}`;Y[32]!==eg.tcp.value||Y[33]!==eA?(v=(0,r.jsxs)("div",{className:"d-flex align-items-center gap-1",children:[h,(0,r.jsx)("span",{className:eA,children:eg.tcp.value})]}),Y[32]=eg.tcp.value,Y[33]=eA,Y[34]=v):v=Y[34],Y[35]===Symbol.for("react.memo_cache_sentinel")?(b=(0,r.jsx)("span",{className:"text-uppercase",style:{fontSize:"0.7rem",fontWeight:700},children:"UDP"}),Y[35]=b):b=Y[35],Y[36]!==eg.udp.value?(N=ew(eg.udp.value),Y[36]=eg.udp.value,Y[37]=N):N=Y[37];let eE=`font-monospace ${N}`;Y[38]!==eg.udp.value||Y[39]!==eE?(x=(0,r.jsxs)("div",{className:"d-flex align-items-center gap-1",children:[b,(0,r.jsx)("span",{className:eE,children:eg.udp.value})]}),Y[38]=eg.udp.value,Y[39]=eE,Y[40]=x):x=Y[40],Y[41]!==v||Y[42]!==x?(_=(0,r.jsxs)("div",{className:"d-flex gap-3 text-muted small",children:[v,x]}),Y[41]=v,Y[42]=x,Y[43]=_):_=Y[43],Y[44]!==g||Y[45]!==_?(S=(0,r.jsx)(z.Header,{className:eh.default.nodeHeader,children:(0,r.jsxs)("div",{className:"d-flex w-100 align-items-center justify-content-between pe-3",children:[g,_]})}),Y[44]=g,Y[45]=_,Y[46]=S):S=Y[46],Y[47]===Symbol.for("react.memo_cache_sentinel")?(j=(0,r.jsx)("hr",{className:"my-3 opacity-10"}),Y[47]=j):j=Y[47];let eT=eg.tcp.value,e$=eg.tcp.loading;Y[48]!==eg.tcp.value?(w=ew(eg.tcp.value),Y[48]=eg.tcp.value,Y[49]=w):w=Y[49],Y[50]!==eg.tcp.loading||Y[51]!==eg.tcp.value||Y[52]!==w?(A=(0,r.jsx)(ej,{label:"TCP Latency",value:eT,loading:e$,colorClass:w}),Y[50]=eg.tcp.loading,Y[51]=eg.tcp.value,Y[52]=w,Y[53]=A):A=Y[53];let eC=eg.udp.value,eI=eg.udp.loading;return Y[54]!==eg.udp.value?(E=ew(eg.udp.value),Y[54]=eg.udp.value,Y[55]=E):E=Y[55],Y[56]!==eg.udp.loading||Y[57]!==eg.udp.value||Y[58]!==E?(T=(0,r.jsx)(ej,{label:"UDP Latency",value:eC,loading:eI,colorClass:E}),Y[56]=eg.udp.loading,Y[57]=eg.udp.value,Y[58]=E,Y[59]=T):T=Y[59],Y[60]!==eg.ip?($=eg.ip&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ej,{label:"IPv4 Address",value:eg.ip.ipv4,loading:eg.ip.loading}),(0,r.jsx)(ej,{label:"IPv6 Address",value:eg.ip.ipv6,loading:eg.ip.loading})]}),Y[60]=eg.ip,Y[61]=$):$=Y[61],Y[62]!==A||Y[63]!==T||Y[64]!==$?(C=(0,r.jsxs)("div",{className:eh.default.infoGrid,children:[A,T,$]}),Y[62]=A,Y[63]=T,Y[64]=$,Y[65]=C):C=Y[65],Y[66]!==eg.stun||Y[67]!==eg.stun_tcp?(I=(eg.stun||eg.stun_tcp)&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h6",{className:"text-muted small fw-bold mb-2",children:"NAT & STUN Details"}),(0,r.jsxs)("div",{className:eh.default.infoGrid,children:[eg.stun&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ej,{label:"NAT Type",value:eg.stun.mapping,loading:eg.stun.loading}),(0,r.jsx)(ej,{label:"Filtering",value:eg.stun.filtering,loading:eg.stun.loading}),(0,r.jsx)(ej,{label:"Mapped Address",value:eg.stun.mappedAddress,loading:eg.stun.loading})]}),eg.stun_tcp&&(0,r.jsx)(ej,{label:"STUN TCP IP",value:eg.stun_tcp.ip,loading:eg.stun_tcp.loading})]})]}),Y[66]=eg.stun,Y[67]=eg.stun_tcp,Y[68]=I):I=Y[68],Y[69]!==ex?(L=(0,r.jsxs)(r.Fragment,{children:[ex?(0,r.jsx)(eo.Spinner,{as:"span",animation:"border",size:"sm",className:"me-2"}):(0,r.jsx)("i",{className:"bi bi-speedometer2 me-2"}),"Test Latency"]}),Y[69]=ex,Y[70]=L):L=Y[70],Y[71]!==eN?(W=e=>eN(e),Y[71]=eN,Y[72]=W):W=Y[72],Y[73]===Symbol.for("react.memo_cache_sentinel")?(D=(0,r.jsx)(et.Dropdown.Item,{eventKey:"tcp",children:"TCP Ping"}),V=(0,r.jsx)(et.Dropdown.Item,{eventKey:"udp",children:"UDP Ping"}),F=(0,r.jsx)(et.Dropdown.Divider,{}),U=(0,r.jsx)(et.Dropdown.Item,{eventKey:"stun",children:"STUN Test"}),O=(0,r.jsx)(et.Dropdown.Item,{eventKey:"stun-tcp",children:"STUN TCP Test"}),P=(0,r.jsx)(et.Dropdown.Item,{eventKey:"ip",children:"IP Check"}),Y[73]=D,Y[74]=V,Y[75]=F,Y[76]=U,Y[77]=O,Y[78]=P):(D=Y[73],V=Y[74],F=Y[75],U=Y[76],O=Y[77],P=Y[78]),Y[79]!==ex||Y[80]!==L||Y[81]!==W?(B=(0,r.jsxs)(ea.DropdownButton,{as:ee.ButtonGroup,variant:"outline-secondary",size:"sm",title:L,disabled:ex,onSelect:W,children:[D,V,F,U,O,P]}),Y[79]=ex,Y[80]=L,Y[81]=W,Y[82]=B):B=Y[82],Y[83]===Symbol.for("react.memo_cache_sentinel")?(K=(0,r.jsx)("i",{className:"bi bi-pencil me-2"}),Y[83]=K):K=Y[83],Y[84]!==el?(R=(0,r.jsxs)(Q.Button,{variant:"outline-secondary",size:"sm",onClick:el,children:[K," Edit Config"]}),Y[84]=el,Y[85]=R):R=Y[85],Y[86]!==ep||Y[87]!==en?(Z=()=>{var e,t;return e=ep,t=en,void(0,ed.FetchProtobuf)(em.node.method.use,(0,s.create)(em.use_reqSchema,{hash:t})).then(async({error:a})=>{void 0!==a?e.Error(`change node failed, ${a.code}| ${a.msg}`):e.Info(`Change Node To ${t} Successful`)})},Y[86]=ep,Y[87]=en,Y[88]=Z):Z=Y[88],Y[89]===Symbol.for("react.memo_cache_sentinel")?(J=(0,r.jsx)("i",{className:"bi bi-check2-circle me-2"}),Y[89]=J):J=Y[89],Y[90]!==Z?(q=(0,r.jsxs)(Q.Button,{variant:"primary",size:"sm",onClick:Z,children:[J," Use Node"]}),Y[90]=Z,Y[91]=q):q=Y[91],Y[92]!==B||Y[93]!==R||Y[94]!==q?(H=(0,r.jsxs)("div",{className:eh.default.actionFooter,children:[B,R,q]}),Y[92]=B,Y[93]=R,Y[94]=q,Y[95]=H):H=Y[95],Y[96]!==C||Y[97]!==I||Y[98]!==H?(G=(0,r.jsxs)(z.Body,{className:"p-4 pt-0",children:[j,C,I,H]}),Y[96]=C,Y[97]=I,Y[98]=H,Y[99]=G):G=Y[99],Y[100]!==en||Y[101]!==S||Y[102]!==G?(M=(0,r.jsxs)(z.Item,{eventKey:en,className:eh.default.accordionItem,children:[S,G]}),Y[100]=en,Y[101]=S,Y[102]=G,Y[103]=M):M=Y[103],M},eE=e=>{let t,a,n,s,l,i,u,p,m,f,g,h=(0,o.c)(27),y=(0,k.useContext)(eu.GlobalToastContext);h[0]===Symbol.for("react.memo_cache_sentinel")?(t={data:""},h[0]=t):t=h[0];let[v,b]=(0,k.useState)(t);h[1]!==y||h[2]!==v||h[3]!==e?(a=()=>e.onSave?(0,r.jsx)(Q.Button,{variant:"outline-primary",onClick:()=>{var t;let a=function(e,t,a){let n=(0,c.reflect)(e);try{j(n,t,a?Object.assign(Object.assign({},S),a):S)}catch(e){if((0,d.isFieldError)(e))throw Error(`cannot decode ${e.field()} from JSON: ${e.message}`,{cause:e});throw e}return n.message}(t=eg.pointSchema,function(e,t){try{return JSON.parse(e)}catch(a){let e=a instanceof Error?a.message:String(a);throw Error(`cannot decode message ${t} from JSON: ${e}`,{cause:a})}}(v.data,t.typeName),void 0);e.isNew&&(a.hash=""),(0,ed.FetchProtobuf)(em.node.method.save,a).then(async t=>{let{error:a}=t;void 0===a?(y.Info("save successful"),void 0!==e.onSave&&e.onSave()):y.Error(a.msg)})},children:"Save"}):(0,r.jsx)(r.Fragment,{}),h[1]=y,h[2]=v,h[3]=e,h[4]=a):a=h[4];let N=a;h[5]!==e?(n=()=>{e.onHide()},h[5]=e,h[6]=n):n=h[6],h[7]!==e.plaintext?(s=!e.plaintext&&(0,r.jsx)(er.Modal.Header,{closeButton:!0,children:(0,r.jsx)(er.Modal.Title,{id:"contained-modal-title-vcenter",children:"Import JSON"})}),h[7]=e.plaintext,h[8]=s):s=h[8];let x=e.data?e.data:v.data;return h[9]===Symbol.for("react.memo_cache_sentinel")?(l={height:"65vh",fontFamily:"monospace"},i=e=>{b({data:e.target.value})},h[9]=l,h[10]=i):(l=h[9],i=h[10]),h[11]!==e.plaintext||h[12]!==x?(u=(0,r.jsx)(er.Modal.Body,{children:(0,r.jsx)(en.Form.Control,{as:"textarea",readOnly:e.plaintext,value:x,style:l,onChange:i})}),h[11]=e.plaintext,h[12]=x,h[13]=u):u=h[13],h[14]!==e?(p=(0,r.jsx)(Q.Button,{variant:"outline-secondary",onClick:()=>{e.onHide()},children:"Close"}),h[14]=e,h[15]=p):p=h[15],h[16]!==N?(m=(0,r.jsx)(N,{}),h[16]=N,h[17]=m):m=h[17],h[18]!==p||h[19]!==m?(f=(0,r.jsxs)(er.Modal.Footer,{children:[p,m]}),h[18]=p,h[19]=m,h[20]=f):f=h[20],h[21]!==e.show||h[22]!==f||h[23]!==n||h[24]!==s||h[25]!==u?(g=(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(er.Modal,{show:e.show,"aria-labelledby":"contained-modal-title-vcenter",size:"xl",onHide:n,centered:!0,children:[s,u,f]})}),h[21]=e.show,h[22]=f,h[23]=n,h[24]=s,h[25]=u,h[26]=g):g=h[26],g};e.s(["NodeJsonModal",0,eE,"default",0,function(){let e,t,a,n,l,i,c,d,u,p,m,f,g,h,y,v,b,N,x,_,S,j,w,A,E=(0,o.c)(66),T=(0,k.useContext)(eu.GlobalToastContext),[$,C]=(0,k.useState)(-1);E[0]===Symbol.for("react.memo_cache_sentinel")?(e=new eN,E[0]=e):e=E[0];let[I,L]=(0,k.useState)(e);E[1]===Symbol.for("react.memo_cache_sentinel")?(t={data:!1},E[1]=t):t=E[1];let[W,D]=(0,k.useState)(t),[U]=(0,es.useLocalStorage)(el.LatencyHTTPUrlKey,el.LatencyHTTPUrlDefault),[O]=(0,es.useLocalStorage)(el.LatencyDNSUrlKey,el.LatencyDNSUrlDefault);(0,es.useLocalStorage)(el.LatencyIPv6Key,el.LatencyIPv6Default);let[P]=(0,es.useLocalStorage)(el.LatencyIPUrlKey,el.LatencyIPUrlDefault),[B]=(0,es.useLocalStorage)(el.LatencyStunUrlKey,el.LatencyStunUrlDefault),[K]=(0,es.useLocalStorage)(el.LatencyStunTCPUrlKey,el.LatencyStunTCPUrlDefault),{data:R,error:Z,isLoading:J,mutate:q}=(0,ed.useProtoSWR)(em.node.method.list);if(void 0!==Z){let e;return E[2]!==Z.code||E[3]!==Z.msg?(e=(0,r.jsx)(F.default,{statusCode:Z.code,title:Z.msg}),E[2]=Z.code,E[3]=Z.msg,E[4]=e):e=E[4],e}if(J||void 0===R){let e;return E[5]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(ei.default,{}),E[5]=e):e=E[5],e}E[6]!==T||E[7]!==q?(a=e=>{L({hash:e,show:!0,onDelete:()=>{(0,ed.FetchProtobuf)(em.node.method.remove,(0,s.create)(V.StringValueSchema,{value:e})).then(async t=>{let{error:a}=t;void 0!==a?T.Error(`Delete Node ${e} Failed ${a.code}| ${a.msg}`):(T.Info(`Delete Node ${e} Successful.`),q())})}})},E[6]=T,E[7]=q,E[8]=a):a=E[8];let H=a;E[9]!==R?(n=new ec.Nodes(R),E[9]=R,E[10]=n):n=E[10];let G=I.show,M=I.hash,Y=I.point,X=I.isNew,ea=I.onDelete;E[11]!==I?(l=()=>L({...I,show:!1}),E[11]=I,E[12]=l):l=E[12],E[13]!==q?(i=()=>q(),E[13]=q,E[14]=i):i=E[14],E[15]!==R.groups?(c=R.groups.map(e_),E[15]=R.groups,E[16]=c):c=E[16],E[17]!==I.hash||E[18]!==I.isNew||E[19]!==I.onDelete||E[20]!==I.point||E[21]!==I.show||E[22]!==i||E[23]!==c||E[24]!==l?(d=(0,r.jsx)(ep.NodeModal,{show:G,hash:M,point:Y,isNew:X,onDelete:ea,editable:!0,onHide:l,onSave:i,groups:c}),E[17]=I.hash,E[18]=I.isNew,E[19]=I.onDelete,E[20]=I.point,E[21]=I.show,E[22]=i,E[23]=c,E[24]=l,E[25]=d):d=E[25],E[26]!==q?(u=()=>q(),E[26]=q,E[27]=u):u=E[27],E[28]===Symbol.for("react.memo_cache_sentinel")?(p=()=>D({data:!1}),E[28]=p):p=E[28],E[29]!==W.data||E[30]!==u?(m=(0,r.jsx)(eE,{show:W.data,onSave:u,onHide:p,isNew:!0}),E[29]=W.data,E[30]=u,E[31]=m):m=E[31],E[32]!==d||E[33]!==m||E[34]!==n?(f=(0,r.jsxs)(ec.NodesContext,{value:n,children:[d,m]}),E[32]=d,E[33]=m,E[34]=n,E[35]=f):f=E[35],E[36]===Symbol.for("react.memo_cache_sentinel")?(g=e=>{let t=Number(e);isNaN(t)||C(t)},E[36]=g):g=E[36];let en=$>=0&&R.groups.length>$?R.groups[$].name:"GROUP";return E[37]!==en?(h=(0,r.jsx)(et.Dropdown.Toggle,{variant:"outline-primary",children:en}),E[37]=en,E[38]=h):h=E[38],E[39]===Symbol.for("react.memo_cache_sentinel")?(y=(0,r.jsx)(et.Dropdown.Item,{className:eh.default.dropdownItem,eventKey:-1,children:"Select..."}),E[39]=y):y=E[39],E[40]!==R.groups?(v=R.groups?.map(ex),E[40]=R.groups,E[41]=v):v=E[41],E[42]!==v?(b=(0,r.jsxs)(et.Dropdown.Menu,{className:eh.default.dropdownMenu,children:[y,v]}),E[42]=v,E[43]=b):b=E[43],E[44]!==h||E[45]!==b?(N=(0,r.jsxs)(et.Dropdown,{onSelect:g,children:[h,b]}),E[44]=h,E[45]=b,E[46]=N):N=E[46],E[47]===Symbol.for("react.memo_cache_sentinel")?(x=(0,r.jsxs)(Q.Button,{variant:"outline-primary",onClick:()=>{L({point:(0,s.create)(eg.pointSchema,{group:"template_group",name:"template_name",origin:eg.origin.manual}),hash:"new node",show:!0,onDelete:void 0,isNew:!0})},children:[(0,r.jsx)("i",{className:"bi bi-plus-lg"})," New"]}),E[47]=x):x=E[47],E[48]===Symbol.for("react.memo_cache_sentinel")?(_=(0,r.jsxs)(ee.ButtonGroup,{children:[x,(0,r.jsxs)(Q.Button,{variant:"outline-primary",onClick:()=>D({data:!0}),children:[(0,r.jsx)("i",{className:"bi bi-box-arrow-in-down"})," Import"]})]}),E[48]=_):_=E[48],E[49]!==N?(S=(0,r.jsx)("div",{className:eh.default.pageHeader,children:(0,r.jsxs)("div",{className:eh.default.headerActions,children:[N,_]})}),E[49]=N,E[50]=S):S=E[50],E[51]!==R.groups||E[52]!==$||E[53]!==O||E[54]!==U||E[55]!==P||E[56]!==K||E[57]!==B||E[58]!==H?(j=$>=0&&R.groups.length>$&&R.groups[$].nodes.length>0?R.groups[$].nodes.map(e=>(0,r.jsx)(eA,{hash:e.hash,name:e.name,onClickEdit:()=>{H(e.hash)},urls:{ip:P,tcp:U,udp:O,stun:B,stunTCP:K}},e.hash)):(0,r.jsx)("div",{className:"text-center text-secondary py-3",children:-1===$?"Please select a group to display nodes":"Current group has no nodes"}),E[51]=R.groups,E[52]=$,E[53]=O,E[54]=U,E[55]=P,E[56]=K,E[57]=B,E[58]=H,E[59]=j):j=E[59],E[60]!==j?(w=(0,r.jsx)(z,{className:eh.default.accordion,alwaysOpen:!0,id:"connections",children:j}),E[60]=j,E[61]=w):w=E[61],E[62]!==f||E[63]!==S||E[64]!==w?(A=(0,r.jsxs)(r.Fragment,{children:[f,S,w]}),E[62]=f,E[63]=S,E[64]=w,E[65]=A):A=E[65],A}],7713)}]);