(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95494,e=>{"use strict";var n=e.i(43476),t=e.i(932),s=e.i(45535),l=e.i(5260);e.s(["ConfirmModal",0,e=>{let a,r,o,i,c,m=(0,t.c)(15),{onOk:d,content:h,show:u,onHide:x}=e;return m[0]!==h?(a=(0,n.jsx)(l.Modal.Body,{children:h}),m[0]=h,m[1]=a):a=m[1],m[2]!==x?(r=(0,n.jsx)(s.Button,{variant:"outline-secondary",onClick:()=>{x()},children:"Cancel"}),m[2]=x,m[3]=r):r=m[3],m[4]!==x||m[5]!==d?(o=(0,n.jsx)(s.Button,{variant:"outline-danger",onClick:()=>{d(),x()},children:"OK"}),m[4]=x,m[5]=d,m[6]=o):o=m[6],m[7]!==r||m[8]!==o?(i=(0,n.jsxs)(l.Modal.Footer,{children:[r,o]}),m[7]=r,m[8]=o,m[9]=i):i=m[9],m[10]!==x||m[11]!==u||m[12]!==a||m[13]!==i?(c=(0,n.jsxs)(l.Modal,{show:u,onHide:x,centered:!0,children:[a,i]}),m[10]=x,m[11]=u,m[12]=a,m[13]=i,m[14]=c):c=m[14],c}])},27092,e=>{"use strict";var n=e.i(43476),t=e.i(932),s=e.i(29707),l=e.i(91287),a=e.i(71645),r=e.i(45535),o=e.i(5260),i=e.i(59852),c=e.i(15090),m=e.i(95494),d=e.i(66702),h=e.i(69064),u=e.i(70436),x=e.i(39848),b=e.i(41703),p=e.i(81362);let f=e=>{let l,a,o,c,m,d,h,u,x,b,p,f,j,y,S,_=(0,t.c)(28),{linkData:g,isUpdating:v,onUpdate:k,onDelete:C}=e;return _[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,n.jsx)(s.IconBoxRounded,{icon:"rss-fill",color:"#0d6efd",style:{width:"40px",height:"40px",border:"none",marginRight:"0px"}}),_[0]=l):l=_[0],_[1]===Symbol.for("react.memo_cache_sentinel")?(a={minWidth:0},_[1]=a):a=_[1],_[2]!==g.name?(o=(0,n.jsx)("span",{className:"fw-bold text-truncate",children:g.name}),_[2]=g.name,_[3]=o):o=_[3],_[4]!==g.url?(c=(0,n.jsx)("small",{className:"text-muted text-truncate font-monospace opacity-75",children:g.url}),_[4]=g.url,_[5]=c):c=_[5],_[6]!==o||_[7]!==c?(m=(0,n.jsxs)("div",{className:"d-flex align-items-center flex-grow-1 overflow-hidden gap-3",children:[l,(0,n.jsxs)("div",{className:"d-flex flex-column overflow-hidden",style:a,children:[o,c]})]}),_[6]=o,_[7]=c,_[8]=m):m=_[8],_[9]===Symbol.for("react.memo_cache_sentinel")?(d={minWidth:"38px"},_[9]=d):d=_[9],_[10]!==v?(h=v?(0,n.jsx)(i.Spinner,{size:"sm",animation:"border"}):(0,n.jsx)("i",{className:"bi bi-arrow-repeat"}),_[10]=v,_[11]=h):h=_[11],_[12]===Symbol.for("react.memo_cache_sentinel")?(u=(0,n.jsx)("span",{className:"d-none d-sm-inline ms-2",children:"Update"}),_[12]=u):u=_[12],_[13]!==v||_[14]!==k||_[15]!==h?(x=(0,n.jsxs)(r.Button,{variant:"outline-primary",size:"sm",onClick:k,disabled:v,title:"Update Subscription",style:d,children:[h,u]}),_[13]=v,_[14]=k,_[15]=h,_[16]=x):x=_[16],_[17]===Symbol.for("react.memo_cache_sentinel")?(b={minWidth:"38px"},p=(0,n.jsx)("i",{className:"bi bi-trash"}),f=(0,n.jsx)("span",{className:"d-none d-sm-inline ms-2",children:"Delete"}),_[17]=b,_[18]=p,_[19]=f):(b=_[17],p=_[18],f=_[19]),_[20]!==C?(j=(0,n.jsxs)(r.Button,{variant:"outline-danger",size:"sm",onClick:C,title:"Delete Subscription",style:b,children:[p,f]}),_[20]=C,_[21]=j):j=_[21],_[22]!==j||_[23]!==x?(y=(0,n.jsxs)("div",{className:"d-flex gap-2 ms-3 align-items-center flex-shrink-0 text-nowrap",children:[x,j]}),_[22]=j,_[23]=x,_[24]=y):y=_[24],_[25]!==y||_[26]!==m?(S=(0,n.jsxs)(n.Fragment,{children:[m,y]}),_[25]=y,_[26]=m,_[27]=S):S=_[27],S},j=e=>{let i,c,m,d,u,x,b,f,j,y,S,_,g,v=(0,t.c)(33),{show:k,onHide:C,onSave:w}=e;v[0]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.create)(p.linkSchema,{name:"",url:"",type:p.type.reserve}),v[0]=i):i=v[0];let[N,B]=(0,a.useState)(i);v[1]!==N||v[2]!==C||v[3]!==w?(c=()=>{N.name&&N.url&&(w(N),B((0,l.create)(p.linkSchema,{name:"",url:"",type:p.type.reserve})),C())},v[1]=N,v[2]=C,v[3]=w,v[4]=c):c=v[4];let M=c;v[5]===Symbol.for("react.memo_cache_sentinel")?(m=(0,n.jsx)(o.Modal.Header,{closeButton:!0,className:"border-bottom-0 pb-0",children:(0,n.jsx)(o.Modal.Title,{className:"fw-bold",children:"Add Subscription"})}),v[5]=m):m=v[5],v[6]!==N?(d=e=>B({...N,name:e}),v[6]=N,v[7]=d):d=v[7],v[8]!==N.name||v[9]!==d?(u=(0,n.jsx)(h.SettingInputVertical,{label:"Name",value:N.name,placeholder:"e.g., My Server",onChange:d}),v[8]=N.name,v[9]=d,v[10]=u):u=v[10],v[11]!==N?(x=e=>B({...N,url:e}),v[11]=N,v[12]=x):x=v[12],v[13]!==N.url||v[14]!==x?(b=(0,n.jsx)(h.SettingInputVertical,{label:"Subscription URL",value:N.url,placeholder:"https://example.com/sub/...",onChange:x}),v[13]=N.url,v[14]=x,v[15]=b):b=v[15],v[16]!==u||v[17]!==b?(f=(0,n.jsx)(o.Modal.Body,{className:"pt-2",children:(0,n.jsx)(s.SettingsBox,{children:(0,n.jsxs)("div",{className:"d-flex flex-column gap-3",children:[u,b]})})}),v[16]=u,v[17]=b,v[18]=f):f=v[18],v[19]!==C?(j=(0,n.jsx)(r.Button,{variant:"outline-secondary",onClick:C,children:"Cancel"}),v[19]=C,v[20]=j):j=v[20];let U=!N.name||!N.url;return v[21]===Symbol.for("react.memo_cache_sentinel")?(y=(0,n.jsx)("i",{className:"bi bi-plus-lg me-1"}),v[21]=y):y=v[21],v[22]!==M||v[23]!==U?(S=(0,n.jsxs)(r.Button,{variant:"primary",onClick:M,disabled:U,children:[y," Add"]}),v[22]=M,v[23]=U,v[24]=S):S=v[24],v[25]!==S||v[26]!==j?(_=(0,n.jsxs)(o.Modal.Footer,{children:[j,S]}),v[25]=S,v[26]=j,v[27]=_):_=v[27],v[28]!==C||v[29]!==k||v[30]!==_||v[31]!==f?(g=(0,n.jsxs)(o.Modal,{show:k,onHide:C,centered:!0,children:[m,f,_]}),v[28]=C,v[29]=k,v[30]=_,v[31]=f,v[32]=g):g=v[32],g};function y(e,n){return e[0].localeCompare(n[0])}e.s(["default",0,function(){let e,o,i,h,p,S,_,g,v,k,C,w,N,B,M,U,F,$,A,I=(0,t.c)(46),P=(0,a.useContext)(u.GlobalToastContext),{data:R,error:T,isLoading:H,mutate:O}=(0,x.useProtoSWR)(b.subscribe.method.get);I[0]===Symbol.for("react.memo_cache_sentinel")?(e={},I[0]=e):e=I[0];let[z,D]=(0,a.useState)(e),[E,W]=(0,a.useState)(!1);I[1]===Symbol.for("react.memo_cache_sentinel")?(o={show:!1,name:""},I[1]=o):o=I[1];let[q,K]=(0,a.useState)(o);I[2]===Symbol.for("react.memo_cache_sentinel")?(i={usePromptAsFallback:!0},I[2]=i):i=I[2];let{copy:L}=(0,c.useClipboard)(i);if(void 0!==T){let e;return I[3]!==T.code||I[4]!==T.msg?(e=(0,n.jsx)(d.Error,{statusCode:T.code,title:T.msg}),I[3]=T.code,I[4]=T.msg,I[5]=e):e=I[5],e}if(H||void 0===R){let e;return I[6]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(d.default,{}),I[6]=e):e=I[6],e}I[7]!==P?(h=e=>{D(n=>({...n,[e]:!0})),(0,x.FetchProtobuf)(b.subscribe.method.update,(0,l.create)(b.link_reqSchema,{names:[e]})).then(async n=>{let{error:t}=n;void 0!==t?P.Error(`Update failed ${t.code}| ${t.msg}`):P.Info("Update successfully"),D(n=>({...n,[e]:!1}))})},I[7]=P,I[8]=h):h=I[8];let V=h;I[9]!==P||I[10]!==O?(p=e=>{(0,x.FetchProtobuf)(b.subscribe.method.remove,(0,l.create)(b.link_reqSchema,{names:[e]})).then(async n=>{let{error:t}=n;void 0!==t?P.Error(`delete ${e} failed, ${t.code}| ${t.msg}`):O()})},I[9]=P,I[10]=O,I[11]=p):p=I[11];let G=p;I[12]!==P||I[13]!==O?(S=e=>{(0,x.FetchProtobuf)(b.subscribe.method.save,(0,l.create)(b.save_link_reqSchema,{links:[e]})).then(async n=>{let{error:t}=n;void 0!==t?P.Error(`save link ${e.url} failed, ${t.code}| ${t.msg}`):O()})},I[12]=P,I[13]=O,I[14]=S):S=I[14];let J=S;return I[15]!==q.name?(_=(0,n.jsxs)("p",{children:["Are you sure you want to remove subscription ",(0,n.jsx)("strong",{children:q.name}),"?"]}),I[15]=q.name,I[16]=_):_=I[16],I[17]!==q.name||I[18]!==G?(g=()=>{G(q.name),K({show:!1,name:""})},I[17]=q.name,I[18]=G,I[19]=g):g=I[19],I[20]===Symbol.for("react.memo_cache_sentinel")?(v=()=>K({show:!1,name:""}),I[20]=v):v=I[20],I[21]!==q.show||I[22]!==_||I[23]!==g?(k=(0,n.jsx)(m.ConfirmModal,{show:q.show,content:_,onOk:g,onHide:v}),I[21]=q.show,I[22]=_,I[23]=g,I[24]=k):k=I[24],I[25]===Symbol.for("react.memo_cache_sentinel")?(C=()=>W(!1),I[25]=C):C=I[25],I[26]!==J||I[27]!==E?(w=(0,n.jsx)(j,{show:E,onHide:C,onSave:J}),I[26]=J,I[27]=E,I[28]=w):w=I[28],I[29]!==R.links?(N=Object.entries(R.links).sort(y),I[29]=R.links,I[30]=N):N=I[30],I[31]!==L?(B=e=>{let[,n]=e;return L(n.url)},I[31]=L,I[32]=B):B=I[32],I[33]!==V||I[34]!==z?(M=e=>{let[t,s]=e;return(0,n.jsx)(f,{linkData:s,isUpdating:!!z[s.name],onUpdate:()=>V(s.name),onDelete:()=>K({show:!0,name:s.name})},t)},I[33]=V,I[34]=z,I[35]=M):M=I[35],I[36]===Symbol.for("react.memo_cache_sentinel")?(U=(0,n.jsxs)("div",{className:"d-flex align-items-center",children:[(0,n.jsx)(s.IconBox,{icon:"cloud-download",color:"#0ea5e9"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h5",{className:"mb-0 fw-bold",children:"Subscriptions"}),(0,n.jsx)("small",{className:"text-muted",children:"Manage remote configuration links"})]})]}),I[36]=U):U=I[36],I[37]===Symbol.for("react.memo_cache_sentinel")?(F=(0,n.jsxs)(n.Fragment,{children:[U,(0,n.jsxs)(r.Button,{variant:"primary",size:"sm",onClick:()=>W(!0),children:[(0,n.jsx)("i",{className:"bi bi-plus-lg me-1"})," Add"]})]}),I[37]=F):F=I[37],I[38]!==N||I[39]!==B||I[40]!==M?($=(0,n.jsx)(s.CardList,{items:N,onClickItem:B,renderListItem:M,header:F}),I[38]=N,I[39]=B,I[40]=M,I[41]=$):$=I[41],I[42]!==w||I[43]!==$||I[44]!==k?(A=(0,n.jsxs)(s.MainContainer,{children:[k,w,$]}),I[42]=w,I[43]=$,I[44]=k,I[45]=A):A=I[45],A}])}]);