"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2592],{17440:(e,s,a)=>{a.d(s,{D:()=>r});var n=a(47319),o=a(12115),t=a(55174);let r=(0,o.createContext)((0,n.v)(t.X2,{}))},92592:(e,s,a)=>{a.r(s),a.d(s,{Set:()=>g});var n=a(95155),o=a(47319),t=a(12115),r=a(18403),l=a(65117),d=a(87869),h=a(36999),i=a(17440),c=a(30281),u=a(6169);let g=e=>{let{value:s,onChange:a}=e,d=(0,t.useContext)(i.D),[h,g]=(0,t.useState)({show:!1,hash:"",onSave:()=>{}});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x,{show:h.show,hash:h.hash,nodes:d,onHide:()=>{g(e=>({...e,show:!1}))},onChange:e=>{g(s=>({...s,hash:e}))},onSave:()=>{h.onSave(h.hash),g(e=>({...e,show:!1}))}}),(0,n.jsx)(c.Vx,{label:"Mode",type:u.pm,value:s.strategy,onChange:e=>a({...s,strategy:e})}),(0,n.jsxs)(r.A,{variant:"flush",children:[s.nodes.map((e,t)=>(0,n.jsxs)(r.A.Item,{action:!0,className:"align-items-center d-flex justify-content-between",style:{border:"0ch",borderBottom:"1px solid #dee2e6"},onClick:()=>{g({show:!0,hash:e,onSave:e=>{let n=[...s.nodes];n[t]=e,a((0,o.v)(u.gP,{nodes:n}))}})},children:[e," - ",p(e,d).node,(0,n.jsx)(l.A,{variant:"outline-danger",as:"span",size:"sm",onClick:e=>{e.stopPropagation();let n=[...s.nodes];n.splice(t,1),a((0,o.v)(u.gP,{nodes:n}))},children:(0,n.jsx)("i",{className:"bi-trash"})})]},t)),(0,n.jsx)(r.A.Item,{className:"d-sm-flex",children:(0,n.jsxs)(l.A,{variant:"outline-success",className:"flex-grow-1",onClick:()=>{g({show:!0,hash:"",onSave:e=>{s.nodes.includes(e)||a((0,o.v)(u.gP,{nodes:[...s.nodes,e]}))}})},children:[(0,n.jsx)("i",{className:"bi bi-plus-lg"}),"Add"]})})]})]})},p=(e,s)=>{if(void 0===s||""===e)return{group:"",node:""};for(let a in s.groups)for(let n in s.groups[a].nodesV2)if(s.groups[a].nodesV2[n]===e)return{group:a,node:n};return{group:"",node:""}},x=e=>{let{show:s,hash:a,nodes:o,onHide:t,onChange:r,onSave:h}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(d.A,{show:s,onHide:()=>{t()},centered:!0,children:[(0,n.jsx)(d.A.Body,{children:(0,n.jsx)(j,{data:o,hash:a,onChangeNode:e=>{r(e)}})}),(0,n.jsxs)(d.A.Footer,{children:[(0,n.jsx)(l.A,{variant:"outline-secondary",onClick:()=>{t()},children:"Cancel"}),(0,n.jsx)(l.A,{variant:"outline-primary",onClick:()=>{h()},children:"Apply"})]})]})})},j=e=>{var s,a;let[o,r]=(0,t.useState)({data:p(e.hash,e.data)});return(0,t.useEffect)(()=>{e.hash&&r({data:p(e.hash,e.data)})},[e.hash,e.data]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.A,{label:"Group",className:"mb-2",children:(0,n.jsx)(c.FX,{emptyChoose:!0,value:o.data.group,onChange:e=>{r({data:{group:e,node:""}})},values:Object.keys(e.data?e.data.groups:{}).sort((e,s)=>e<=s?-1:1)})}),(0,n.jsx)(h.A,{label:"Node",children:(0,n.jsx)(c.FX,{emptyChoose:!0,value:e.hash,onChange:s=>{e.onChangeNode(s)},values:Object.entries(e.data&&null!=(a=null==(s=e.data.groups[o.data.group])?void 0:s.nodesV2)?a:{}).sort((e,s)=>e<=s?-1:1)})})]})}}}]);