"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4701,7622,9020],{49020:(e,a,n)=>{n.r(a),n.d(a,{TLSServerComponents:()=>d,UnWrapTls:()=>C});var s=n(95155),t=n(20960),r=n(12115),l=n(76355),o=n(60902),i=n(98347),c=n(98054),h=n(13697),u=n(32410);let d=e=>{var a,n;let[d,C]=(0,r.useState)("www.example.com");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.e9,{title:"Next Protos",className:"mb-2",data:null!=(n=null==(a=e.tls)?void 0:a.nextProtos)?n:[],onChange:a=>e.onChange({...e.tls,nextProtos:a})}),e.tls&&e.tls.certificates.map((a,n)=>(0,s.jsx)(l.A,{className:"mb-2",children:(0,s.jsxs)(l.A.Body,{children:[(0,s.jsx)(l.A.Title,{className:"d-flex justify-content-end align-items-center",children:(0,s.jsx)(o.A,{variant:"outline-danger",onClick:()=>e.onChange({...e.tls,certificates:e.tls.certificates.filter((e,a)=>a!==n)}),children:(0,s.jsx)("i",{className:"bi bi-x-lg"})})}),(0,s.jsx)(g,{cert:(0,t.v)(u.f6,a),onChange:a=>{e.onChange({...e.tls,certificates:[...e.tls.certificates.slice(0,n),a,...e.tls.certificates.slice(n+1)]})}})]})},"tls_certificates"+n)),(0,s.jsx)(i.A,{className:"d-flex justify-content-end mb-2",children:(0,s.jsxs)(o.A,{variant:"outline-success",onClick:()=>e.onChange({...e.tls,certificates:[...e.tls.certificates,(0,t.v)(u.f6,{cert:new Uint8Array(0),key:new Uint8Array(0),certFilePath:"",keyFilePath:""})]}),children:[(0,s.jsx)("i",{className:"bi bi-plus-lg"}),"New Certificate"]})}),e.tls&&e.tls.serverNameCertificate&&Object.entries(e.tls.serverNameCertificate).map(a=>{let[n,r]=a;return(0,s.jsx)(l.A,{className:"mb-2",children:(0,s.jsxs)(l.A.Body,{children:[(0,s.jsxs)(l.A.Title,{className:"d-flex justify-content-between align-items-center",children:[n,(0,s.jsx)(o.A,{variant:"outline-danger",onClick:()=>{let a={...e.tls.serverNameCertificate};delete a[n],e.onChange({...e.tls,serverNameCertificate:a})},children:(0,s.jsx)("i",{className:"bi bi-x-lg"})})]}),(0,s.jsx)(g,{cert:(0,t.v)(u.f6,r),onChange:a=>{e.onChange({...e.tls,serverNameCertificate:{...e.tls.serverNameCertificate,[n]:a}})}})]})},"server_name_certificate"+n)}),(0,s.jsxs)(i.A,{className:"d-flex justify-content-end",children:[(0,s.jsx)(c.A.Control,{value:d,onChange:e=>C(e.target.value)}),(0,s.jsxs)(o.A,{variant:"outline-success",onClick:()=>{d&&e.onChange({...e.tls,serverNameCertificate:{...e.tls.serverNameCertificate,[d]:(0,t.v)(u.f6,{})}})},children:[(0,s.jsx)("i",{className:"bi bi-plus-lg"}),"New SNI Certificate"]})]})]})},C=e=>{let{value:a,onChange:n}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(d,{tls:a.tls,onChange:e=>n({...a,tls:e})})})},g=e=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.jU,{label:"Cert",value:new TextDecoder().decode(e.cert.cert),onChange:a=>e.onChange({...e.cert,cert:new TextEncoder().encode(a)})}),(0,s.jsx)(h.jU,{label:"Key",value:new TextDecoder().decode(e.cert.key),onChange:a=>e.onChange({...e.cert,key:new TextEncoder().encode(a)})}),(0,s.jsx)(h.a9,{label:"Cert File",value:e.cert.certFilePath,onChange:a=>e.onChange({...e.cert,certFilePath:a})}),(0,s.jsx)(h.a9,{label:"Key File",value:e.cert.keyFilePath,onChange:a=>e.onChange({...e.cert,keyFilePath:a})})]})},57622:(e,a,n)=>{n.r(a),n.d(a,{TlsConfigv2:()=>o,Tlsv2:()=>l});var s=n(95155),t=n(92358),r=n(13697);let l=e=>(0,s.jsx)(o,{value:e.value,onChange:e.onChange}),o=e=>{let{value:a,onChange:n,showEnabled:l}=e;return(0,s.jsxs)(s.Fragment,{children:[(void 0===l||l)&&(0,s.jsx)(t.$d,{label:"TLS Enabled",checked:a.enable,onChange:()=>{n({...a,enable:!a.enable})}}),(0,s.jsx)(t.$d,{label:"InsecureSkipVerify",checked:a.insecureSkipVerify,onChange:()=>{n({...a,insecureSkipVerify:!a.insecureSkipVerify})}}),(0,s.jsx)(r.e9,{className:"mb-2",title:"ServerNames",data:a.serverNames,onChange:e=>{n({...a,serverNames:e})}}),(0,s.jsx)(r.e9,{className:"mb-2",title:"NextProtos",data:a.nextProtos,onChange:e=>{n({...a,nextProtos:e})}}),(0,s.jsx)(r.n4,{title:"CaCert",textarea:!0,data:a.caCert,onChange:e=>{n({...a,caCert:e})}}),(0,s.jsx)(r.a9,{label:"ECH Config List",value:a.echConfig?btoa(String.fromCharCode(...a.echConfig)):"",onChange:e=>{try{n({...a,echConfig:Uint8Array.from(Array.prototype.map.call(atob(e),e=>e.charCodeAt(0)))})}catch(e){i(e)}}})]})},i=e=>{}},84701:(e,a,n)=>{n.r(a),n.d(a,{HTTPComponents:()=>v,MixedComponents:()=>A,QuicComponents:()=>S,RealityComponents:()=>P,RedirComponents:()=>b,ReverseHTTPComponents:()=>j,ReverseTCPComponents:()=>y,Socks5Components:()=>N,TLSAutoComponents:()=>w,TProxyComponents:()=>f,TcpUdp:()=>T,TlsComponents:()=>F,TunComponents:()=>k,Yuubinsya:()=>E});var s=n(95155),t=n(20960),r=n(12115),l=n(60902),o=n(98054),i=n(11846),c=n(68136),h=n(98347),u=n(87906),d=n(92358),C=n(13697),g=n(57622),x=n(49020),p=n(2144),m=n(32410);let v=e=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C.a9,{label:"Username",value:e.http.username,onChange:a=>e.onChange({...e.http,username:a})}),(0,s.jsx)(C.a9,{label:"Password",value:e.http.password,onChange:a=>e.onChange({...e.http,password:a})})]}),j=e=>{var a;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C.a9,{label:"Url",value:e.reverse_http.url,onChange:a=>e.onChange({...e.reverse_http,url:a})}),(0,s.jsx)(g.TlsConfigv2,{value:null!=(a=e.reverse_http.tls)?a:(0,t.v)(m.Qi,{}),onChange:a=>{e.onChange({...e.reverse_http,tls:a})}})]})},y=e=>(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(C.a9,{label:"Host",value:e.reverse_tcp.host,onChange:a=>e.onChange({...e.reverse_tcp,host:a})})}),b=e=>(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(C.a9,{label:"Host",value:e.redir.host,onChange:a=>e.onChange({...e.redir,host:a})})}),f=e=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.$d,{label:"DNS Hijacking",checked:e.tproxy.dnsHijacking,onChange:()=>e.onChange({...e.tproxy,dnsHijacking:!e.tproxy.dnsHijacking})}),(0,s.jsx)(d.$d,{label:"Force Fake IP",checked:e.tproxy.forceFakeip,onChange:()=>e.onChange({...e.tproxy,forceFakeip:!e.tproxy.forceFakeip})}),(0,s.jsx)(C.a9,{label:"Host",value:e.tproxy.host,onChange:a=>e.onChange({...e.tproxy,host:a})})]}),N=e=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C.a9,{label:"Username",value:e.socks5.username,onChange:a=>e.onChange({...e.socks5,username:a})}),(0,s.jsx)(C.a9,{label:"Password",value:e.socks5.password,onChange:a=>e.onChange({...e.socks5,password:a})})]}),A=e=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C.a9,{label:"Username",value:e.mixed.username,onChange:a=>e.onChange({...e.mixed,username:a})}),(0,s.jsx)(C.a9,{label:"Password",value:e.mixed.password,onChange:a=>e.onChange({...e.mixed,password:a})})]}),k=e=>{var a,n;let[l,o]=(0,r.useState)((0,u.fj)(e.tun.postUp)),[i,c]=(0,r.useState)((0,u.fj)(e.tun.postDown));return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.$d,{checked:e.tun.skipMulticast,onChange:()=>e.onChange({...e.tun,skipMulticast:!e.tun.skipMulticast}),label:"Skip Multicast"}),(0,s.jsx)(C.a9,{label:"Name",value:e.tun.name,onChange:a=>e.onChange({...e.tun,name:a})}),(0,s.jsx)(C.a9,{label:"MTU",value:e.tun.mtu,onChange:a=>{isNaN(Number(a))||e.onChange({...e.tun,mtu:Number(a)})}}),(0,s.jsx)(C.a9,{label:"IPv4",value:e.tun.portal,onChange:a=>e.onChange({...e.tun,portal:a})}),(0,s.jsx)(C.a9,{label:"IPv6",value:e.tun.portalV6,onChange:a=>e.onChange({...e.tun,portalV6:a})}),(0,s.jsx)(C.a9,{label:"Post Up",value:l,onChange:a=>{o(a);try{let n=(0,u.lD)(a);e.onChange({...e.tun,postUp:n})}catch(e){console.log(e)}}}),(0,s.jsx)(C.a9,{label:"Post Down",value:i,onChange:a=>{c(a);try{let n=(0,u.lD)(a);e.onChange({...e.tun,postDown:n})}catch(e){console.log(e)}}}),(0,s.jsx)(d.Vx,{label:"Stack",type:p.mM,value:e.tun.driver,onChange:a=>e.onChange({...e.tun,driver:a})}),(0,s.jsx)(C.e9,{title:"Routes",data:null!=(n=null==(a=e.tun.route)?void 0:a.routes)?n:[],onChange:a=>{e.onChange({...e.tun,route:{...e.tun.route?e.tun.route:(0,t.v)(p.l,{}),routes:a||[]}})}})]})},w=e=>{var a,n,r,o,i;let{tls:c,onChange:h}=e,u=e=>{let a={...c};c.ech?a.ech={...c.ech}:a.ech=(0,t.v)(p.Jo,{}),e(a.ech),h({...a})};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C.e9,{title:"Next Protos",className:"mb-2",data:null!=(o=null==c?void 0:c.nextProtos)?o:[],onChange:e=>h({...c,nextProtos:e})}),(0,s.jsx)(C.e9,{title:"Servenames",className:"mb-2",data:null!=(i=null==c?void 0:c.servernames)?i:[],onChange:e=>h({...c,servernames:e})}),(0,s.jsx)(d.$d,{label:"ECH Enabled",checked:!!c.ech&&c.ech.enable,onChange:e=>u(a=>(a.enable=e,a))}),(null==(a=c.ech)?void 0:a.enable)&&(0,s.jsx)(C.a9,{label:"ECH Outer SNI",value:c.ech?c.ech.OuterSNI:"",onChange:e=>u(a=>(a.OuterSNI=e,a))}),(0,s.jsx)(C.jU,{label:"CA Cert",value:new TextDecoder().decode(c.caCert),readonly:!0}),(0,s.jsx)(C.jU,{label:"CA Key",value:new TextDecoder().decode(c.caKey),readonly:!0,password:!0}),(0,s.jsx)(C.a9,{label:"ECH Config",value:c.ech?btoa(String.fromCharCode(...null==(n=c.ech)?void 0:n.config)):"",readonly:!0}),(0,s.jsx)(C.a9,{label:"ECH Key",value:c.ech?btoa(String.fromCharCode(...null==(r=c.ech)?void 0:r.privateKey)):"",readonly:!0,password:!0}),(0,s.jsx)(l.A,{variant:"outline-danger",onClick:()=>h({...c,caCert:new TextEncoder().encode(""),caKey:new TextEncoder().encode(""),ech:{...c.ech,config:new Uint8Array(0),privateKey:new Uint8Array(0)}}),children:"regenerate"})]})},S=e=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C.a9,{label:"Host",onChange:a=>e.onChange({...e.quic,host:a}),value:e.quic.host}),(0,s.jsx)(x.TLSServerComponents,{tls:(0,t.v)(m.Gc,e.quic.tls?e.quic.tls:void 0),onChange:a=>e.onChange({...e.quic,tls:a})})]}),F=e=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C.a9,{plaintext:!0,label:"Protocol",value:"TLS"}),e.tls.tls&&(0,s.jsx)(x.TLSServerComponents,{tls:(0,t.v)(m.Gc,e.tls.tls),onChange:a=>e.onChange({...e.tls,tls:a})})]}),P=e=>{let[a,n]=(0,r.useState)({value:""}),[t,u]=(0,r.useState)({value:""});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C.a9,{plaintext:!0,label:"Protocol",value:"Reality"}),(0,s.jsx)(C.a9,{label:"Dest",value:e.reality.dest,onChange:a=>e.onChange({...e.reality,dest:a})}),(0,s.jsx)(C.a9,{label:"Private Key",value:e.reality.privateKey,onChange:a=>e.onChange({...e.reality,privateKey:a})}),(0,s.jsxs)(o.A.Group,{as:i.A,className:"mb-3",children:[(0,s.jsx)(o.A.Label,{column:!0,sm:2,className:"nowrap",children:"Short ID"}),e.reality.shortId.map((a,n)=>(0,s.jsx)(c.A,{sm:{span:10,offset:2*(0!==n)},children:(0,s.jsxs)(h.A,{className:"mb-2",children:[(0,s.jsx)(o.A.Control,{value:a,onChange:a=>e.onChange({...e.reality,shortId:[...e.reality.shortId.slice(0,n),a.target.value,...e.reality.shortId.slice(n+1)]})}),(0,s.jsx)(l.A,{variant:"outline-danger",onClick:()=>e.onChange({...e.reality,shortId:[...e.reality.shortId.slice(0,n),...e.reality.shortId.slice(n+1)]}),children:(0,s.jsx)("i",{className:"bi bi-x-lg"})})]})},n)),(0,s.jsx)(c.A,{sm:{span:10,offset:2*(0!==e.reality.shortId.length)},children:(0,s.jsxs)(h.A,{className:"mb-2",children:[(0,s.jsx)(o.A.Control,{value:a.value,onChange:e=>n({value:e.target.value})}),(0,s.jsx)(l.A,{variant:"outline-success",onClick:()=>e.onChange({...e.reality,shortId:[...e.reality.shortId,a.value]}),children:(0,s.jsx)("i",{className:"bi bi-plus-lg"})})]})})]}),(0,s.jsxs)(o.A.Group,{as:i.A,className:"mb-3",children:[(0,s.jsx)(o.A.Label,{column:!0,sm:2,className:"nowrap",children:"Server Name"}),e.reality.serverName.map((a,n)=>(0,s.jsx)(c.A,{sm:{span:10,offset:2*(0!==n)},children:(0,s.jsxs)(h.A,{className:"mb-2",children:[(0,s.jsx)(o.A.Control,{value:a,onChange:a=>e.onChange({...e.reality,serverName:[...e.reality.serverName.slice(0,n),a.target.value,...e.reality.serverName.slice(n+1)]})}),(0,s.jsx)(l.A,{variant:"outline-danger",onClick:()=>e.onChange({...e.reality,serverName:[...e.reality.serverName.slice(0,n),...e.reality.serverName.slice(n+1)]}),children:(0,s.jsx)("i",{className:"bi bi-x-lg"})})]})},n)),(0,s.jsx)(c.A,{sm:{span:10,offset:2*(0!==e.reality.serverName.length)},children:(0,s.jsxs)(h.A,{className:"mb-2",children:[(0,s.jsx)(o.A.Control,{value:t.value,onChange:e=>u({value:e.target.value})}),(0,s.jsx)(l.A,{variant:"outline-success",onClick:()=>e.onChange({...e.reality,serverName:[...e.reality.serverName,t.value]}),children:(0,s.jsx)("i",{className:"bi bi-plus-lg"})})]})})]})]})},E=e=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.$d,{label:"TCP Encrypt",checked:e.yuubinsya.tcpEncrypt,onChange:()=>{e.onChange({...e.yuubinsya,tcpEncrypt:!e.yuubinsya.tcpEncrypt})}}),(0,s.jsx)(d.$d,{label:"UDP Encrypt",checked:e.yuubinsya.udpEncrypt,onChange:()=>{e.onChange({...e.yuubinsya,udpEncrypt:!e.yuubinsya.udpEncrypt})}}),(0,s.jsx)(d.$d,{label:"UDP Coalesce",checked:e.yuubinsya.udpCoalesce,onChange:()=>{e.onChange({...e.yuubinsya,udpCoalesce:!e.yuubinsya.udpCoalesce})}}),(0,s.jsx)(C.a9,{label:"Password",value:e.yuubinsya.password,onChange:a=>{e.onChange({...e.yuubinsya,password:a})}})]}),T=e=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C.a9,{label:"Host",value:e.protocol.host,onChange:a=>{e.onChange({...e.protocol,host:a})}}),(0,s.jsx)(d.Vx,{label:"Control",type:p.JM,value:e.protocol.control,onChange:a=>{e.onChange({...e.protocol,control:a})}})]})},87906:(e,a)=>{class n{readChar(){return this.string.charAt(this.i++)}processEscapes(e,a,n){if(!n&&!this.escapedQuotes.includes(a))return e;let s="["+this.escapes.replace(/(.)/g,"\\$1")+"]";if(!n&&this.escapedQuotes.includes(a)){let n=RegExp(s+"("+s+"|\\"+a+")","g");return e.replace(n,"$1")}if(n){let a={"([\\\\'\"?])":e=>e,a:()=>"\x07",b:()=>"\b","e|E":()=>"\x1b",f:()=>"\f",n:()=>"\n",r:()=>"\r",t:()=>"	",v:()=>"\v","([0-7]{1,3})":e=>String.fromCharCode(parseInt(e,8)),"x([0-9a-fA-F]{1,2})":e=>String.fromCharCode(parseInt(e,16)),"u([0-9a-fA-F]{1,4})":e=>String.fromCharCode(parseInt(e,16)),"U([0-9a-fA-F]{1,8})":e=>String.fromCharCode(parseInt(e,16)),"c(.)":e=>"?"===e?"":"@"===e?"\0":String.fromCharCode(31&e.charCodeAt(0))},n=RegExp(s+"("+Object.keys(a).join("|")+")","g");return e.replace(n,function(e,n){for(let e in a){let s=RegExp("^"+e+"$").exec(n);if(null!==s)return a[e].apply(null,s.slice(1))}})}}*[Symbol.iterator](){let e,a=!1,n=!1,s=!1,t=-2;for(this.debug&&console.log("full input:",">"+this.string+"<");;){let r=this.i,l=this.readChar();if(this.debug&&console.log("position:",r,"input:",">"+l+"<","accumulated:",e,"inQuote:",a,"inDollarQuote:",n,"lastDollar:",t,"escaped:",s),""===l){if(a)throw Error("Got EOF while in a quoted string");if(s)throw Error("Got EOF while in an escape sequence");void 0!==e&&(yield e);return}if(s){"\n"===l||(e=a?(e||"")+s+l:(e||"")+l),s=!1;continue}if(this.escapes.includes(l)&&(!a||!1!==n||this.escapedQuotes.includes(a))){s=l;continue}if(!1!==a){if(l===a){e=this.processEscapes(e,a,"'"===n),a=!1,n=!1;continue}e=(e||"")+l;continue}if(this.quotes.includes(l)){a=l,t===r-1&&("'"!==l||this.ansiCQuotes)&&('"'!==l||this.localeQuotes)&&(n=l),e=e||"",!1!==n&&(e=e.slice(0,-1));continue}if(!1===a&&"$"===l&&(t=r),this.whitespace.includes(l)){void 0!==e&&(yield e),e=void 0;continue}e=(e||"")+l}}constructor(e){this.i=0,this.string=e,this.whitespace=" 	\r\n",this.quotes="'\"",this.escapes="\\",this.escapedQuotes='"',this.ansiCQuotes=!0,this.localeQuotes=!0,this.debug=!1}}a.lD=function(e){return Array.from(new n(e))},a.hD=function(e){return""===e?"''":/[^\w@%\-+=:,./]/.test(e)?("'"+e.replace(/('+)/g,"'\"$1\"'")+"'").replace(/^''|''$/g,""):e},a.fj=function(e){if(!Array.isArray(e))throw TypeError("args should be an array");return e.map(a.hD).join(" ")}}}]);