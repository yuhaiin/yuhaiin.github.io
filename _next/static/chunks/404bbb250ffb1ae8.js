(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,28106,e=>{e.v({clickable:"clickable-module__tzarnq__clickable"})},17616,44004,79088,e=>{"use strict";function s(e){var s;return new Date(1e3*Number((s=e).seconds)+Math.round(s.nanos/1e6))}e.i(32303),e.i(91287),e.i(14511),e.s(["timestampDate",()=>s],17616);var t=e.i(7670),i=e.i(71645),l=e.i(36333),a=e.i(43476);let r=i.forwardRef(({bsPrefix:e,className:s,striped:i,bordered:r,borderless:n,hover:c,size:d,variant:o,responsive:u,...h},m)=>{let p=(0,l.useBootstrapPrefix)(e,"table"),x=(0,t.default)(s,p,o&&`${p}-${o}`,d&&`${p}-${d}`,i&&`${p}-${"string"==typeof i?`striped-${i}`:"striped"}`,r&&`${p}-bordered`,n&&`${p}-borderless`,c&&`${p}-hover`),f=(0,a.jsx)("table",{...h,className:x,ref:m});if(u){let e=`${p}-responsive`;return"string"==typeof u&&(e=`${e}-${u}`),(0,a.jsx)("div",{className:e,children:f})}return f});r.displayName="Table",e.s(["Table",0,r],44004);var n=e.i(932),c=e.i(29732);let d=i.forwardRef(({active:e=!1,disabled:s=!1,className:i,style:l,activeLabel:r="(current)",children:n,linkStyle:d,linkClassName:o,as:u=c.default,...h},m)=>{let p=e||s?"span":u;return(0,a.jsx)("li",{ref:m,style:l,className:(0,t.default)(i,"page-item",{active:e,disabled:s}),children:(0,a.jsxs)(p,{className:(0,t.default)("page-link",o),style:d,...h,children:[n,e&&r&&(0,a.jsx)("span",{className:"visually-hidden",children:r})]})})});function o(e,s,t=e){let l=i.forwardRef(({children:e,...i},l)=>(0,a.jsxs)(d,{...i,ref:l,children:[(0,a.jsx)("span",{"aria-hidden":"true",children:e||s}),(0,a.jsx)("span",{className:"visually-hidden",children:t})]}));return l.displayName=e,l}d.displayName="PageItem";let u=o("First","«"),h=o("Prev","‹","Previous"),m=o("Ellipsis","…","More"),p=o("Next","›"),x=o("Last","»"),f=i.forwardRef(({bsPrefix:e,className:s,size:i,...r},n)=>{let c=(0,l.useBootstrapPrefix)(e,"pagination");return(0,a.jsx)("ul",{ref:n,...r,className:(0,t.default)(s,c,i&&`${c}-${i}`)})});f.displayName="Pagination";let j=Object.assign(f,{First:u,Prev:h,Ellipsis:m,Item:d,Next:p,Last:x});function b(e){let s,t,i,l,r,c,d,o=(0,n.c)(23),{currentPage:u,totalItems:h,pageSize:m,onPageChange:p}=e,x=Math.ceil(h/m);if(o[0]!==u||o[1]!==x){if(s=[],x<=7)for(let e=1;e<=x;e++)s.push(e);else if(u<=4){for(let e=1;e<=5;e++)s.push(e);s.push("ellipsis"),s.push(x)}else if(u>=x-2-1){s.push(1),s.push("ellipsis");for(let e=x-5+1;e<=x;e++)s.push(e)}else{s.push(1),s.push("ellipsis");for(let e=u-1;e<=u+1;e++)s.push(e);s.push("ellipsis"),s.push(x)}o[0]=u,o[1]=x,o[2]=s}else s=o[2];o[3]!==u||o[4]!==p?(t=()=>p(u-1),o[3]=u,o[4]=p,o[5]=t):t=o[5];let f=1===u;o[6]!==t||o[7]!==f?(i=(0,a.jsx)(j.Prev,{onClick:t,disabled:f}),o[6]=t,o[7]=f,o[8]=i):i=o[8],o[9]!==u||o[10]!==p||o[11]!==s?(l=s.map((e,s)=>"ellipsis"===e?(0,a.jsx)(j.Ellipsis,{disabled:!0},"e"+s):(0,a.jsx)(j.Item,{active:e===u,onClick:()=>p(e),children:e},e)),o[9]=u,o[10]=p,o[11]=s,o[12]=l):l=o[12],o[13]!==u||o[14]!==p?(r=()=>p(u+1),o[13]=u,o[14]=p,o[15]=r):r=o[15];let b=u===x;return o[16]!==r||o[17]!==b?(c=(0,a.jsx)(j.Next,{onClick:r,disabled:b}),o[16]=r,o[17]=b,o[18]=c):c=o[18],o[19]!==i||o[20]!==l||o[21]!==c?(d=(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)(j,{className:"justify-content-center d-inline-flex",children:[i,l,c]})}),o[19]=i,o[20]=l,o[21]=c,o[22]=d):d=o[22],d}e.s(["CustomPagination",()=>b],79088)},79610,e=>{"use strict";var s=e.i(43476),t=e.i(91287),i=e.i(17616),l=e.i(32303),a=e.i(71645),r=e.i(45535),n=e.i(59852),c=e.i(44004),d=e.i(28106),o=e.i(2893),u=e.i(79088),h=e.i(39848),m=e.i(89447);let p=(0,t.create)(l.TimestampSchema,{seconds:BigInt(0),nanos:0});e.s(["default",0,function(){let[e,t]=(0,a.useState)("Time"),[l,x]=(0,a.useState)(1),f=(0,a.useCallback)(function(e,s){return e>s?-1*l:+l},[l]),j=i=>(0,s.jsxs)("th",{className:d.default.clickable,onClick:()=>i===e?x(-l):t(i),children:[i,i===e?(0,s.jsx)("i",{className:-1===l?"bi bi-sort-up-alt":"bi bi-sort-down-alt"}):(0,s.jsx)(s.Fragment,{})]}),b=(0,a.useCallback)((s,t)=>"Host"===e?f(s.host,t.host):"Proc"===e?f(s.process,t.process):"Count"===e?f(s.blockCount,t.blockCount):f((0,i.timestampDate)(s.time??p),(0,i.timestampDate)(t.time??p)),[e,f]),[N,g]=(0,a.useState)(1),{data:v,error:P,isLoading:k,isValidating:C,mutate:y}=(0,h.useProtoSWR)(m.rules.method.block_history),$=(0,a.useMemo)(()=>v?.objects?.filter(e=>e.time).sort(b),[v,b]);return P?(0,s.jsx)(o.default,{code:P.code,children:P.msg}):k||void 0===v?(0,s.jsx)(o.default,{}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"d-flex justify-content-center",children:(0,s.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,s.jsxs)(r.Button,{variant:"outline-primary",className:"mb-3",onClick:()=>y(),disabled:C||k,children:[(0,s.jsx)("i",{className:"bi bi-arrow-clockwise"})," ",(C||k)&&(0,s.jsxs)(s.Fragment,{children:[" ",(0,s.jsx)(n.Spinner,{size:"sm",animation:"border"})]})]}),(0,s.jsx)(u.CustomPagination,{currentPage:N,totalItems:$.length,pageSize:30,onPageChange:e=>{g(e)}})]})}),(0,s.jsxs)(c.Table,{hover:!0,striped:!0,size:"sm",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Index"}),j("Time"),(0,s.jsx)("th",{children:"Net"}),j("Host"),j("Count"),v.dumpProcessEnabled&&j("Proc")]})}),(0,s.jsx)("tbody",{className:"text-break",children:$.slice((N-1)*30,(N-1)*30+30).map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:t+(N-1)*30+1}),(0,s.jsx)("td",{children:(0,i.timestampDate)(e.time).toLocaleString()}),(0,s.jsx)("td",{children:e.protocol}),(0,s.jsx)("td",{children:e.host}),(0,s.jsx)("td",{children:Number(e.blockCount)}),v.dumpProcessEnabled&&(0,s.jsx)("td",{children:e.process})]},"bh-"+t))})]})]})}])}]);