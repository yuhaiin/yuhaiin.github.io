(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87196,e=>{"use strict";var t=e.i(43476),a=e.i(932),r=e.i(91287),n=e.i(71645),c=e.i(45535),s=e.i(46219),i=e.i(78817),l=e.i(42716),o=e.i(812),h=e.i(13407);let x=e=>{let x,m,C,g,u,j,f,b,y,v,S,N,p,T,w,P=(0,a.c)(34),[I,F]=(0,n.useState)("www.example.com");return P[0]!==e.tls.nextProtos?(x=e.tls?.nextProtos??[],P[0]=e.tls.nextProtos,P[1]=x):x=P[1],P[2]!==e?(m=t=>e.onChange({...e.tls,nextProtos:t}),P[2]=e,P[3]=m):m=P[3],P[4]!==x||P[5]!==m?(C=(0,t.jsx)(o.NewItemList,{title:"Next Protos",className:"mb-2",data:x,onChange:m}),P[4]=x,P[5]=m,P[6]=C):C=P[6],P[7]!==e?(g=e.tls&&e.tls.certificates.map((a,n)=>(0,t.jsx)(s.Card,{className:"mb-2",children:(0,t.jsxs)(s.Card.Body,{children:[(0,t.jsx)(s.Card.Title,{className:"d-flex justify-content-end align-items-center",children:(0,t.jsx)(c.Button,{variant:"outline-danger",onClick:()=>e.onChange({...e.tls,certificates:e.tls.certificates.filter((e,t)=>t!==n)}),children:(0,t.jsx)("i",{className:"bi bi-x-lg"})})}),(0,t.jsx)(d,{cert:(0,r.create)(h.certificateSchema,a),onChange:t=>{e.onChange({...e.tls,certificates:[...e.tls.certificates.slice(0,n),t,...e.tls.certificates.slice(n+1)]})}})]})},"tls_certificates"+n)),P[7]=e,P[8]=g):g=P[8],P[9]!==e?(u=()=>e.onChange({...e.tls,certificates:[...e.tls.certificates,(0,r.create)(h.certificateSchema,{cert:new Uint8Array(0),key:new Uint8Array(0),certFilePath:"",keyFilePath:""})]}),P[9]=e,P[10]=u):u=P[10],P[11]===Symbol.for("react.memo_cache_sentinel")?(j=(0,t.jsx)("i",{className:"bi bi-plus-lg"}),P[11]=j):j=P[11],P[12]!==u?(f=(0,t.jsx)(l.InputGroup,{className:"d-flex justify-content-end mb-2",children:(0,t.jsxs)(c.Button,{variant:"outline-success",onClick:u,children:[j,"New Certificate"]})}),P[12]=u,P[13]=f):f=P[13],P[14]!==e?(b=e.tls&&e.tls.serverNameCertificate&&Object.entries(e.tls.serverNameCertificate).map(a=>{let[n,i]=a;return(0,t.jsx)(s.Card,{className:"mb-2",children:(0,t.jsxs)(s.Card.Body,{children:[(0,t.jsxs)(s.Card.Title,{className:"d-flex justify-content-between align-items-center",children:[n,(0,t.jsx)(c.Button,{variant:"outline-danger",onClick:()=>{let t={...e.tls.serverNameCertificate};delete t[n],e.onChange({...e.tls,serverNameCertificate:t})},children:(0,t.jsx)("i",{className:"bi bi-x-lg"})})]}),(0,t.jsx)(d,{cert:(0,r.create)(h.certificateSchema,i),onChange:t=>{e.onChange({...e.tls,serverNameCertificate:{...e.tls.serverNameCertificate,[n]:t}})}})]})},"server_name_certificate"+n)}),P[14]=e,P[15]=b):b=P[15],P[16]===Symbol.for("react.memo_cache_sentinel")?(y=e=>F(e.target.value),P[16]=y):y=P[16],P[17]!==I?(v=(0,t.jsx)(i.Form.Control,{value:I,onChange:y}),P[17]=I,P[18]=v):v=P[18],P[19]!==I||P[20]!==e?(S=()=>{I&&e.onChange({...e.tls,serverNameCertificate:{...e.tls.serverNameCertificate,[I]:(0,r.create)(h.certificateSchema,{})}})},P[19]=I,P[20]=e,P[21]=S):S=P[21],P[22]===Symbol.for("react.memo_cache_sentinel")?(N=(0,t.jsx)("i",{className:"bi bi-plus-lg"}),P[22]=N):N=P[22],P[23]!==S?(p=(0,t.jsxs)(c.Button,{variant:"outline-success",onClick:S,children:[N,"New SNI Certificate"]}),P[23]=S,P[24]=p):p=P[24],P[25]!==p||P[26]!==v?(T=(0,t.jsxs)(l.InputGroup,{className:"d-flex justify-content-end",children:[v,p]}),P[25]=p,P[26]=v,P[27]=T):T=P[27],P[28]!==T||P[29]!==C||P[30]!==g||P[31]!==f||P[32]!==b?(w=(0,t.jsxs)(t.Fragment,{children:[C,g,f,b,T]}),P[28]=T,P[29]=C,P[30]=g,P[31]=f,P[32]=b,P[33]=w):w=P[33],w},d=e=>{let r,n,c,s,i,l,h,x,d,m,C,g=(0,a.c)(29);return g[0]!==e.cert.cert?(r=new TextDecoder().decode(e.cert.cert),g[0]=e.cert.cert,g[1]=r):r=g[1],g[2]!==e?(n=t=>e.onChange({...e.cert,cert:new TextEncoder().encode(t)}),g[2]=e,g[3]=n):n=g[3],g[4]!==r||g[5]!==n?(c=(0,t.jsx)(o.SettingInputTextarea,{label:"Cert",value:r,onChange:n}),g[4]=r,g[5]=n,g[6]=c):c=g[6],g[7]!==e.cert.key?(s=new TextDecoder().decode(e.cert.key),g[7]=e.cert.key,g[8]=s):s=g[8],g[9]!==e?(i=t=>e.onChange({...e.cert,key:new TextEncoder().encode(t)}),g[9]=e,g[10]=i):i=g[10],g[11]!==s||g[12]!==i?(l=(0,t.jsx)(o.SettingInputTextarea,{label:"Key",value:s,onChange:i}),g[11]=s,g[12]=i,g[13]=l):l=g[13],g[14]!==e?(h=t=>e.onChange({...e.cert,certFilePath:t}),g[14]=e,g[15]=h):h=g[15],g[16]!==e.cert.certFilePath||g[17]!==h?(x=(0,t.jsx)(o.SettingInputText,{label:"Cert File",value:e.cert.certFilePath,onChange:h}),g[16]=e.cert.certFilePath,g[17]=h,g[18]=x):x=g[18],g[19]!==e?(d=t=>e.onChange({...e.cert,keyFilePath:t}),g[19]=e,g[20]=d):d=g[20],g[21]!==e.cert.keyFilePath||g[22]!==d?(m=(0,t.jsx)(o.SettingInputText,{label:"Key File",value:e.cert.keyFilePath,onChange:d}),g[21]=e.cert.keyFilePath,g[22]=d,g[23]=m):m=g[23],g[24]!==c||g[25]!==l||g[26]!==x||g[27]!==m?(C=(0,t.jsxs)(t.Fragment,{children:[c,l,x,m]}),g[24]=c,g[25]=l,g[26]=x,g[27]=m,g[28]=C):C=g[28],C};e.s(["TLSServerComponents",0,x,"UnWrapTls",0,e=>{let r,n,c=(0,a.c)(6),{value:s,onChange:i}=e;return c[0]!==i||c[1]!==s?(r=e=>i({...s,tls:e}),c[0]=i,c[1]=s,c[2]=r):r=c[2],c[3]!==r||c[4]!==s.tls?(n=(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(x,{tls:s.tls,onChange:r})}),c[3]=r,c[4]=s.tls,c[5]=n):n=c[5],n}])},16471,e=>{"use strict";var t=e.i(43476),a=e.i(932),r=e.i(91287),n=e.i(45535),c=e.i(56903),s=e.i(812),i=e.i(87196),l=e.i(75054),o=e.i(13407);e.s(["TLSAuto",0,e=>{let i,o,h,x,d,m,C,g,u,j,f,b,y,v,S,N,p,T,w,P,I=(0,a.c)(56),{tls:F,onChange:k}=e;I[0]!==k||I[1]!==F?(i=e=>{let t={...F};F.ech?t.ech={...F.ech}:t.ech=(0,r.create)(l.ech_configSchema,{}),e(t.ech),k({...t})},I[0]=k,I[1]=F,I[2]=i):i=I[2];let _=i;I[3]!==F.nextProtos?(o=F?.nextProtos??[],I[3]=F.nextProtos,I[4]=o):o=I[4],I[5]!==k||I[6]!==F?(h=e=>k({...F,nextProtos:e}),I[5]=k,I[6]=F,I[7]=h):h=I[7],I[8]!==o||I[9]!==h?(x=(0,t.jsx)(s.NewItemList,{title:"Next Protos",className:"mb-2",data:o,onChange:h}),I[8]=o,I[9]=h,I[10]=x):x=I[10],I[11]!==F.servernames?(d=F?.servernames??[],I[11]=F.servernames,I[12]=d):d=I[12],I[13]!==k||I[14]!==F?(m=e=>k({...F,servernames:e}),I[13]=k,I[14]=F,I[15]=m):m=I[15],I[16]!==d||I[17]!==m?(C=(0,t.jsx)(s.NewItemList,{title:"Servenames",className:"mb-2",data:d,onChange:m}),I[16]=d,I[17]=m,I[18]=C):C=I[18];let K=!!F.ech&&F.ech.enable;return I[19]!==_?(g=e=>_(t=>(t.enable=e,t)),I[19]=_,I[20]=g):g=I[20],I[21]!==K||I[22]!==g?(u=(0,t.jsx)(c.SettingCheck,{label:"ECH Enabled",checked:K,onChange:g}),I[21]=K,I[22]=g,I[23]=u):u=I[23],I[24]!==_||I[25]!==F.ech?(j=F.ech?.enable&&(0,t.jsx)(s.SettingInputText,{label:"ECH Outer SNI",value:F.ech?F.ech.OuterSNI:"",onChange:e=>_(t=>(t.OuterSNI=e,t))}),I[24]=_,I[25]=F.ech,I[26]=j):j=I[26],I[27]!==F.caCert?(f=new TextDecoder().decode(F.caCert),I[27]=F.caCert,I[28]=f):f=I[28],I[29]!==f?(b=(0,t.jsx)(s.SettingInputTextarea,{label:"CA Cert",value:f,readonly:!0}),I[29]=f,I[30]=b):b=I[30],I[31]!==F.caKey?(y=new TextDecoder().decode(F.caKey),I[31]=F.caKey,I[32]=y):y=I[32],I[33]!==y?(v=(0,t.jsx)(s.SettingInputTextarea,{label:"CA Key",value:y,readonly:!0,password:!0}),I[33]=y,I[34]=v):v=I[34],I[35]!==F.ech?(S=F.ech?btoa(String.fromCharCode(...F.ech?.config)):"",I[35]=F.ech,I[36]=S):S=I[36],I[37]!==S?(N=(0,t.jsx)(s.SettingInputText,{label:"ECH Config",value:S,readonly:!0}),I[37]=S,I[38]=N):N=I[38],I[39]!==F.ech?(p=F.ech?btoa(String.fromCharCode(...F.ech?.privateKey)):"",I[39]=F.ech,I[40]=p):p=I[40],I[41]!==p?(T=(0,t.jsx)(s.SettingInputText,{label:"ECH Key",value:p,readonly:!0,password:!0}),I[41]=p,I[42]=T):T=I[42],I[43]!==k||I[44]!==F?(w=(0,t.jsx)(n.Button,{variant:"outline-danger",onClick:()=>k({...F,caCert:new TextEncoder().encode(""),caKey:new TextEncoder().encode(""),ech:{...F.ech,config:new Uint8Array(0),privateKey:new Uint8Array(0)}}),children:"regenerate"}),I[43]=k,I[44]=F,I[45]=w):w=I[45],I[46]!==u||I[47]!==j||I[48]!==b||I[49]!==v||I[50]!==N||I[51]!==T||I[52]!==w||I[53]!==x||I[54]!==C?(P=(0,t.jsxs)(t.Fragment,{children:[x,C,u,j,b,v,N,T,w]}),I[46]=u,I[47]=j,I[48]=b,I[49]=v,I[50]=N,I[51]=T,I[52]=w,I[53]=x,I[54]=C,I[55]=P):P=I[55],P},"Tls",0,e=>{let n,c,l,h=(0,a.c)(6),{tls:x,onChange:d}=e;return h[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,t.jsx)(s.SettingInputText,{plaintext:!0,label:"Protocol",value:"TLS"}),h[0]=n):n=h[0],h[1]!==d||h[2]!==x?(c=x.tls&&(0,t.jsx)(i.TLSServerComponents,{tls:(0,r.create)(o.tls_server_configSchema,x.tls),onChange:e=>d({...x,tls:e})}),h[1]=d,h[2]=x,h[3]=c):c=h[3],h[4]!==c?(l=(0,t.jsxs)(t.Fragment,{children:[n,c]}),h[4]=c,h[5]=l):l=h[5],l}])},9707,e=>{e.n(e.i(16471))}]);