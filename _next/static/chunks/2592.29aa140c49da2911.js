"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2592],{17440:(e,s,a)=>{a.d(s,{DR:()=>l,G9:()=>h,bP:()=>i});var n=a(95155),t=a(12115),o=a(40705),r=a(30281);class h{getHashByName(e,s){let a=this.byName[e];return a?a[s]:""}getGroupByHash(e){let s=this.byHash[e];return s||{group:"",node:""}}getNodesByGroup(e){let s=this.byName[e];return s?Object.entries(s):[]}getGroups(){return Object.keys(this.byName)}constructor(e){if(this.byName={},this.byHash={},!e)return;for(let s of e.groups)for(let e of(this.byName[s.name]={},s.nodes))this.byName[s.name][e.name]=e.hash,this.byHash[e.hash]={group:s.name,node:e.name}}}let l=(0,t.createContext)(new h),i=e=>{let{hash:s,data:a,onChangeNode:h}=e,[l,i]=(0,t.useState)("");return(0,t.useEffect)(()=>{i(a.getGroupByHash(s).group)},[s,a]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.A,{label:"Group",className:"mb-2",children:(0,n.jsx)(r.FX,{emptyChoose:!0,value:l,onChange:e=>{i(e)},values:a.getGroups()})}),(0,n.jsx)(o.A,{label:"Node",children:(0,n.jsx)(r.FX,{emptyChoose:!0,value:s,onChange:e=>{h(e)},values:a.getNodesByGroup(l)})})]})}},92592:(e,s,a)=>{a.r(s),a.d(s,{Set:()=>u});var n=a(95155),t=a(47319),o=a(12115),r=a(79039),h=a(36947),l=a(63678),i=a(17440),d=a(30281),c=a(49288);let u=e=>{let{value:s,onChange:a}=e,l=(0,o.useContext)(i.DR),[u,g]=(0,o.useState)({show:!1,hash:"",onSave:()=>{}});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m,{show:u.show,hash:u.hash,nodes:l,onHide:()=>{g(e=>({...e,show:!1}))},onChange:e=>{g(s=>({...s,hash:e}))},onSave:()=>{u.onSave(u.hash),g(e=>({...e,show:!1}))}}),(0,n.jsx)(d.Vx,{label:"Mode",type:c.pm,value:s.strategy,onChange:e=>a({...s,strategy:e})}),(0,n.jsxs)(r.A,{variant:"flush",children:[s.nodes.map((e,o)=>(0,n.jsxs)(r.A.Item,{action:!0,className:"align-items-center d-flex justify-content-between",style:{border:"0ch",borderBottom:"1px solid #dee2e6"},onClick:()=>{g({show:!0,hash:e,onSave:e=>{let n=[...s.nodes];n[o]=e,a((0,t.v)(c.gP,{nodes:n}))}})},children:[e," - ",l.getGroupByHash(e).node,(0,n.jsx)(h.A,{variant:"outline-danger",as:"span",size:"sm",onClick:e=>{e.stopPropagation();let n=[...s.nodes];n.splice(o,1),a((0,t.v)(c.gP,{nodes:n}))},children:(0,n.jsx)("i",{className:"bi-trash"})})]},o)),(0,n.jsx)(r.A.Item,{className:"d-sm-flex",children:(0,n.jsxs)(h.A,{variant:"outline-success",className:"flex-grow-1",onClick:()=>{g({show:!0,hash:"",onSave:e=>{s.nodes.includes(e)||a((0,t.v)(c.gP,{nodes:[...s.nodes,e]}))}})},children:[(0,n.jsx)("i",{className:"bi bi-plus-lg"}),"Add"]})})]})]})},m=e=>{let{show:s,hash:a,nodes:t,onHide:o,onChange:r,onSave:d}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(l.A,{show:s,onHide:()=>{o()},centered:!0,children:[(0,n.jsx)(l.A.Body,{children:(0,n.jsx)(i.bP,{data:t,hash:a,onChangeNode:e=>{r(e)}})}),(0,n.jsxs)(l.A.Footer,{children:[(0,n.jsx)(h.A,{variant:"outline-secondary",onClick:()=>{o()},children:"Cancel"}),(0,n.jsx)(h.A,{variant:"outline-primary",onClick:()=>{d()},children:"Apply"})]})]})})}}}]);