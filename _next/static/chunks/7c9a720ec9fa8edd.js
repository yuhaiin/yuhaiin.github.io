(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},95494,e=>{"use strict";var t=e.i(43476),n=e.i(932),r=e.i(45535),s=e.i(5260);e.s(["ConfirmModal",0,e=>{let o,i,a,l,c,d=(0,n.c)(15),{onOk:u,content:m,show:h,onHide:f}=e;return d[0]!==m?(o=(0,t.jsx)(s.Modal.Body,{children:m}),d[0]=m,d[1]=o):o=d[1],d[2]!==f?(i=(0,t.jsx)(r.Button,{variant:"outline-secondary",onClick:()=>{f()},children:"Cancel"}),d[2]=f,d[3]=i):i=d[3],d[4]!==f||d[5]!==u?(a=(0,t.jsx)(r.Button,{variant:"outline-danger",onClick:()=>{u(),f()},children:"OK"}),d[4]=f,d[5]=u,d[6]=a):a=d[6],d[7]!==i||d[8]!==a?(l=(0,t.jsxs)(s.Modal.Footer,{children:[i,a]}),d[7]=i,d[8]=a,d[9]=l):l=d[9],d[10]!==f||d[11]!==h||d[12]!==o||d[13]!==l?(c=(0,t.jsxs)(s.Modal,{show:h,onHide:f,centered:!0,children:[o,l]}),d[10]=f,d[11]=h,d[12]=o,d[13]=l,d[14]=c):c=d[14],c}])},18818,e=>{"use strict";var t=e.i(7670),n=e.i(71645),r=e.i(36333),s=e.i(43476);let o=n.forwardRef(({bsPrefix:e,bg:n="primary",pill:o=!1,text:i,className:a,as:l="span",...c},d)=>{let u=(0,r.useBootstrapPrefix)(e,"badge");return(0,s.jsx)(l,{ref:d,...c,className:(0,t.default)(a,u,o&&"rounded-pill",i&&`text-${i}`,n&&`bg-${n}`)})});o.displayName="Badge",e.s(["Badge",0,o],18818)},98879,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});let r=e.r(71645),s="u"<typeof window,o=s?()=>{}:r.useLayoutEffect,i=s?()=>{}:r.useEffect;function a(e){let{headManager:t,reduceComponentsToState:n}=e;function a(){if(t&&t.mountedInstances){let e=r.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(n(e))}}return s&&(t?.mountedInstances?.add(e.children),a()),o(()=>(t?.mountedInstances?.add(e.children),()=>{t?.mountedInstances?.delete(e.children)})),o(()=>(t&&(t._pendingUpdate=a),()=>{t&&(t._pendingUpdate=a)})),i(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},25633,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={default:function(){return p},defaultHead:function(){return u}};for(var s in r)Object.defineProperty(n,s,{enumerable:!0,get:r[s]});let o=e.r(55682),i=e.r(90809),a=e.r(43476),l=i._(e.r(71645)),c=o._(e.r(98879)),d=e.r(42732);function u(){return[(0,a.jsx)("meta",{charSet:"utf-8"},"charset"),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function m(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===l.default.Fragment?e.concat(l.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}e.r(33525);let h=["name","httpEquiv","charSet","itemProp"];function f(e){let t,n,r,s;return e.reduce(m,[]).reverse().concat(u().reverse()).filter((t=new Set,n=new Set,r=new Set,s={},e=>{let o=!0,i=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){i=!0;let n=e.key.slice(e.key.indexOf("$")+1);t.has(n)?o=!1:t.add(n)}switch(e.type){case"title":case"base":n.has(e.type)?o=!1:n.add(e.type);break;case"meta":for(let t=0,n=h.length;t<n;t++){let n=h[t];if(e.props.hasOwnProperty(n))if("charSet"===n)r.has(n)?o=!1:r.add(n);else{let t=e.props[n],r=s[n]||new Set;("name"!==n||!i)&&r.has(t)?o=!1:(r.add(t),s[n]=r)}}}return o})).reverse().map((e,t)=>{let n=e.key||t;return l.default.cloneElement(e,{key:n})})}let p=function({children:e}){let t=(0,l.useContext)(d.HeadManagerContext);return(0,a.jsx)(c.default,{reduceComponentsToState:f,headManager:t,children:e})};("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},45760,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={NEXT_REQUEST_META:function(){return o},addRequestMeta:function(){return l},getRequestMeta:function(){return i},removeRequestMeta:function(){return c},setRequestMeta:function(){return a}};for(var s in r)Object.defineProperty(n,s,{enumerable:!0,get:r[s]});let o=Symbol.for("NextInternalRequestMeta");function i(e,t){let n=e[o]||{};return"string"==typeof t?n[t]:n}function a(e,t){return e[o]=t,t}function l(e,t,n){let r=i(e);return r[t]=n,a(e,r)}function c(e,t){let n=i(e);return delete n[t],a(e,n)}},50691,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return f}});let r=e.r(55682),s=e.r(43476),o=r._(e.r(71645)),i=r._(e.r(25633)),a={400:"Bad Request",404:"This page could not be found",405:"Method Not Allowed",500:"Internal Server Error"};function l({req:t,res:n,err:r}){let s,o=n&&n.statusCode?n.statusCode:r?r.statusCode:404;if("u">typeof window)s=window.location.hostname;else if(t){let{getRequestMeta:n}=e.r(45760),r=n(t,"initURL");r&&(s=new URL(r).hostname)}return{statusCode:o,hostname:s}}let c={fontFamily:'system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},d={lineHeight:"48px"},u={display:"inline-block",margin:"0 20px 0 0",paddingRight:23,fontSize:24,fontWeight:500,verticalAlign:"top"},m={fontSize:14,fontWeight:400,lineHeight:"28px"},h={display:"inline-block"};class f extends o.default.Component{static{this.displayName="ErrorPage"}static{this.getInitialProps=l}static{this.origGetInitialProps=l}render(){let{statusCode:e,withDarkMode:t=!0}=this.props,n=this.props.title||a[e]||"An unexpected error has occurred";return(0,s.jsxs)("div",{style:c,children:[(0,s.jsx)(i.default,{children:(0,s.jsx)("title",{children:e?`${e}: ${n}`:"Application error: a client-side exception has occurred"})}),(0,s.jsxs)("div",{style:d,children:[(0,s.jsx)("style",{dangerouslySetInnerHTML:{__html:`body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}${t?"@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}":""}`}}),e?(0,s.jsx)("h1",{className:"next-error-h1",style:u,children:e}):null,(0,s.jsx)("div",{style:h,children:(0,s.jsxs)("h2",{style:m,children:[this.props.title||e?n:(0,s.jsxs)(s.Fragment,{children:["Application error: a client-side exception has occurred"," ",!!this.props.hostname&&(0,s.jsxs)(s.Fragment,{children:["while loading ",this.props.hostname]})," ","(see the browser console for more information)"]}),"."]})})]})]})}}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},78438,(e,t,n)=>{t.exports=e.r(50691)},21257,e=>{"use strict";var t=e.i(43476),n=e.i(932),r=e.i(29707),s=e.i(91287),o=e.i(95901),i=e.i(78438),a=e.i(71645),l=e.i(18818),c=e.i(45535),d=e.i(95494),u=e.i(66702),m=e.i(70436),h=e.i(39848),f=e.i(77352),p=e.i(41703),x=e.i(24736);let g=e=>{let r,s,o,i,a,d,u,m,h,f,p,x,g,y,b,j=(0,n.c)(26),{v:_,onClose:v}=e;return j[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)("div",{className:"d-flex align-items-center justify-content-center bg-success bg-opacity-10 text-success rounded-circle flex-shrink-0 shadow-sm",style:{width:"40px",height:"40px"},children:(0,t.jsx)("i",{className:"bi bi-lightning-charge-fill"})}),j[0]=r):r=j[0],j[1]===Symbol.for("react.memo_cache_sentinel")?(s={minWidth:0},j[1]=s):s=j[1],j[2]!==_.name?(o=(0,t.jsx)("span",{className:"fw-bold text-truncate fs-6",children:_.name}),j[2]=_.name,j[3]=o):o=j[3],j[4]===Symbol.for("react.memo_cache_sentinel")?(i={fontSize:"0.65rem"},j[4]=i):i=j[4],j[5]!==_.group?(a=(0,t.jsx)(l.Badge,{bg:"primary",className:"bg-opacity-10 text-primary border border-primary border-opacity-25 px-2 py-1",style:i,children:_.group}),j[5]=_.group,j[6]=a):a=j[6],j[7]!==o||j[8]!==a?(d=(0,t.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-1",children:[o,a]}),j[7]=o,j[8]=a,j[9]=d):d=j[9],j[10]===Symbol.for("react.memo_cache_sentinel")?(u=(0,t.jsx)("i",{className:"bi bi-hash me-1"}),j[10]=u):u=j[10],j[11]!==_.hash?(m=(0,t.jsxs)("small",{className:"text-muted text-truncate font-monospace opacity-75",children:[u,_.hash]}),j[11]=_.hash,j[12]=m):m=j[12],j[13]!==d||j[14]!==m?(h=(0,t.jsxs)("div",{className:"d-flex align-items-center flex-grow-1 overflow-hidden gap-3 w-100 w-md-auto",children:[r,(0,t.jsxs)("div",{className:"d-flex flex-column overflow-hidden",style:s,children:[d,m]})]}),j[13]=d,j[14]=m,j[15]=h):h=j[15],j[16]!==v?(f=e=>{e.stopPropagation(),v()},j[16]=v,j[17]=f):f=j[17],j[18]===Symbol.for("react.memo_cache_sentinel")?(p={minWidth:"38px"},x=(0,t.jsx)("i",{className:"bi bi-power"}),g=(0,t.jsx)("span",{className:"d-none d-sm-inline ms-1",children:"Terminate"}),j[18]=p,j[19]=x,j[20]=g):(p=j[18],x=j[19],g=j[20]),j[21]!==f?(y=(0,t.jsx)("div",{className:"d-flex gap-2 align-items-center flex-shrink-0 ms-auto ms-md-0",children:(0,t.jsxs)(c.Button,{variant:"outline-danger",size:"sm",onClick:f,title:"Close this node connection",className:"d-flex align-items-center gap-2",style:p,children:[x,g]})}),j[21]=f,j[22]=y):y=j[22],j[23]!==y||j[24]!==h?(b=(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"d-flex w-100 flex-column flex-md-row align-items-start align-items-md-center justify-content-between gap-3",children:[h,y]})}),j[23]=y,j[24]=h,j[25]=b):b=j[25],b};function y(e,t){return e.hash.localeCompare(t.hash)}e.s(["default",0,function(e){let c,b,j,_,v,w,S,N,C,M,P,O,k,A,I,R,U,B,E=(0,n.c)(44),{showFooter:T}=e,H=void 0===T||T,F=(0,a.useContext)(m.GlobalToastContext),{data:$,error:q,isLoading:L,mutate:W}=(0,h.useProtoSWR)(p.node.method.activates);E[0]===Symbol.for("react.memo_cache_sentinel")?(c={hash:"",show:!1,point:(0,s.create)(x.pointSchema,{})},E[0]=c):c=E[0];let[z,K]=(0,a.useState)(c);E[1]===Symbol.for("react.memo_cache_sentinel")?(b={show:!1,name:""},E[1]=b):b=E[1];let[G,D]=(0,a.useState)(b);if(void 0!==q){let e;return E[2]!==q.code||E[3]!==q.msg?(e=(0,t.jsx)(i.default,{statusCode:q.code,title:q.msg}),E[2]=q.code,E[3]=q.msg,E[4]=e):e=E[4],e}if(L||void 0==$){let e;return E[5]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(u.default,{}),E[5]=e):e=E[5],e}E[6]!==F||E[7]!==W?(j=e=>{(0,h.FetchProtobuf)(p.node.method.close,(0,s.create)(o.StringValueSchema,{value:e})).then(async t=>{let{error:n}=t;void 0!==n?F.Error(`Failed to close node: ${n.msg}`):(F.Info(`Node ${e.substring(0,8)}... terminated`),await W()),D({show:!1,name:""})})},E[6]=F,E[7]=W,E[8]=j):j=E[8];let Q=j;return E[9]===Symbol.for("react.memo_cache_sentinel")?(_=(0,t.jsxs)("p",{className:"mb-1",children:["Are you sure you want to ",(0,t.jsx)("strong",{children:"terminate"})," this active node connection?"]}),E[9]=_):_=E[9],E[10]!==G.name?(v=(0,t.jsxs)("div",{className:"py-2",children:[_,(0,t.jsx)("code",{className:"small text-muted",children:G.name})]}),E[10]=G.name,E[11]=v):v=E[11],E[12]===Symbol.for("react.memo_cache_sentinel")?(w=()=>D({show:!1,name:""}),E[12]=w):w=E[12],E[13]!==G.name||E[14]!==Q?(S=()=>Q(G.name),E[13]=G.name,E[14]=Q,E[15]=S):S=E[15],E[16]!==G.show||E[17]!==v||E[18]!==S?(N=(0,t.jsx)(d.ConfirmModal,{show:G.show,content:v,onHide:w,onOk:S}),E[16]=G.show,E[17]=v,E[18]=S,E[19]=N):N=E[19],E[20]!==z?(C=()=>K({...z,show:!1}),E[20]=z,E[21]=C):C=E[21],E[22]!==z.hash||E[23]!==z.point||E[24]!==z.show||E[25]!==C?(M=(0,t.jsx)(f.NodeModal,{show:z.show,hash:z.hash,point:z.point,onHide:C}),E[22]=z.hash,E[23]=z.point,E[24]=z.show,E[25]=C,E[26]=M):M=E[26],E[27]!==$.nodes?(P=$.nodes.sort(y),E[27]=$.nodes,E[28]=P):P=E[28],E[29]===Symbol.for("react.memo_cache_sentinel")?(O=e=>(0,t.jsx)(g,{v:e,onClose:()=>D({show:!0,name:e.hash})}),k=e=>K({hash:e.hash,show:!0,point:e}),E[29]=O,E[30]=k):(O=E[29],k=E[30]),E[31]===Symbol.for("react.memo_cache_sentinel")?(A=(0,t.jsxs)("div",{children:[(0,t.jsx)("h5",{className:"mb-0 fw-bold",children:"Active Nodes"}),(0,t.jsx)("small",{className:"text-muted",children:"Live outbound connection instances"})]}),E[31]=A):A=E[31],E[32]!==$.nodes.length?(I=(0,t.jsxs)("div",{className:"d-flex align-items-center justify-content-between w-100",children:[A,(0,t.jsxs)(l.Badge,{bg:"success",className:"bg-opacity-10 text-success border border-success border-opacity-25 px-3 py-2 rounded-pill",children:[$.nodes.length," Running"]})]}),E[32]=$.nodes.length,E[33]=I):I=E[33],E[34]!==P||E[35]!==I?(R=(0,t.jsx)(r.CardList,{items:P,renderListItem:O,onClickItem:k,header:I}),E[34]=P,E[35]=I,E[36]=R):R=E[36],E[37]!==H?(U=H&&(0,t.jsx)("div",{className:"text-center mt-4 opacity-50 pb-5",children:(0,t.jsxs)("small",{className:"text-muted",children:[(0,t.jsx)("i",{className:"bi bi-info-circle me-1"}),"Closing a node here will force a reconnection if the rule still requires it."]})}),E[37]=H,E[38]=U):U=E[38],E[39]!==M||E[40]!==R||E[41]!==U||E[42]!==N?(B=(0,t.jsxs)(r.MainContainer,{children:[N,M,R,U]}),E[39]=M,E[40]=R,E[41]=U,E[42]=N,E[43]=B):B=E[43],B}])},32556,e=>{e.n(e.i(21257))}]);